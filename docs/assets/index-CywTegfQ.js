var T0=t=>{throw TypeError(t)};var np=(t,e,n)=>e.has(t)||T0("Cannot "+n);var z=(t,e,n)=>(np(t,e,"read from private field"),n?n.call(t):e.get(t)),be=(t,e,n)=>e.has(t)?T0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),pe=(t,e,n,r)=>(np(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Tt=(t,e,n)=>(np(t,e,"access private method"),n);var fu=(t,e,n,r)=>({set _(s){pe(t,e,s,n)},get _(){return z(t,e,r)}});function V2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function mT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gT={exports:{}},kh={},yT={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pc=Symbol.for("react.element"),j2=Symbol.for("react.portal"),F2=Symbol.for("react.fragment"),U2=Symbol.for("react.strict_mode"),$2=Symbol.for("react.profiler"),z2=Symbol.for("react.provider"),B2=Symbol.for("react.context"),H2=Symbol.for("react.forward_ref"),W2=Symbol.for("react.suspense"),q2=Symbol.for("react.memo"),G2=Symbol.for("react.lazy"),x0=Symbol.iterator;function K2(t){return t===null||typeof t!="object"?null:(t=x0&&t[x0]||t["@@iterator"],typeof t=="function"?t:null)}var vT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_T=Object.assign,wT={};function Ea(t,e,n){this.props=t,this.context=e,this.refs=wT,this.updater=n||vT}Ea.prototype.isReactComponent={};Ea.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ea.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ET(){}ET.prototype=Ea.prototype;function Wg(t,e,n){this.props=t,this.context=e,this.refs=wT,this.updater=n||vT}var qg=Wg.prototype=new ET;qg.constructor=Wg;_T(qg,Ea.prototype);qg.isPureReactComponent=!0;var S0=Array.isArray,TT=Object.prototype.hasOwnProperty,Gg={current:null},xT={key:!0,ref:!0,__self:!0,__source:!0};function ST(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)TT.call(e,r)&&!xT.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Pc,type:t,key:i,ref:o,props:s,_owner:Gg.current}}function Q2(t,e){return{$$typeof:Pc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Kg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Pc}function Z2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var C0=/\/+/g;function rp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Z2(""+t.key):e.toString(36)}function qu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Pc:case j2:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+rp(o,0):r,S0(s)?(n="",t!=null&&(n=t.replace(C0,"$&/")+"/"),qu(s,e,n,"",function(u){return u})):s!=null&&(Kg(s)&&(s=Q2(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(C0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",S0(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+rp(i,a);o+=qu(i,e,n,l,s)}else if(l=K2(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+rp(i,a++),o+=qu(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function pu(t,e,n){if(t==null)return t;var r=[],s=0;return qu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Y2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Bt={current:null},Gu={transition:null},X2={ReactCurrentDispatcher:Bt,ReactCurrentBatchConfig:Gu,ReactCurrentOwner:Gg};function CT(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:pu,forEach:function(t,e,n){pu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pu(t,function(){e++}),e},toArray:function(t){return pu(t,function(e){return e})||[]},only:function(t){if(!Kg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=Ea;ge.Fragment=F2;ge.Profiler=$2;ge.PureComponent=Wg;ge.StrictMode=U2;ge.Suspense=W2;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X2;ge.act=CT;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_T({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Gg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)TT.call(e,l)&&!xT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Pc,type:t.type,key:s,ref:i,props:r,_owner:o}};ge.createContext=function(t){return t={$$typeof:B2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:z2,_context:t},t.Consumer=t};ge.createElement=ST;ge.createFactory=function(t){var e=ST.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:H2,render:t}};ge.isValidElement=Kg;ge.lazy=function(t){return{$$typeof:G2,_payload:{_status:-1,_result:t},_init:Y2}};ge.memo=function(t,e){return{$$typeof:q2,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=Gu.transition;Gu.transition={};try{t()}finally{Gu.transition=e}};ge.unstable_act=CT;ge.useCallback=function(t,e){return Bt.current.useCallback(t,e)};ge.useContext=function(t){return Bt.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return Bt.current.useDeferredValue(t)};ge.useEffect=function(t,e){return Bt.current.useEffect(t,e)};ge.useId=function(){return Bt.current.useId()};ge.useImperativeHandle=function(t,e,n){return Bt.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return Bt.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return Bt.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return Bt.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return Bt.current.useReducer(t,e,n)};ge.useRef=function(t){return Bt.current.useRef(t)};ge.useState=function(t){return Bt.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return Bt.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return Bt.current.useTransition()};ge.version="18.3.1";yT.exports=ge;var g=yT.exports;const Ft=mT(g),IT=V2({__proto__:null,default:Ft},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J2=g,ek=Symbol.for("react.element"),tk=Symbol.for("react.fragment"),nk=Object.prototype.hasOwnProperty,rk=J2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sk={key:!0,ref:!0,__self:!0,__source:!0};function bT(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)nk.call(e,r)&&!sk.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:ek,type:t,key:i,ref:o,props:s,_owner:rk.current}}kh.Fragment=tk;kh.jsx=bT;kh.jsxs=bT;gT.exports=kh;var y=gT.exports,AT={exports:{}},cn={},RT={exports:{}},PT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,F){var K=j.length;j.push(F);e:for(;0<K;){var ne=K-1>>>1,ve=j[ne];if(0<s(ve,F))j[ne]=F,j[K]=ve,K=ne;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var F=j[0],K=j.pop();if(K!==F){j[0]=K;e:for(var ne=0,ve=j.length,ut=ve>>>1;ne<ut;){var Ze=2*(ne+1)-1,dn=j[Ze],it=Ze+1,dt=j[it];if(0>s(dn,K))it<ve&&0>s(dt,dn)?(j[ne]=dt,j[it]=K,ne=it):(j[ne]=dn,j[Ze]=K,ne=Ze);else if(it<ve&&0>s(dt,K))j[ne]=dt,j[it]=K,ne=it;else break e}}return F}function s(j,F){var K=j.sortIndex-F.sortIndex;return K!==0?K:j.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,p=3,v=!1,x=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(j){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=j)r(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(u)}}function k(j){if(_=!1,C(j),!x)if(n(l)!==null)x=!0,re(O);else{var F=n(u);F!==null&&Te(k,F.startTime-j)}}function O(j,F){x=!1,_&&(_=!1,w(T),T=-1),v=!0;var K=p;try{for(C(F),h=n(l);h!==null&&(!(h.expirationTime>F)||j&&!N());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,p=h.priorityLevel;var ve=ne(h.expirationTime<=F);F=t.unstable_now(),typeof ve=="function"?h.callback=ve:h===n(l)&&r(l),C(F)}else r(l);h=n(l)}if(h!==null)var ut=!0;else{var Ze=n(u);Ze!==null&&Te(k,Ze.startTime-F),ut=!1}return ut}finally{h=null,p=K,v=!1}}var M=!1,I=null,T=-1,b=5,R=-1;function N(){return!(t.unstable_now()-R<b)}function D(){if(I!==null){var j=t.unstable_now();R=j;var F=!0;try{F=I(!0,j)}finally{F?P():(M=!1,I=null)}}else M=!1}var P;if(typeof E=="function")P=function(){E(D)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ue=W.port2;W.port1.onmessage=D,P=function(){ue.postMessage(null)}}else P=function(){S(D,0)};function re(j){I=j,M||(M=!0,P())}function Te(j,F){T=S(function(){j(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,re(O))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var K=p;p=F;try{return j()}finally{p=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,F){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var K=p;p=j;try{return F()}finally{p=K}},t.unstable_scheduleCallback=function(j,F,K){var ne=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ne+K:ne):K=ne,j){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=K+ve,j={id:d++,callback:F,priorityLevel:j,startTime:K,expirationTime:ve,sortIndex:-1},K>ne?(j.sortIndex=K,e(u,j),n(l)===null&&j===n(u)&&(_?(w(T),T=-1):_=!0,Te(k,K-ne))):(j.sortIndex=ve,e(l,j),x||v||(x=!0,re(O))),j},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(j){var F=p;return function(){var K=p;p=F;try{return j.apply(this,arguments)}finally{p=K}}}})(PT);RT.exports=PT;var ik=RT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ok=g,ln=ik;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kT=new Set,Ll={};function Wi(t,e){Jo(t,e),Jo(t+"Capture",e)}function Jo(t,e){for(Ll[t]=e,t=0;t<e.length;t++)kT.add(e[t])}var $r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),am=Object.prototype.hasOwnProperty,ak=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I0={},b0={};function lk(t){return am.call(b0,t)?!0:am.call(I0,t)?!1:ak.test(t)?b0[t]=!0:(I0[t]=!0,!1)}function ck(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function uk(t,e,n,r){if(e===null||typeof e>"u"||ck(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ht(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wt[t]=new Ht(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wt[e]=new Ht(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wt[t]=new Ht(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wt[t]=new Ht(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wt[t]=new Ht(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){wt[t]=new Ht(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){wt[t]=new Ht(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){wt[t]=new Ht(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){wt[t]=new Ht(t,5,!1,t.toLowerCase(),null,!1,!1)});var Qg=/[\-:]([a-z])/g;function Zg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Qg,Zg);wt[e]=new Ht(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Qg,Zg);wt[e]=new Ht(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Qg,Zg);wt[e]=new Ht(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){wt[t]=new Ht(t,1,!1,t.toLowerCase(),null,!1,!1)});wt.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){wt[t]=new Ht(t,1,!1,t.toLowerCase(),null,!0,!0)});function Yg(t,e,n,r){var s=wt.hasOwnProperty(e)?wt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uk(e,n,s,r)&&(n=null),r||s===null?lk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xr=ok.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mu=Symbol.for("react.element"),mo=Symbol.for("react.portal"),go=Symbol.for("react.fragment"),Xg=Symbol.for("react.strict_mode"),lm=Symbol.for("react.profiler"),NT=Symbol.for("react.provider"),OT=Symbol.for("react.context"),Jg=Symbol.for("react.forward_ref"),cm=Symbol.for("react.suspense"),um=Symbol.for("react.suspense_list"),ey=Symbol.for("react.memo"),ds=Symbol.for("react.lazy"),DT=Symbol.for("react.offscreen"),A0=Symbol.iterator;function Ja(t){return t===null||typeof t!="object"?null:(t=A0&&t[A0]||t["@@iterator"],typeof t=="function"?t:null)}var We=Object.assign,sp;function cl(t){if(sp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sp=e&&e[1]||""}return`
`+sp+t}var ip=!1;function op(t,e){if(!t||ip)return"";ip=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ip=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?cl(t):""}function dk(t){switch(t.tag){case 5:return cl(t.type);case 16:return cl("Lazy");case 13:return cl("Suspense");case 19:return cl("SuspenseList");case 0:case 2:case 15:return t=op(t.type,!1),t;case 11:return t=op(t.type.render,!1),t;case 1:return t=op(t.type,!0),t;default:return""}}function dm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case go:return"Fragment";case mo:return"Portal";case lm:return"Profiler";case Xg:return"StrictMode";case cm:return"Suspense";case um:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case OT:return(t.displayName||"Context")+".Consumer";case NT:return(t._context.displayName||"Context")+".Provider";case Jg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ey:return e=t.displayName||null,e!==null?e:dm(t.type)||"Memo";case ds:e=t._payload,t=t._init;try{return dm(t(e))}catch{}}return null}function hk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dm(e);case 8:return e===Xg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function js(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function MT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fk(t){var e=MT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gu(t){t._valueTracker||(t._valueTracker=fk(t))}function LT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=MT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hm(t,e){var n=e.checked;return We({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function R0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=js(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function VT(t,e){e=e.checked,e!=null&&Yg(t,"checked",e,!1)}function fm(t,e){VT(t,e);var n=js(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?pm(t,e.type,n):e.hasOwnProperty("defaultValue")&&pm(t,e.type,js(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function P0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function pm(t,e,n){(e!=="number"||wd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ul=Array.isArray;function Ao(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+js(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function mm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return We({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function k0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(ul(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:js(n)}}function jT(t,e){var n=js(e.value),r=js(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function N0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function FT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?FT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yu,UT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yu=yu||document.createElement("div"),yu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Vl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var wl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pk=["Webkit","ms","Moz","O"];Object.keys(wl).forEach(function(t){pk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wl[e]=wl[t]})});function $T(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||wl.hasOwnProperty(t)&&wl[t]?(""+e).trim():e+"px"}function zT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=$T(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var mk=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ym(t,e){if(e){if(mk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function vm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _m=null;function ty(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wm=null,Ro=null,Po=null;function O0(t){if(t=Oc(t)){if(typeof wm!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Lh(e),wm(t.stateNode,t.type,e))}}function BT(t){Ro?Po?Po.push(t):Po=[t]:Ro=t}function HT(){if(Ro){var t=Ro,e=Po;if(Po=Ro=null,O0(t),e)for(t=0;t<e.length;t++)O0(e[t])}}function WT(t,e){return t(e)}function qT(){}var ap=!1;function GT(t,e,n){if(ap)return t(e,n);ap=!0;try{return WT(t,e,n)}finally{ap=!1,(Ro!==null||Po!==null)&&(qT(),HT())}}function jl(t,e){var n=t.stateNode;if(n===null)return null;var r=Lh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Em=!1;if($r)try{var el={};Object.defineProperty(el,"passive",{get:function(){Em=!0}}),window.addEventListener("test",el,el),window.removeEventListener("test",el,el)}catch{Em=!1}function gk(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var El=!1,Ed=null,Td=!1,Tm=null,yk={onError:function(t){El=!0,Ed=t}};function vk(t,e,n,r,s,i,o,a,l){El=!1,Ed=null,gk.apply(yk,arguments)}function _k(t,e,n,r,s,i,o,a,l){if(vk.apply(this,arguments),El){if(El){var u=Ed;El=!1,Ed=null}else throw Error(H(198));Td||(Td=!0,Tm=u)}}function qi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function KT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function D0(t){if(qi(t)!==t)throw Error(H(188))}function wk(t){var e=t.alternate;if(!e){if(e=qi(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return D0(s),t;if(i===r)return D0(s),e;i=i.sibling}throw Error(H(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function QT(t){return t=wk(t),t!==null?ZT(t):null}function ZT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ZT(t);if(e!==null)return e;t=t.sibling}return null}var YT=ln.unstable_scheduleCallback,M0=ln.unstable_cancelCallback,Ek=ln.unstable_shouldYield,Tk=ln.unstable_requestPaint,Je=ln.unstable_now,xk=ln.unstable_getCurrentPriorityLevel,ny=ln.unstable_ImmediatePriority,XT=ln.unstable_UserBlockingPriority,xd=ln.unstable_NormalPriority,Sk=ln.unstable_LowPriority,JT=ln.unstable_IdlePriority,Nh=null,ir=null;function Ck(t){if(ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(Nh,t,void 0,(t.current.flags&128)===128)}catch{}}var jn=Math.clz32?Math.clz32:Ak,Ik=Math.log,bk=Math.LN2;function Ak(t){return t>>>=0,t===0?32:31-(Ik(t)/bk|0)|0}var vu=64,_u=4194304;function dl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=dl(a):(i&=o,i!==0&&(r=dl(i)))}else o=n&~s,o!==0?r=dl(o):i!==0&&(r=dl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-jn(e),s=1<<n,r|=t[n],e&=~s;return r}function Rk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-jn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Rk(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function xm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ex(){var t=vu;return vu<<=1,!(vu&4194240)&&(vu=64),t}function lp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function kc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-jn(e),t[e]=n}function kk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-jn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function ry(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-jn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Re=0;function tx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nx,sy,rx,sx,ix,Sm=!1,wu=[],Is=null,bs=null,As=null,Fl=new Map,Ul=new Map,fs=[],Nk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function L0(t,e){switch(t){case"focusin":case"focusout":Is=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":As=null;break;case"pointerover":case"pointerout":Fl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(e.pointerId)}}function tl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Oc(e),e!==null&&sy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Ok(t,e,n,r,s){switch(e){case"focusin":return Is=tl(Is,t,e,n,r,s),!0;case"dragenter":return bs=tl(bs,t,e,n,r,s),!0;case"mouseover":return As=tl(As,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Fl.set(i,tl(Fl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ul.set(i,tl(Ul.get(i)||null,t,e,n,r,s)),!0}return!1}function ox(t){var e=pi(t.target);if(e!==null){var n=qi(e);if(n!==null){if(e=n.tag,e===13){if(e=KT(n),e!==null){t.blockedOn=e,ix(t.priority,function(){rx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ku(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Cm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);_m=r,n.target.dispatchEvent(r),_m=null}else return e=Oc(n),e!==null&&sy(e),t.blockedOn=n,!1;e.shift()}return!0}function V0(t,e,n){Ku(t)&&n.delete(e)}function Dk(){Sm=!1,Is!==null&&Ku(Is)&&(Is=null),bs!==null&&Ku(bs)&&(bs=null),As!==null&&Ku(As)&&(As=null),Fl.forEach(V0),Ul.forEach(V0)}function nl(t,e){t.blockedOn===e&&(t.blockedOn=null,Sm||(Sm=!0,ln.unstable_scheduleCallback(ln.unstable_NormalPriority,Dk)))}function $l(t){function e(s){return nl(s,t)}if(0<wu.length){nl(wu[0],t);for(var n=1;n<wu.length;n++){var r=wu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Is!==null&&nl(Is,t),bs!==null&&nl(bs,t),As!==null&&nl(As,t),Fl.forEach(e),Ul.forEach(e),n=0;n<fs.length;n++)r=fs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<fs.length&&(n=fs[0],n.blockedOn===null);)ox(n),n.blockedOn===null&&fs.shift()}var ko=Xr.ReactCurrentBatchConfig,Cd=!0;function Mk(t,e,n,r){var s=Re,i=ko.transition;ko.transition=null;try{Re=1,iy(t,e,n,r)}finally{Re=s,ko.transition=i}}function Lk(t,e,n,r){var s=Re,i=ko.transition;ko.transition=null;try{Re=4,iy(t,e,n,r)}finally{Re=s,ko.transition=i}}function iy(t,e,n,r){if(Cd){var s=Cm(t,e,n,r);if(s===null)vp(t,e,r,Id,n),L0(t,r);else if(Ok(s,t,e,n,r))r.stopPropagation();else if(L0(t,r),e&4&&-1<Nk.indexOf(t)){for(;s!==null;){var i=Oc(s);if(i!==null&&nx(i),i=Cm(t,e,n,r),i===null&&vp(t,e,r,Id,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else vp(t,e,r,null,n)}}var Id=null;function Cm(t,e,n,r){if(Id=null,t=ty(r),t=pi(t),t!==null)if(e=qi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=KT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Id=t,null}function ax(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xk()){case ny:return 1;case XT:return 4;case xd:case Sk:return 16;case JT:return 536870912;default:return 16}default:return 16}}var xs=null,oy=null,Qu=null;function lx(){if(Qu)return Qu;var t,e=oy,n=e.length,r,s="value"in xs?xs.value:xs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Qu=s.slice(t,1<r?1-r:void 0)}function Zu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Eu(){return!0}function j0(){return!1}function un(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Eu:j0,this.isPropagationStopped=j0,this}return We(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Eu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Eu)},persist:function(){},isPersistent:Eu}),e}var Ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ay=un(Ta),Nc=We({},Ta,{view:0,detail:0}),Vk=un(Nc),cp,up,rl,Oh=We({},Nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ly,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rl&&(rl&&t.type==="mousemove"?(cp=t.screenX-rl.screenX,up=t.screenY-rl.screenY):up=cp=0,rl=t),cp)},movementY:function(t){return"movementY"in t?t.movementY:up}}),F0=un(Oh),jk=We({},Oh,{dataTransfer:0}),Fk=un(jk),Uk=We({},Nc,{relatedTarget:0}),dp=un(Uk),$k=We({},Ta,{animationName:0,elapsedTime:0,pseudoElement:0}),zk=un($k),Bk=We({},Ta,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Hk=un(Bk),Wk=We({},Ta,{data:0}),U0=un(Wk),qk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Kk[t])?!!e[t]:!1}function ly(){return Qk}var Zk=We({},Nc,{key:function(t){if(t.key){var e=qk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Gk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ly,charCode:function(t){return t.type==="keypress"?Zu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Yk=un(Zk),Xk=We({},Oh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$0=un(Xk),Jk=We({},Nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ly}),eN=un(Jk),tN=We({},Ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),nN=un(tN),rN=We({},Oh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sN=un(rN),iN=[9,13,27,32],cy=$r&&"CompositionEvent"in window,Tl=null;$r&&"documentMode"in document&&(Tl=document.documentMode);var oN=$r&&"TextEvent"in window&&!Tl,cx=$r&&(!cy||Tl&&8<Tl&&11>=Tl),z0=" ",B0=!1;function ux(t,e){switch(t){case"keyup":return iN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yo=!1;function aN(t,e){switch(t){case"compositionend":return dx(e);case"keypress":return e.which!==32?null:(B0=!0,z0);case"textInput":return t=e.data,t===z0&&B0?null:t;default:return null}}function lN(t,e){if(yo)return t==="compositionend"||!cy&&ux(t,e)?(t=lx(),Qu=oy=xs=null,yo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cx&&e.locale!=="ko"?null:e.data;default:return null}}var cN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function H0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cN[t.type]:e==="textarea"}function hx(t,e,n,r){BT(r),e=bd(e,"onChange"),0<e.length&&(n=new ay("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var xl=null,zl=null;function uN(t){xx(t,0)}function Dh(t){var e=wo(t);if(LT(e))return t}function dN(t,e){if(t==="change")return e}var fx=!1;if($r){var hp;if($r){var fp="oninput"in document;if(!fp){var W0=document.createElement("div");W0.setAttribute("oninput","return;"),fp=typeof W0.oninput=="function"}hp=fp}else hp=!1;fx=hp&&(!document.documentMode||9<document.documentMode)}function q0(){xl&&(xl.detachEvent("onpropertychange",px),zl=xl=null)}function px(t){if(t.propertyName==="value"&&Dh(zl)){var e=[];hx(e,zl,t,ty(t)),GT(uN,e)}}function hN(t,e,n){t==="focusin"?(q0(),xl=e,zl=n,xl.attachEvent("onpropertychange",px)):t==="focusout"&&q0()}function fN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Dh(zl)}function pN(t,e){if(t==="click")return Dh(e)}function mN(t,e){if(t==="input"||t==="change")return Dh(e)}function gN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zn=typeof Object.is=="function"?Object.is:gN;function Bl(t,e){if(zn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!am.call(e,s)||!zn(t[s],e[s]))return!1}return!0}function G0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function K0(t,e){var n=G0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=G0(n)}}function mx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gx(){for(var t=window,e=wd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wd(t.document)}return e}function uy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yN(t){var e=gx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&mx(n.ownerDocument.documentElement,n)){if(r!==null&&uy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=K0(n,i);var o=K0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vN=$r&&"documentMode"in document&&11>=document.documentMode,vo=null,Im=null,Sl=null,bm=!1;function Q0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bm||vo==null||vo!==wd(r)||(r=vo,"selectionStart"in r&&uy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sl&&Bl(Sl,r)||(Sl=r,r=bd(Im,"onSelect"),0<r.length&&(e=new ay("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=vo)))}function Tu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _o={animationend:Tu("Animation","AnimationEnd"),animationiteration:Tu("Animation","AnimationIteration"),animationstart:Tu("Animation","AnimationStart"),transitionend:Tu("Transition","TransitionEnd")},pp={},yx={};$r&&(yx=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function Mh(t){if(pp[t])return pp[t];if(!_o[t])return t;var e=_o[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in yx)return pp[t]=e[n];return t}var vx=Mh("animationend"),_x=Mh("animationiteration"),wx=Mh("animationstart"),Ex=Mh("transitionend"),Tx=new Map,Z0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ei(t,e){Tx.set(t,e),Wi(e,[t])}for(var mp=0;mp<Z0.length;mp++){var gp=Z0[mp],_N=gp.toLowerCase(),wN=gp[0].toUpperCase()+gp.slice(1);ei(_N,"on"+wN)}ei(vx,"onAnimationEnd");ei(_x,"onAnimationIteration");ei(wx,"onAnimationStart");ei("dblclick","onDoubleClick");ei("focusin","onFocus");ei("focusout","onBlur");ei(Ex,"onTransitionEnd");Jo("onMouseEnter",["mouseout","mouseover"]);Jo("onMouseLeave",["mouseout","mouseover"]);Jo("onPointerEnter",["pointerout","pointerover"]);Jo("onPointerLeave",["pointerout","pointerover"]);Wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EN=new Set("cancel close invalid load scroll toggle".split(" ").concat(hl));function Y0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,_k(r,e,void 0,t),t.currentTarget=null}function xx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Y0(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Y0(s,a,u),i=l}}}if(Td)throw t=Tm,Td=!1,Tm=null,t}function Le(t,e){var n=e[Nm];n===void 0&&(n=e[Nm]=new Set);var r=t+"__bubble";n.has(r)||(Sx(e,t,2,!1),n.add(r))}function yp(t,e,n){var r=0;e&&(r|=4),Sx(n,t,r,e)}var xu="_reactListening"+Math.random().toString(36).slice(2);function Hl(t){if(!t[xu]){t[xu]=!0,kT.forEach(function(n){n!=="selectionchange"&&(EN.has(n)||yp(n,!1,t),yp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xu]||(e[xu]=!0,yp("selectionchange",!1,e))}}function Sx(t,e,n,r){switch(ax(e)){case 1:var s=Mk;break;case 4:s=Lk;break;default:s=iy}n=s.bind(null,e,n,t),s=void 0,!Em||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function vp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=pi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}GT(function(){var u=i,d=ty(n),h=[];e:{var p=Tx.get(t);if(p!==void 0){var v=ay,x=t;switch(t){case"keypress":if(Zu(n)===0)break e;case"keydown":case"keyup":v=Yk;break;case"focusin":x="focus",v=dp;break;case"focusout":x="blur",v=dp;break;case"beforeblur":case"afterblur":v=dp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=F0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Fk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=eN;break;case vx:case _x:case wx:v=zk;break;case Ex:v=nN;break;case"scroll":v=Vk;break;case"wheel":v=sN;break;case"copy":case"cut":case"paste":v=Hk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=$0}var _=(e&4)!==0,S=!_&&t==="scroll",w=_?p!==null?p+"Capture":null:p;_=[];for(var E=u,C;E!==null;){C=E;var k=C.stateNode;if(C.tag===5&&k!==null&&(C=k,w!==null&&(k=jl(E,w),k!=null&&_.push(Wl(E,k,C)))),S)break;E=E.return}0<_.length&&(p=new v(p,x,null,n,d),h.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==_m&&(x=n.relatedTarget||n.fromElement)&&(pi(x)||x[zr]))break e;if((v||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=u,x=x?pi(x):null,x!==null&&(S=qi(x),x!==S||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=u),v!==x)){if(_=F0,k="onMouseLeave",w="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(_=$0,k="onPointerLeave",w="onPointerEnter",E="pointer"),S=v==null?p:wo(v),C=x==null?p:wo(x),p=new _(k,E+"leave",v,n,d),p.target=S,p.relatedTarget=C,k=null,pi(d)===u&&(_=new _(w,E+"enter",x,n,d),_.target=C,_.relatedTarget=S,k=_),S=k,v&&x)t:{for(_=v,w=x,E=0,C=_;C;C=so(C))E++;for(C=0,k=w;k;k=so(k))C++;for(;0<E-C;)_=so(_),E--;for(;0<C-E;)w=so(w),C--;for(;E--;){if(_===w||w!==null&&_===w.alternate)break t;_=so(_),w=so(w)}_=null}else _=null;v!==null&&X0(h,p,v,_,!1),x!==null&&S!==null&&X0(h,S,x,_,!0)}}e:{if(p=u?wo(u):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var O=dN;else if(H0(p))if(fx)O=mN;else{O=fN;var M=hN}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=pN);if(O&&(O=O(t,u))){hx(h,O,n,d);break e}M&&M(t,p,u),t==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&pm(p,"number",p.value)}switch(M=u?wo(u):window,t){case"focusin":(H0(M)||M.contentEditable==="true")&&(vo=M,Im=u,Sl=null);break;case"focusout":Sl=Im=vo=null;break;case"mousedown":bm=!0;break;case"contextmenu":case"mouseup":case"dragend":bm=!1,Q0(h,n,d);break;case"selectionchange":if(vN)break;case"keydown":case"keyup":Q0(h,n,d)}var I;if(cy)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else yo?ux(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(cx&&n.locale!=="ko"&&(yo||T!=="onCompositionStart"?T==="onCompositionEnd"&&yo&&(I=lx()):(xs=d,oy="value"in xs?xs.value:xs.textContent,yo=!0)),M=bd(u,T),0<M.length&&(T=new U0(T,t,null,n,d),h.push({event:T,listeners:M}),I?T.data=I:(I=dx(n),I!==null&&(T.data=I)))),(I=oN?aN(t,n):lN(t,n))&&(u=bd(u,"onBeforeInput"),0<u.length&&(d=new U0("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=I))}xx(h,e)})}function Wl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=jl(t,n),i!=null&&r.unshift(Wl(t,i,s)),i=jl(t,e),i!=null&&r.push(Wl(t,i,s))),t=t.return}return r}function so(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function X0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=jl(n,i),l!=null&&o.unshift(Wl(n,l,a))):s||(l=jl(n,i),l!=null&&o.push(Wl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var TN=/\r\n?/g,xN=/\u0000|\uFFFD/g;function J0(t){return(typeof t=="string"?t:""+t).replace(TN,`
`).replace(xN,"")}function Su(t,e,n){if(e=J0(e),J0(t)!==e&&n)throw Error(H(425))}function Ad(){}var Am=null,Rm=null;function Pm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var km=typeof setTimeout=="function"?setTimeout:void 0,SN=typeof clearTimeout=="function"?clearTimeout:void 0,e1=typeof Promise=="function"?Promise:void 0,CN=typeof queueMicrotask=="function"?queueMicrotask:typeof e1<"u"?function(t){return e1.resolve(null).then(t).catch(IN)}:km;function IN(t){setTimeout(function(){throw t})}function _p(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),$l(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);$l(e)}function Rs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function t1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xa=Math.random().toString(36).slice(2),nr="__reactFiber$"+xa,ql="__reactProps$"+xa,zr="__reactContainer$"+xa,Nm="__reactEvents$"+xa,bN="__reactListeners$"+xa,AN="__reactHandles$"+xa;function pi(t){var e=t[nr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[zr]||n[nr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=t1(t);t!==null;){if(n=t[nr])return n;t=t1(t)}return e}t=n,n=t.parentNode}return null}function Oc(t){return t=t[nr]||t[zr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Lh(t){return t[ql]||null}var Om=[],Eo=-1;function ti(t){return{current:t}}function je(t){0>Eo||(t.current=Om[Eo],Om[Eo]=null,Eo--)}function Oe(t,e){Eo++,Om[Eo]=t.current,t.current=e}var Fs={},Pt=ti(Fs),Qt=ti(!1),Pi=Fs;function ea(t,e){var n=t.type.contextTypes;if(!n)return Fs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Zt(t){return t=t.childContextTypes,t!=null}function Rd(){je(Qt),je(Pt)}function n1(t,e,n){if(Pt.current!==Fs)throw Error(H(168));Oe(Pt,e),Oe(Qt,n)}function Cx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(H(108,hk(t)||"Unknown",s));return We({},n,r)}function Pd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fs,Pi=Pt.current,Oe(Pt,t),Oe(Qt,Qt.current),!0}function r1(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=Cx(t,e,Pi),r.__reactInternalMemoizedMergedChildContext=t,je(Qt),je(Pt),Oe(Pt,t)):je(Qt),Oe(Qt,n)}var Or=null,Vh=!1,wp=!1;function Ix(t){Or===null?Or=[t]:Or.push(t)}function RN(t){Vh=!0,Ix(t)}function ni(){if(!wp&&Or!==null){wp=!0;var t=0,e=Re;try{var n=Or;for(Re=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Or=null,Vh=!1}catch(s){throw Or!==null&&(Or=Or.slice(t+1)),YT(ny,ni),s}finally{Re=e,wp=!1}}return null}var To=[],xo=0,kd=null,Nd=0,fn=[],pn=0,ki=null,Mr=1,Lr="";function ui(t,e){To[xo++]=Nd,To[xo++]=kd,kd=t,Nd=e}function bx(t,e,n){fn[pn++]=Mr,fn[pn++]=Lr,fn[pn++]=ki,ki=t;var r=Mr;t=Lr;var s=32-jn(r)-1;r&=~(1<<s),n+=1;var i=32-jn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Mr=1<<32-jn(e)+s|n<<s|r,Lr=i+t}else Mr=1<<i|n<<s|r,Lr=t}function dy(t){t.return!==null&&(ui(t,1),bx(t,1,0))}function hy(t){for(;t===kd;)kd=To[--xo],To[xo]=null,Nd=To[--xo],To[xo]=null;for(;t===ki;)ki=fn[--pn],fn[pn]=null,Lr=fn[--pn],fn[pn]=null,Mr=fn[--pn],fn[pn]=null}var sn=null,rn=null,Fe=!1,Nn=null;function Ax(t,e){var n=_n(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function s1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,sn=t,rn=Rs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,sn=t,rn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ki!==null?{id:Mr,overflow:Lr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=_n(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,sn=t,rn=null,!0):!1;default:return!1}}function Dm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Mm(t){if(Fe){var e=rn;if(e){var n=e;if(!s1(t,e)){if(Dm(t))throw Error(H(418));e=Rs(n.nextSibling);var r=sn;e&&s1(t,e)?Ax(r,n):(t.flags=t.flags&-4097|2,Fe=!1,sn=t)}}else{if(Dm(t))throw Error(H(418));t.flags=t.flags&-4097|2,Fe=!1,sn=t}}}function i1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;sn=t}function Cu(t){if(t!==sn)return!1;if(!Fe)return i1(t),Fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Pm(t.type,t.memoizedProps)),e&&(e=rn)){if(Dm(t))throw Rx(),Error(H(418));for(;e;)Ax(t,e),e=Rs(e.nextSibling)}if(i1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){rn=Rs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}rn=null}}else rn=sn?Rs(t.stateNode.nextSibling):null;return!0}function Rx(){for(var t=rn;t;)t=Rs(t.nextSibling)}function ta(){rn=sn=null,Fe=!1}function fy(t){Nn===null?Nn=[t]:Nn.push(t)}var PN=Xr.ReactCurrentBatchConfig;function sl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function Iu(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function o1(t){var e=t._init;return e(t._payload)}function Px(t){function e(w,E){if(t){var C=w.deletions;C===null?(w.deletions=[E],w.flags|=16):C.push(E)}}function n(w,E){if(!t)return null;for(;E!==null;)e(w,E),E=E.sibling;return null}function r(w,E){for(w=new Map;E!==null;)E.key!==null?w.set(E.key,E):w.set(E.index,E),E=E.sibling;return w}function s(w,E){return w=Os(w,E),w.index=0,w.sibling=null,w}function i(w,E,C){return w.index=C,t?(C=w.alternate,C!==null?(C=C.index,C<E?(w.flags|=2,E):C):(w.flags|=2,E)):(w.flags|=1048576,E)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,E,C,k){return E===null||E.tag!==6?(E=bp(C,w.mode,k),E.return=w,E):(E=s(E,C),E.return=w,E)}function l(w,E,C,k){var O=C.type;return O===go?d(w,E,C.props.children,k,C.key):E!==null&&(E.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ds&&o1(O)===E.type)?(k=s(E,C.props),k.ref=sl(w,E,C),k.return=w,k):(k=rd(C.type,C.key,C.props,null,w.mode,k),k.ref=sl(w,E,C),k.return=w,k)}function u(w,E,C,k){return E===null||E.tag!==4||E.stateNode.containerInfo!==C.containerInfo||E.stateNode.implementation!==C.implementation?(E=Ap(C,w.mode,k),E.return=w,E):(E=s(E,C.children||[]),E.return=w,E)}function d(w,E,C,k,O){return E===null||E.tag!==7?(E=Si(C,w.mode,k,O),E.return=w,E):(E=s(E,C),E.return=w,E)}function h(w,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return E=bp(""+E,w.mode,C),E.return=w,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case mu:return C=rd(E.type,E.key,E.props,null,w.mode,C),C.ref=sl(w,null,E),C.return=w,C;case mo:return E=Ap(E,w.mode,C),E.return=w,E;case ds:var k=E._init;return h(w,k(E._payload),C)}if(ul(E)||Ja(E))return E=Si(E,w.mode,C,null),E.return=w,E;Iu(w,E)}return null}function p(w,E,C,k){var O=E!==null?E.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return O!==null?null:a(w,E,""+C,k);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case mu:return C.key===O?l(w,E,C,k):null;case mo:return C.key===O?u(w,E,C,k):null;case ds:return O=C._init,p(w,E,O(C._payload),k)}if(ul(C)||Ja(C))return O!==null?null:d(w,E,C,k,null);Iu(w,C)}return null}function v(w,E,C,k,O){if(typeof k=="string"&&k!==""||typeof k=="number")return w=w.get(C)||null,a(E,w,""+k,O);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case mu:return w=w.get(k.key===null?C:k.key)||null,l(E,w,k,O);case mo:return w=w.get(k.key===null?C:k.key)||null,u(E,w,k,O);case ds:var M=k._init;return v(w,E,C,M(k._payload),O)}if(ul(k)||Ja(k))return w=w.get(C)||null,d(E,w,k,O,null);Iu(E,k)}return null}function x(w,E,C,k){for(var O=null,M=null,I=E,T=E=0,b=null;I!==null&&T<C.length;T++){I.index>T?(b=I,I=null):b=I.sibling;var R=p(w,I,C[T],k);if(R===null){I===null&&(I=b);break}t&&I&&R.alternate===null&&e(w,I),E=i(R,E,T),M===null?O=R:M.sibling=R,M=R,I=b}if(T===C.length)return n(w,I),Fe&&ui(w,T),O;if(I===null){for(;T<C.length;T++)I=h(w,C[T],k),I!==null&&(E=i(I,E,T),M===null?O=I:M.sibling=I,M=I);return Fe&&ui(w,T),O}for(I=r(w,I);T<C.length;T++)b=v(I,w,T,C[T],k),b!==null&&(t&&b.alternate!==null&&I.delete(b.key===null?T:b.key),E=i(b,E,T),M===null?O=b:M.sibling=b,M=b);return t&&I.forEach(function(N){return e(w,N)}),Fe&&ui(w,T),O}function _(w,E,C,k){var O=Ja(C);if(typeof O!="function")throw Error(H(150));if(C=O.call(C),C==null)throw Error(H(151));for(var M=O=null,I=E,T=E=0,b=null,R=C.next();I!==null&&!R.done;T++,R=C.next()){I.index>T?(b=I,I=null):b=I.sibling;var N=p(w,I,R.value,k);if(N===null){I===null&&(I=b);break}t&&I&&N.alternate===null&&e(w,I),E=i(N,E,T),M===null?O=N:M.sibling=N,M=N,I=b}if(R.done)return n(w,I),Fe&&ui(w,T),O;if(I===null){for(;!R.done;T++,R=C.next())R=h(w,R.value,k),R!==null&&(E=i(R,E,T),M===null?O=R:M.sibling=R,M=R);return Fe&&ui(w,T),O}for(I=r(w,I);!R.done;T++,R=C.next())R=v(I,w,T,R.value,k),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?T:R.key),E=i(R,E,T),M===null?O=R:M.sibling=R,M=R);return t&&I.forEach(function(D){return e(w,D)}),Fe&&ui(w,T),O}function S(w,E,C,k){if(typeof C=="object"&&C!==null&&C.type===go&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case mu:e:{for(var O=C.key,M=E;M!==null;){if(M.key===O){if(O=C.type,O===go){if(M.tag===7){n(w,M.sibling),E=s(M,C.props.children),E.return=w,w=E;break e}}else if(M.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ds&&o1(O)===M.type){n(w,M.sibling),E=s(M,C.props),E.ref=sl(w,M,C),E.return=w,w=E;break e}n(w,M);break}else e(w,M);M=M.sibling}C.type===go?(E=Si(C.props.children,w.mode,k,C.key),E.return=w,w=E):(k=rd(C.type,C.key,C.props,null,w.mode,k),k.ref=sl(w,E,C),k.return=w,w=k)}return o(w);case mo:e:{for(M=C.key;E!==null;){if(E.key===M)if(E.tag===4&&E.stateNode.containerInfo===C.containerInfo&&E.stateNode.implementation===C.implementation){n(w,E.sibling),E=s(E,C.children||[]),E.return=w,w=E;break e}else{n(w,E);break}else e(w,E);E=E.sibling}E=Ap(C,w.mode,k),E.return=w,w=E}return o(w);case ds:return M=C._init,S(w,E,M(C._payload),k)}if(ul(C))return x(w,E,C,k);if(Ja(C))return _(w,E,C,k);Iu(w,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,E!==null&&E.tag===6?(n(w,E.sibling),E=s(E,C),E.return=w,w=E):(n(w,E),E=bp(C,w.mode,k),E.return=w,w=E),o(w)):n(w,E)}return S}var na=Px(!0),kx=Px(!1),Od=ti(null),Dd=null,So=null,py=null;function my(){py=So=Dd=null}function gy(t){var e=Od.current;je(Od),t._currentValue=e}function Lm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function No(t,e){Dd=t,py=So=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Kt=!0),t.firstContext=null)}function Tn(t){var e=t._currentValue;if(py!==t)if(t={context:t,memoizedValue:e,next:null},So===null){if(Dd===null)throw Error(H(308));So=t,Dd.dependencies={lanes:0,firstContext:t}}else So=So.next=t;return e}var mi=null;function yy(t){mi===null?mi=[t]:mi.push(t)}function Nx(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,yy(e)):(n.next=s.next,s.next=n),e.interleaved=n,Br(t,r)}function Br(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var hs=!1;function vy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ox(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ur(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ps(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Br(t,n)}return s=r.interleaved,s===null?(e.next=e,yy(r)):(e.next=s.next,s.next=e),r.interleaved=e,Br(t,n)}function Yu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ry(t,n)}}function a1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Md(t,e,n,r){var s=t.updateQueue;hs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var p=a.lane,v=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,_=a;switch(p=e,v=n,_.tag){case 1:if(x=_.payload,typeof x=="function"){h=x.call(v,h,p);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=_.payload,p=typeof x=="function"?x.call(v,h,p):x,p==null)break e;h=We({},h,p);break e;case 2:hs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else v={eventTime:v,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=v,l=h):d=d.next=v,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Oi|=o,t.lanes=o,t.memoizedState=h}}function l1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(H(191,s));s.call(r)}}}var Dc={},or=ti(Dc),Gl=ti(Dc),Kl=ti(Dc);function gi(t){if(t===Dc)throw Error(H(174));return t}function _y(t,e){switch(Oe(Kl,e),Oe(Gl,t),Oe(or,Dc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:gm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=gm(e,t)}je(or),Oe(or,e)}function ra(){je(or),je(Gl),je(Kl)}function Dx(t){gi(Kl.current);var e=gi(or.current),n=gm(e,t.type);e!==n&&(Oe(Gl,t),Oe(or,n))}function wy(t){Gl.current===t&&(je(or),je(Gl))}var $e=ti(0);function Ld(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ep=[];function Ey(){for(var t=0;t<Ep.length;t++)Ep[t]._workInProgressVersionPrimary=null;Ep.length=0}var Xu=Xr.ReactCurrentDispatcher,Tp=Xr.ReactCurrentBatchConfig,Ni=0,He=null,at=null,pt=null,Vd=!1,Cl=!1,Ql=0,kN=0;function xt(){throw Error(H(321))}function Ty(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!zn(t[n],e[n]))return!1;return!0}function xy(t,e,n,r,s,i){if(Ni=i,He=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xu.current=t===null||t.memoizedState===null?MN:LN,t=n(r,s),Cl){i=0;do{if(Cl=!1,Ql=0,25<=i)throw Error(H(301));i+=1,pt=at=null,e.updateQueue=null,Xu.current=VN,t=n(r,s)}while(Cl)}if(Xu.current=jd,e=at!==null&&at.next!==null,Ni=0,pt=at=He=null,Vd=!1,e)throw Error(H(300));return t}function Sy(){var t=Ql!==0;return Ql=0,t}function Yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?He.memoizedState=pt=t:pt=pt.next=t,pt}function xn(){if(at===null){var t=He.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var e=pt===null?He.memoizedState:pt.next;if(e!==null)pt=e,at=t;else{if(t===null)throw Error(H(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},pt===null?He.memoizedState=pt=t:pt=pt.next=t}return pt}function Zl(t,e){return typeof e=="function"?e(t):e}function xp(t){var e=xn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=at,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Ni&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,He.lanes|=d,Oi|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,zn(r,e.memoizedState)||(Kt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,He.lanes|=i,Oi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Sp(t){var e=xn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);zn(i,e.memoizedState)||(Kt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Mx(){}function Lx(t,e){var n=He,r=xn(),s=e(),i=!zn(r.memoizedState,s);if(i&&(r.memoizedState=s,Kt=!0),r=r.queue,Cy(Fx.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||pt!==null&&pt.memoizedState.tag&1){if(n.flags|=2048,Yl(9,jx.bind(null,n,r,s,e),void 0,null),mt===null)throw Error(H(349));Ni&30||Vx(n,e,s)}return s}function Vx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function jx(t,e,n,r){e.value=n,e.getSnapshot=r,Ux(e)&&$x(t)}function Fx(t,e,n){return n(function(){Ux(e)&&$x(t)})}function Ux(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!zn(t,n)}catch{return!0}}function $x(t){var e=Br(t,1);e!==null&&Fn(e,t,1,-1)}function c1(t){var e=Yn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zl,lastRenderedState:t},e.queue=t,t=t.dispatch=DN.bind(null,He,t),[e.memoizedState,t]}function Yl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function zx(){return xn().memoizedState}function Ju(t,e,n,r){var s=Yn();He.flags|=t,s.memoizedState=Yl(1|e,n,void 0,r===void 0?null:r)}function jh(t,e,n,r){var s=xn();r=r===void 0?null:r;var i=void 0;if(at!==null){var o=at.memoizedState;if(i=o.destroy,r!==null&&Ty(r,o.deps)){s.memoizedState=Yl(e,n,i,r);return}}He.flags|=t,s.memoizedState=Yl(1|e,n,i,r)}function u1(t,e){return Ju(8390656,8,t,e)}function Cy(t,e){return jh(2048,8,t,e)}function Bx(t,e){return jh(4,2,t,e)}function Hx(t,e){return jh(4,4,t,e)}function Wx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qx(t,e,n){return n=n!=null?n.concat([t]):null,jh(4,4,Wx.bind(null,e,t),n)}function Iy(){}function Gx(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ty(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Kx(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ty(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Qx(t,e,n){return Ni&21?(zn(n,e)||(n=ex(),He.lanes|=n,Oi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Kt=!0),t.memoizedState=n)}function NN(t,e){var n=Re;Re=n!==0&&4>n?n:4,t(!0);var r=Tp.transition;Tp.transition={};try{t(!1),e()}finally{Re=n,Tp.transition=r}}function Zx(){return xn().memoizedState}function ON(t,e,n){var r=Ns(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yx(t))Xx(e,n);else if(n=Nx(t,e,n,r),n!==null){var s=$t();Fn(n,t,r,s),Jx(n,e,r)}}function DN(t,e,n){var r=Ns(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yx(t))Xx(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,zn(a,o)){var l=e.interleaved;l===null?(s.next=s,yy(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Nx(t,e,s,r),n!==null&&(s=$t(),Fn(n,t,r,s),Jx(n,e,r))}}function Yx(t){var e=t.alternate;return t===He||e!==null&&e===He}function Xx(t,e){Cl=Vd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Jx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ry(t,n)}}var jd={readContext:Tn,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},MN={readContext:Tn,useCallback:function(t,e){return Yn().memoizedState=[t,e===void 0?null:e],t},useContext:Tn,useEffect:u1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ju(4194308,4,Wx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ju(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ju(4,2,t,e)},useMemo:function(t,e){var n=Yn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Yn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ON.bind(null,He,t),[r.memoizedState,t]},useRef:function(t){var e=Yn();return t={current:t},e.memoizedState=t},useState:c1,useDebugValue:Iy,useDeferredValue:function(t){return Yn().memoizedState=t},useTransition:function(){var t=c1(!1),e=t[0];return t=NN.bind(null,t[1]),Yn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=He,s=Yn();if(Fe){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),mt===null)throw Error(H(349));Ni&30||Vx(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,u1(Fx.bind(null,r,i,t),[t]),r.flags|=2048,Yl(9,jx.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Yn(),e=mt.identifierPrefix;if(Fe){var n=Lr,r=Mr;n=(r&~(1<<32-jn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ql++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=kN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},LN={readContext:Tn,useCallback:Gx,useContext:Tn,useEffect:Cy,useImperativeHandle:qx,useInsertionEffect:Bx,useLayoutEffect:Hx,useMemo:Kx,useReducer:xp,useRef:zx,useState:function(){return xp(Zl)},useDebugValue:Iy,useDeferredValue:function(t){var e=xn();return Qx(e,at.memoizedState,t)},useTransition:function(){var t=xp(Zl)[0],e=xn().memoizedState;return[t,e]},useMutableSource:Mx,useSyncExternalStore:Lx,useId:Zx,unstable_isNewReconciler:!1},VN={readContext:Tn,useCallback:Gx,useContext:Tn,useEffect:Cy,useImperativeHandle:qx,useInsertionEffect:Bx,useLayoutEffect:Hx,useMemo:Kx,useReducer:Sp,useRef:zx,useState:function(){return Sp(Zl)},useDebugValue:Iy,useDeferredValue:function(t){var e=xn();return at===null?e.memoizedState=t:Qx(e,at.memoizedState,t)},useTransition:function(){var t=Sp(Zl)[0],e=xn().memoizedState;return[t,e]},useMutableSource:Mx,useSyncExternalStore:Lx,useId:Zx,unstable_isNewReconciler:!1};function An(t,e){if(t&&t.defaultProps){e=We({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Vm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:We({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Fh={isMounted:function(t){return(t=t._reactInternals)?qi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=$t(),s=Ns(t),i=Ur(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ps(t,i,s),e!==null&&(Fn(e,t,s,r),Yu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=$t(),s=Ns(t),i=Ur(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ps(t,i,s),e!==null&&(Fn(e,t,s,r),Yu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$t(),r=Ns(t),s=Ur(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ps(t,s,r),e!==null&&(Fn(e,t,r,n),Yu(e,t,r))}};function d1(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Bl(n,r)||!Bl(s,i):!0}function eS(t,e,n){var r=!1,s=Fs,i=e.contextType;return typeof i=="object"&&i!==null?i=Tn(i):(s=Zt(e)?Pi:Pt.current,r=e.contextTypes,i=(r=r!=null)?ea(t,s):Fs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function h1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Fh.enqueueReplaceState(e,e.state,null)}function jm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},vy(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Tn(i):(i=Zt(e)?Pi:Pt.current,s.context=ea(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Vm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Fh.enqueueReplaceState(s,s.state,null),Md(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function sa(t,e){try{var n="",r=e;do n+=dk(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Cp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Fm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var jN=typeof WeakMap=="function"?WeakMap:Map;function tS(t,e,n){n=Ur(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ud||(Ud=!0,Qm=r),Fm(t,e)},n}function nS(t,e,n){n=Ur(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Fm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Fm(t,e),typeof r!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function f1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new jN;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=XN.bind(null,t,e,n),e.then(t,t))}function p1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function m1(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ur(-1,1),e.tag=2,Ps(n,e,1))),n.lanes|=1),t)}var FN=Xr.ReactCurrentOwner,Kt=!1;function jt(t,e,n,r){e.child=t===null?kx(e,null,n,r):na(e,t.child,n,r)}function g1(t,e,n,r,s){n=n.render;var i=e.ref;return No(e,s),r=xy(t,e,n,r,i,s),n=Sy(),t!==null&&!Kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Hr(t,e,s)):(Fe&&n&&dy(e),e.flags|=1,jt(t,e,r,s),e.child)}function y1(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Dy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,rS(t,e,i,r,s)):(t=rd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Bl,n(o,r)&&t.ref===e.ref)return Hr(t,e,s)}return e.flags|=1,t=Os(i,r),t.ref=e.ref,t.return=e,e.child=t}function rS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Bl(i,r)&&t.ref===e.ref)if(Kt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Kt=!0);else return e.lanes=t.lanes,Hr(t,e,s)}return Um(t,e,n,r,s)}function sS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(Io,tn),tn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Oe(Io,tn),tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Oe(Io,tn),tn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Oe(Io,tn),tn|=r;return jt(t,e,s,n),e.child}function iS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Um(t,e,n,r,s){var i=Zt(n)?Pi:Pt.current;return i=ea(e,i),No(e,s),n=xy(t,e,n,r,i,s),r=Sy(),t!==null&&!Kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Hr(t,e,s)):(Fe&&r&&dy(e),e.flags|=1,jt(t,e,n,s),e.child)}function v1(t,e,n,r,s){if(Zt(n)){var i=!0;Pd(e)}else i=!1;if(No(e,s),e.stateNode===null)ed(t,e),eS(e,n,r),jm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Tn(u):(u=Zt(n)?Pi:Pt.current,u=ea(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&h1(e,o,r,u),hs=!1;var p=e.memoizedState;o.state=p,Md(e,r,o,s),l=e.memoizedState,a!==r||p!==l||Qt.current||hs?(typeof d=="function"&&(Vm(e,n,d,r),l=e.memoizedState),(a=hs||d1(e,n,a,r,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Ox(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:An(e.type,a),o.props=u,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Tn(l):(l=Zt(n)?Pi:Pt.current,l=ea(e,l));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&h1(e,o,r,l),hs=!1,p=e.memoizedState,o.state=p,Md(e,r,o,s);var x=e.memoizedState;a!==h||p!==x||Qt.current||hs?(typeof v=="function"&&(Vm(e,n,v,r),x=e.memoizedState),(u=hs||d1(e,n,u,r,p,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return $m(t,e,n,r,i,s)}function $m(t,e,n,r,s,i){iS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&r1(e,n,!1),Hr(t,e,i);r=e.stateNode,FN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=na(e,t.child,null,i),e.child=na(e,null,a,i)):jt(t,e,a,i),e.memoizedState=r.state,s&&r1(e,n,!0),e.child}function oS(t){var e=t.stateNode;e.pendingContext?n1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&n1(t,e.context,!1),_y(t,e.containerInfo)}function _1(t,e,n,r,s){return ta(),fy(s),e.flags|=256,jt(t,e,n,r),e.child}var zm={dehydrated:null,treeContext:null,retryLane:0};function Bm(t){return{baseLanes:t,cachePool:null,transitions:null}}function aS(t,e,n){var r=e.pendingProps,s=$e.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Oe($e,s&1),t===null)return Mm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=zh(o,r,0,null),t=Si(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Bm(n),e.memoizedState=zm,t):by(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return UN(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Os(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Os(a,i):(i=Si(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Bm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=zm,r}return i=t.child,t=i.sibling,r=Os(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function by(t,e){return e=zh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function bu(t,e,n,r){return r!==null&&fy(r),na(e,t.child,null,n),t=by(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function UN(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Cp(Error(H(422))),bu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=zh({mode:"visible",children:r.children},s,0,null),i=Si(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&na(e,t.child,null,o),e.child.memoizedState=Bm(o),e.memoizedState=zm,i);if(!(e.mode&1))return bu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(H(419)),r=Cp(i,r,void 0),bu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Kt||a){if(r=mt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Br(t,s),Fn(r,t,s,-1))}return Oy(),r=Cp(Error(H(421))),bu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=JN.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,rn=Rs(s.nextSibling),sn=e,Fe=!0,Nn=null,t!==null&&(fn[pn++]=Mr,fn[pn++]=Lr,fn[pn++]=ki,Mr=t.id,Lr=t.overflow,ki=e),e=by(e,r.children),e.flags|=4096,e)}function w1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Lm(t.return,e,n)}function Ip(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function lS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(jt(t,e,r.children,n),r=$e.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&w1(t,n,e);else if(t.tag===19)w1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Oe($e,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ld(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ip(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ld(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ip(e,!0,n,null,i);break;case"together":Ip(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ed(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Hr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Oi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=Os(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Os(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $N(t,e,n){switch(e.tag){case 3:oS(e),ta();break;case 5:Dx(e);break;case 1:Zt(e.type)&&Pd(e);break;case 4:_y(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Oe(Od,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Oe($e,$e.current&1),e.flags|=128,null):n&e.child.childLanes?aS(t,e,n):(Oe($e,$e.current&1),t=Hr(t,e,n),t!==null?t.sibling:null);Oe($e,$e.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return lS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Oe($e,$e.current),r)break;return null;case 22:case 23:return e.lanes=0,sS(t,e,n)}return Hr(t,e,n)}var cS,Hm,uS,dS;cS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hm=function(){};uS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,gi(or.current);var i=null;switch(n){case"input":s=hm(t,s),r=hm(t,r),i=[];break;case"select":s=We({},s,{value:void 0}),r=We({},r,{value:void 0}),i=[];break;case"textarea":s=mm(t,s),r=mm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ad)}ym(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ll.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ll.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Le("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};dS=function(t,e,n,r){n!==r&&(e.flags|=4)};function il(t,e){if(!Fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function St(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function zN(t,e,n){var r=e.pendingProps;switch(hy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(e),null;case 1:return Zt(e.type)&&Rd(),St(e),null;case 3:return r=e.stateNode,ra(),je(Qt),je(Pt),Ey(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Cu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Nn!==null&&(Xm(Nn),Nn=null))),Hm(t,e),St(e),null;case 5:wy(e);var s=gi(Kl.current);if(n=e.type,t!==null&&e.stateNode!=null)uS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return St(e),null}if(t=gi(or.current),Cu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[nr]=e,r[ql]=i,t=(e.mode&1)!==0,n){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(s=0;s<hl.length;s++)Le(hl[s],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":R0(r,i),Le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Le("invalid",r);break;case"textarea":k0(r,i),Le("invalid",r)}ym(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Su(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Su(r.textContent,a,t),s=["children",""+a]):Ll.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Le("scroll",r)}switch(n){case"input":gu(r),P0(r,i,!0);break;case"textarea":gu(r),N0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ad)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=FT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[nr]=e,t[ql]=r,cS(t,e,!1,!1),e.stateNode=t;e:{switch(o=vm(n,r),n){case"dialog":Le("cancel",t),Le("close",t),s=r;break;case"iframe":case"object":case"embed":Le("load",t),s=r;break;case"video":case"audio":for(s=0;s<hl.length;s++)Le(hl[s],t);s=r;break;case"source":Le("error",t),s=r;break;case"img":case"image":case"link":Le("error",t),Le("load",t),s=r;break;case"details":Le("toggle",t),s=r;break;case"input":R0(t,r),s=hm(t,r),Le("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=We({},r,{value:void 0}),Le("invalid",t);break;case"textarea":k0(t,r),s=mm(t,r),Le("invalid",t);break;default:s=r}ym(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?zT(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&UT(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Vl(t,l):typeof l=="number"&&Vl(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ll.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Le("scroll",t):l!=null&&Yg(t,i,l,o))}switch(n){case"input":gu(t),P0(t,r,!1);break;case"textarea":gu(t),N0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+js(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ao(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ao(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ad)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return St(e),null;case 6:if(t&&e.stateNode!=null)dS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=gi(Kl.current),gi(or.current),Cu(e)){if(r=e.stateNode,n=e.memoizedProps,r[nr]=e,(i=r.nodeValue!==n)&&(t=sn,t!==null))switch(t.tag){case 3:Su(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Su(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[nr]=e,e.stateNode=r}return St(e),null;case 13:if(je($e),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fe&&rn!==null&&e.mode&1&&!(e.flags&128))Rx(),ta(),e.flags|=98560,i=!1;else if(i=Cu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(H(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[nr]=e}else ta(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;St(e),i=!1}else Nn!==null&&(Xm(Nn),Nn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||$e.current&1?lt===0&&(lt=3):Oy())),e.updateQueue!==null&&(e.flags|=4),St(e),null);case 4:return ra(),Hm(t,e),t===null&&Hl(e.stateNode.containerInfo),St(e),null;case 10:return gy(e.type._context),St(e),null;case 17:return Zt(e.type)&&Rd(),St(e),null;case 19:if(je($e),i=e.memoizedState,i===null)return St(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)il(i,!1);else{if(lt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ld(t),o!==null){for(e.flags|=128,il(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Oe($e,$e.current&1|2),e.child}t=t.sibling}i.tail!==null&&Je()>ia&&(e.flags|=128,r=!0,il(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ld(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),il(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Fe)return St(e),null}else 2*Je()-i.renderingStartTime>ia&&n!==1073741824&&(e.flags|=128,r=!0,il(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Je(),e.sibling=null,n=$e.current,Oe($e,r?n&1|2:n&1),e):(St(e),null);case 22:case 23:return Ny(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?tn&1073741824&&(St(e),e.subtreeFlags&6&&(e.flags|=8192)):St(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function BN(t,e){switch(hy(e),e.tag){case 1:return Zt(e.type)&&Rd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ra(),je(Qt),je(Pt),Ey(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return wy(e),null;case 13:if(je($e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));ta()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return je($e),null;case 4:return ra(),null;case 10:return gy(e.type._context),null;case 22:case 23:return Ny(),null;case 24:return null;default:return null}}var Au=!1,At=!1,HN=typeof WeakSet=="function"?WeakSet:Set,X=null;function Co(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Qe(t,e,r)}else n.current=null}function Wm(t,e,n){try{n()}catch(r){Qe(t,e,r)}}var E1=!1;function WN(t,e){if(Am=Cd,t=gx(),uy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)p=h,h=v;for(;;){if(h===t)break t;if(p===n&&++u===s&&(a=o),p===i&&++d===r&&(l=o),(v=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rm={focusedElem:t,selectionRange:n},Cd=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var _=x.memoizedProps,S=x.memoizedState,w=e.stateNode,E=w.getSnapshotBeforeUpdate(e.elementType===e.type?_:An(e.type,_),S);w.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(k){Qe(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return x=E1,E1=!1,x}function Il(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Wm(e,n,i)}s=s.next}while(s!==r)}}function Uh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function qm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function hS(t){var e=t.alternate;e!==null&&(t.alternate=null,hS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[nr],delete e[ql],delete e[Nm],delete e[bN],delete e[AN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fS(t){return t.tag===5||t.tag===3||t.tag===4}function T1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ad));else if(r!==4&&(t=t.child,t!==null))for(Gm(t,e,n),t=t.sibling;t!==null;)Gm(t,e,n),t=t.sibling}function Km(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Km(t,e,n),t=t.sibling;t!==null;)Km(t,e,n),t=t.sibling}var gt=null,kn=!1;function is(t,e,n){for(n=n.child;n!==null;)pS(t,e,n),n=n.sibling}function pS(t,e,n){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(Nh,n)}catch{}switch(n.tag){case 5:At||Co(n,e);case 6:var r=gt,s=kn;gt=null,is(t,e,n),gt=r,kn=s,gt!==null&&(kn?(t=gt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):gt.removeChild(n.stateNode));break;case 18:gt!==null&&(kn?(t=gt,n=n.stateNode,t.nodeType===8?_p(t.parentNode,n):t.nodeType===1&&_p(t,n),$l(t)):_p(gt,n.stateNode));break;case 4:r=gt,s=kn,gt=n.stateNode.containerInfo,kn=!0,is(t,e,n),gt=r,kn=s;break;case 0:case 11:case 14:case 15:if(!At&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Wm(n,e,o),s=s.next}while(s!==r)}is(t,e,n);break;case 1:if(!At&&(Co(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Qe(n,e,a)}is(t,e,n);break;case 21:is(t,e,n);break;case 22:n.mode&1?(At=(r=At)||n.memoizedState!==null,is(t,e,n),At=r):is(t,e,n);break;default:is(t,e,n)}}function x1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new HN),e.forEach(function(r){var s=e4.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function bn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:gt=a.stateNode,kn=!1;break e;case 3:gt=a.stateNode.containerInfo,kn=!0;break e;case 4:gt=a.stateNode.containerInfo,kn=!0;break e}a=a.return}if(gt===null)throw Error(H(160));pS(i,o,s),gt=null,kn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Qe(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mS(e,t),e=e.sibling}function mS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bn(e,t),Zn(t),r&4){try{Il(3,t,t.return),Uh(3,t)}catch(_){Qe(t,t.return,_)}try{Il(5,t,t.return)}catch(_){Qe(t,t.return,_)}}break;case 1:bn(e,t),Zn(t),r&512&&n!==null&&Co(n,n.return);break;case 5:if(bn(e,t),Zn(t),r&512&&n!==null&&Co(n,n.return),t.flags&32){var s=t.stateNode;try{Vl(s,"")}catch(_){Qe(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&VT(s,i),vm(a,o);var u=vm(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?zT(s,h):d==="dangerouslySetInnerHTML"?UT(s,h):d==="children"?Vl(s,h):Yg(s,d,h,u)}switch(a){case"input":fm(s,i);break;case"textarea":jT(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Ao(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?Ao(s,!!i.multiple,i.defaultValue,!0):Ao(s,!!i.multiple,i.multiple?[]:"",!1))}s[ql]=i}catch(_){Qe(t,t.return,_)}}break;case 6:if(bn(e,t),Zn(t),r&4){if(t.stateNode===null)throw Error(H(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){Qe(t,t.return,_)}}break;case 3:if(bn(e,t),Zn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$l(e.containerInfo)}catch(_){Qe(t,t.return,_)}break;case 4:bn(e,t),Zn(t);break;case 13:bn(e,t),Zn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Py=Je())),r&4&&x1(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(At=(u=At)||d,bn(e,t),At=u):bn(e,t),Zn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(X=t,d=t.child;d!==null;){for(h=X=d;X!==null;){switch(p=X,v=p.child,p.tag){case 0:case 11:case 14:case 15:Il(4,p,p.return);break;case 1:Co(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(_){Qe(r,n,_)}}break;case 5:Co(p,p.return);break;case 22:if(p.memoizedState!==null){C1(h);continue}}v!==null?(v.return=p,X=v):C1(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=$T("display",o))}catch(_){Qe(t,t.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){Qe(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:bn(e,t),Zn(t),r&4&&x1(t);break;case 21:break;default:bn(e,t),Zn(t)}}function Zn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fS(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Vl(s,""),r.flags&=-33);var i=T1(t);Km(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=T1(t);Gm(t,a,o);break;default:throw Error(H(161))}}catch(l){Qe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qN(t,e,n){X=t,gS(t)}function gS(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var s=X,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Au;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||At;a=Au;var u=At;if(Au=o,(At=l)&&!u)for(X=s;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?I1(s):l!==null?(l.return=o,X=l):I1(s);for(;i!==null;)X=i,gS(i),i=i.sibling;X=s,Au=a,At=u}S1(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,X=i):S1(t)}}function S1(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:At||Uh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!At)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:An(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&l1(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}l1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&$l(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}At||e.flags&512&&qm(e)}catch(p){Qe(e,e.return,p)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function C1(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function I1(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Uh(4,e)}catch(l){Qe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Qe(e,s,l)}}var i=e.return;try{qm(e)}catch(l){Qe(e,i,l)}break;case 5:var o=e.return;try{qm(e)}catch(l){Qe(e,o,l)}}}catch(l){Qe(e,e.return,l)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var GN=Math.ceil,Fd=Xr.ReactCurrentDispatcher,Ay=Xr.ReactCurrentOwner,wn=Xr.ReactCurrentBatchConfig,Ie=0,mt=null,tt=null,_t=0,tn=0,Io=ti(0),lt=0,Xl=null,Oi=0,$h=0,Ry=0,bl=null,Gt=null,Py=0,ia=1/0,Nr=null,Ud=!1,Qm=null,ks=null,Ru=!1,Ss=null,$d=0,Al=0,Zm=null,td=-1,nd=0;function $t(){return Ie&6?Je():td!==-1?td:td=Je()}function Ns(t){return t.mode&1?Ie&2&&_t!==0?_t&-_t:PN.transition!==null?(nd===0&&(nd=ex()),nd):(t=Re,t!==0||(t=window.event,t=t===void 0?16:ax(t.type)),t):1}function Fn(t,e,n,r){if(50<Al)throw Al=0,Zm=null,Error(H(185));kc(t,n,r),(!(Ie&2)||t!==mt)&&(t===mt&&(!(Ie&2)&&($h|=n),lt===4&&ps(t,_t)),Yt(t,r),n===1&&Ie===0&&!(e.mode&1)&&(ia=Je()+500,Vh&&ni()))}function Yt(t,e){var n=t.callbackNode;Pk(t,e);var r=Sd(t,t===mt?_t:0);if(r===0)n!==null&&M0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&M0(n),e===1)t.tag===0?RN(b1.bind(null,t)):Ix(b1.bind(null,t)),CN(function(){!(Ie&6)&&ni()}),n=null;else{switch(tx(r)){case 1:n=ny;break;case 4:n=XT;break;case 16:n=xd;break;case 536870912:n=JT;break;default:n=xd}n=SS(n,yS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function yS(t,e){if(td=-1,nd=0,Ie&6)throw Error(H(327));var n=t.callbackNode;if(Oo()&&t.callbackNode!==n)return null;var r=Sd(t,t===mt?_t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=zd(t,r);else{e=r;var s=Ie;Ie|=2;var i=_S();(mt!==t||_t!==e)&&(Nr=null,ia=Je()+500,xi(t,e));do try{ZN();break}catch(a){vS(t,a)}while(!0);my(),Fd.current=i,Ie=s,tt!==null?e=0:(mt=null,_t=0,e=lt)}if(e!==0){if(e===2&&(s=xm(t),s!==0&&(r=s,e=Ym(t,s))),e===1)throw n=Xl,xi(t,0),ps(t,r),Yt(t,Je()),n;if(e===6)ps(t,r);else{if(s=t.current.alternate,!(r&30)&&!KN(s)&&(e=zd(t,r),e===2&&(i=xm(t),i!==0&&(r=i,e=Ym(t,i))),e===1))throw n=Xl,xi(t,0),ps(t,r),Yt(t,Je()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:di(t,Gt,Nr);break;case 3:if(ps(t,r),(r&130023424)===r&&(e=Py+500-Je(),10<e)){if(Sd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){$t(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=km(di.bind(null,t,Gt,Nr),e);break}di(t,Gt,Nr);break;case 4:if(ps(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-jn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*GN(r/1960))-r,10<r){t.timeoutHandle=km(di.bind(null,t,Gt,Nr),r);break}di(t,Gt,Nr);break;case 5:di(t,Gt,Nr);break;default:throw Error(H(329))}}}return Yt(t,Je()),t.callbackNode===n?yS.bind(null,t):null}function Ym(t,e){var n=bl;return t.current.memoizedState.isDehydrated&&(xi(t,e).flags|=256),t=zd(t,e),t!==2&&(e=Gt,Gt=n,e!==null&&Xm(e)),t}function Xm(t){Gt===null?Gt=t:Gt.push.apply(Gt,t)}function KN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!zn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ps(t,e){for(e&=~Ry,e&=~$h,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-jn(e),r=1<<n;t[n]=-1,e&=~r}}function b1(t){if(Ie&6)throw Error(H(327));Oo();var e=Sd(t,0);if(!(e&1))return Yt(t,Je()),null;var n=zd(t,e);if(t.tag!==0&&n===2){var r=xm(t);r!==0&&(e=r,n=Ym(t,r))}if(n===1)throw n=Xl,xi(t,0),ps(t,e),Yt(t,Je()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,di(t,Gt,Nr),Yt(t,Je()),null}function ky(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(ia=Je()+500,Vh&&ni())}}function Di(t){Ss!==null&&Ss.tag===0&&!(Ie&6)&&Oo();var e=Ie;Ie|=1;var n=wn.transition,r=Re;try{if(wn.transition=null,Re=1,t)return t()}finally{Re=r,wn.transition=n,Ie=e,!(Ie&6)&&ni()}}function Ny(){tn=Io.current,je(Io)}function xi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,SN(n)),tt!==null)for(n=tt.return;n!==null;){var r=n;switch(hy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Rd();break;case 3:ra(),je(Qt),je(Pt),Ey();break;case 5:wy(r);break;case 4:ra();break;case 13:je($e);break;case 19:je($e);break;case 10:gy(r.type._context);break;case 22:case 23:Ny()}n=n.return}if(mt=t,tt=t=Os(t.current,null),_t=tn=e,lt=0,Xl=null,Ry=$h=Oi=0,Gt=bl=null,mi!==null){for(e=0;e<mi.length;e++)if(n=mi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}mi=null}return t}function vS(t,e){do{var n=tt;try{if(my(),Xu.current=jd,Vd){for(var r=He.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Vd=!1}if(Ni=0,pt=at=He=null,Cl=!1,Ql=0,Ay.current=null,n===null||n.return===null){lt=1,Xl=e,tt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=_t,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=p1(o);if(v!==null){v.flags&=-257,m1(v,o,a,i,e),v.mode&1&&f1(i,u,e),e=v,l=u;var x=e.updateQueue;if(x===null){var _=new Set;_.add(l),e.updateQueue=_}else x.add(l);break e}else{if(!(e&1)){f1(i,u,e),Oy();break e}l=Error(H(426))}}else if(Fe&&a.mode&1){var S=p1(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),m1(S,o,a,i,e),fy(sa(l,a));break e}}i=l=sa(l,a),lt!==4&&(lt=2),bl===null?bl=[i]:bl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=tS(i,l,e);a1(i,w);break e;case 1:a=l;var E=i.type,C=i.stateNode;if(!(i.flags&128)&&(typeof E.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(ks===null||!ks.has(C)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=nS(i,a,e);a1(i,k);break e}}i=i.return}while(i!==null)}ES(n)}catch(O){e=O,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(!0)}function _S(){var t=Fd.current;return Fd.current=jd,t===null?jd:t}function Oy(){(lt===0||lt===3||lt===2)&&(lt=4),mt===null||!(Oi&268435455)&&!($h&268435455)||ps(mt,_t)}function zd(t,e){var n=Ie;Ie|=2;var r=_S();(mt!==t||_t!==e)&&(Nr=null,xi(t,e));do try{QN();break}catch(s){vS(t,s)}while(!0);if(my(),Ie=n,Fd.current=r,tt!==null)throw Error(H(261));return mt=null,_t=0,lt}function QN(){for(;tt!==null;)wS(tt)}function ZN(){for(;tt!==null&&!Ek();)wS(tt)}function wS(t){var e=xS(t.alternate,t,tn);t.memoizedProps=t.pendingProps,e===null?ES(t):tt=e,Ay.current=null}function ES(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=BN(n,e),n!==null){n.flags&=32767,tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{lt=6,tt=null;return}}else if(n=zN(n,e,tn),n!==null){tt=n;return}if(e=e.sibling,e!==null){tt=e;return}tt=e=t}while(e!==null);lt===0&&(lt=5)}function di(t,e,n){var r=Re,s=wn.transition;try{wn.transition=null,Re=1,YN(t,e,n,r)}finally{wn.transition=s,Re=r}return null}function YN(t,e,n,r){do Oo();while(Ss!==null);if(Ie&6)throw Error(H(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(kk(t,i),t===mt&&(tt=mt=null,_t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ru||(Ru=!0,SS(xd,function(){return Oo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=wn.transition,wn.transition=null;var o=Re;Re=1;var a=Ie;Ie|=4,Ay.current=null,WN(t,n),mS(n,t),yN(Rm),Cd=!!Am,Rm=Am=null,t.current=n,qN(n),Tk(),Ie=a,Re=o,wn.transition=i}else t.current=n;if(Ru&&(Ru=!1,Ss=t,$d=s),i=t.pendingLanes,i===0&&(ks=null),Ck(n.stateNode),Yt(t,Je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ud)throw Ud=!1,t=Qm,Qm=null,t;return $d&1&&t.tag!==0&&Oo(),i=t.pendingLanes,i&1?t===Zm?Al++:(Al=0,Zm=t):Al=0,ni(),null}function Oo(){if(Ss!==null){var t=tx($d),e=wn.transition,n=Re;try{if(wn.transition=null,Re=16>t?16:t,Ss===null)var r=!1;else{if(t=Ss,Ss=null,$d=0,Ie&6)throw Error(H(331));var s=Ie;for(Ie|=4,X=t.current;X!==null;){var i=X,o=i.child;if(X.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(X=u;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:Il(8,d,i)}var h=d.child;if(h!==null)h.return=d,X=h;else for(;X!==null;){d=X;var p=d.sibling,v=d.return;if(hS(d),d===u){X=null;break}if(p!==null){p.return=v,X=p;break}X=v}}}var x=i.alternate;if(x!==null){var _=x.child;if(_!==null){x.child=null;do{var S=_.sibling;_.sibling=null,_=S}while(_!==null)}}X=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,X=o;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Il(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,X=w;break e}X=i.return}}var E=t.current;for(X=E;X!==null;){o=X;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,X=C;else e:for(o=E;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Uh(9,a)}}catch(O){Qe(a,a.return,O)}if(a===o){X=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,X=k;break e}X=a.return}}if(Ie=s,ni(),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(Nh,t)}catch{}r=!0}return r}finally{Re=n,wn.transition=e}}return!1}function A1(t,e,n){e=sa(n,e),e=tS(t,e,1),t=Ps(t,e,1),e=$t(),t!==null&&(kc(t,1,e),Yt(t,e))}function Qe(t,e,n){if(t.tag===3)A1(t,t,n);else for(;e!==null;){if(e.tag===3){A1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ks===null||!ks.has(r))){t=sa(n,t),t=nS(e,t,1),e=Ps(e,t,1),t=$t(),e!==null&&(kc(e,1,t),Yt(e,t));break}}e=e.return}}function XN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=$t(),t.pingedLanes|=t.suspendedLanes&n,mt===t&&(_t&n)===n&&(lt===4||lt===3&&(_t&130023424)===_t&&500>Je()-Py?xi(t,0):Ry|=n),Yt(t,e)}function TS(t,e){e===0&&(t.mode&1?(e=_u,_u<<=1,!(_u&130023424)&&(_u=4194304)):e=1);var n=$t();t=Br(t,e),t!==null&&(kc(t,e,n),Yt(t,n))}function JN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),TS(t,n)}function e4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),TS(t,n)}var xS;xS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qt.current)Kt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Kt=!1,$N(t,e,n);Kt=!!(t.flags&131072)}else Kt=!1,Fe&&e.flags&1048576&&bx(e,Nd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ed(t,e),t=e.pendingProps;var s=ea(e,Pt.current);No(e,n),s=xy(null,e,r,t,s,n);var i=Sy();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zt(r)?(i=!0,Pd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,vy(e),s.updater=Fh,e.stateNode=s,s._reactInternals=e,jm(e,r,t,n),e=$m(null,e,r,!0,i,n)):(e.tag=0,Fe&&i&&dy(e),jt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ed(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=n4(r),t=An(r,t),s){case 0:e=Um(null,e,r,t,n);break e;case 1:e=v1(null,e,r,t,n);break e;case 11:e=g1(null,e,r,t,n);break e;case 14:e=y1(null,e,r,An(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:An(r,s),Um(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:An(r,s),v1(t,e,r,s,n);case 3:e:{if(oS(e),t===null)throw Error(H(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Ox(t,e),Md(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=sa(Error(H(423)),e),e=_1(t,e,r,n,s);break e}else if(r!==s){s=sa(Error(H(424)),e),e=_1(t,e,r,n,s);break e}else for(rn=Rs(e.stateNode.containerInfo.firstChild),sn=e,Fe=!0,Nn=null,n=kx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ta(),r===s){e=Hr(t,e,n);break e}jt(t,e,r,n)}e=e.child}return e;case 5:return Dx(e),t===null&&Mm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Pm(r,s)?o=null:i!==null&&Pm(r,i)&&(e.flags|=32),iS(t,e),jt(t,e,o,n),e.child;case 6:return t===null&&Mm(e),null;case 13:return aS(t,e,n);case 4:return _y(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=na(e,null,r,n):jt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:An(r,s),g1(t,e,r,s,n);case 7:return jt(t,e,e.pendingProps,n),e.child;case 8:return jt(t,e,e.pendingProps.children,n),e.child;case 12:return jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Oe(Od,r._currentValue),r._currentValue=o,i!==null)if(zn(i.value,o)){if(i.children===s.children&&!Qt.current){e=Hr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ur(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Lm(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Lm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}jt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,No(e,n),s=Tn(s),r=r(s),e.flags|=1,jt(t,e,r,n),e.child;case 14:return r=e.type,s=An(r,e.pendingProps),s=An(r.type,s),y1(t,e,r,s,n);case 15:return rS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:An(r,s),ed(t,e),e.tag=1,Zt(r)?(t=!0,Pd(e)):t=!1,No(e,n),eS(e,r,s),jm(e,r,s,n),$m(null,e,r,!0,t,n);case 19:return lS(t,e,n);case 22:return sS(t,e,n)}throw Error(H(156,e.tag))};function SS(t,e){return YT(t,e)}function t4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,e,n,r){return new t4(t,e,n,r)}function Dy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function n4(t){if(typeof t=="function")return Dy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jg)return 11;if(t===ey)return 14}return 2}function Os(t,e){var n=t.alternate;return n===null?(n=_n(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function rd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Dy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case go:return Si(n.children,s,i,e);case Xg:o=8,s|=8;break;case lm:return t=_n(12,n,e,s|2),t.elementType=lm,t.lanes=i,t;case cm:return t=_n(13,n,e,s),t.elementType=cm,t.lanes=i,t;case um:return t=_n(19,n,e,s),t.elementType=um,t.lanes=i,t;case DT:return zh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case NT:o=10;break e;case OT:o=9;break e;case Jg:o=11;break e;case ey:o=14;break e;case ds:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=_n(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Si(t,e,n,r){return t=_n(7,t,r,e),t.lanes=n,t}function zh(t,e,n,r){return t=_n(22,t,r,e),t.elementType=DT,t.lanes=n,t.stateNode={isHidden:!1},t}function bp(t,e,n){return t=_n(6,t,null,e),t.lanes=n,t}function Ap(t,e,n){return e=_n(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function r4(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lp(0),this.expirationTimes=lp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function My(t,e,n,r,s,i,o,a,l){return t=new r4(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=_n(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vy(i),t}function s4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function CS(t){if(!t)return Fs;t=t._reactInternals;e:{if(qi(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(Zt(n))return Cx(t,n,e)}return e}function IS(t,e,n,r,s,i,o,a,l){return t=My(n,r,!0,t,s,i,o,a,l),t.context=CS(null),n=t.current,r=$t(),s=Ns(n),i=Ur(r,s),i.callback=e??null,Ps(n,i,s),t.current.lanes=s,kc(t,s,r),Yt(t,r),t}function Bh(t,e,n,r){var s=e.current,i=$t(),o=Ns(s);return n=CS(n),e.context===null?e.context=n:e.pendingContext=n,e=Ur(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ps(s,e,o),t!==null&&(Fn(t,s,o,i),Yu(t,s,o)),o}function Bd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function R1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ly(t,e){R1(t,e),(t=t.alternate)&&R1(t,e)}function i4(){return null}var bS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Vy(t){this._internalRoot=t}Hh.prototype.render=Vy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));Bh(t,e,null,null)};Hh.prototype.unmount=Vy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Di(function(){Bh(null,t,null,null)}),e[zr]=null}};function Hh(t){this._internalRoot=t}Hh.prototype.unstable_scheduleHydration=function(t){if(t){var e=sx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fs.length&&e!==0&&e<fs[n].priority;n++);fs.splice(n,0,t),n===0&&ox(t)}};function jy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function P1(){}function o4(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Bd(o);i.call(u)}}var o=IS(e,r,t,0,null,!1,!1,"",P1);return t._reactRootContainer=o,t[zr]=o.current,Hl(t.nodeType===8?t.parentNode:t),Di(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Bd(l);a.call(u)}}var l=My(t,0,!1,null,null,!1,!1,"",P1);return t._reactRootContainer=l,t[zr]=l.current,Hl(t.nodeType===8?t.parentNode:t),Di(function(){Bh(e,l,n,r)}),l}function qh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Bd(o);a.call(l)}}Bh(e,o,t,s)}else o=o4(n,e,t,s,r);return Bd(o)}nx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=dl(e.pendingLanes);n!==0&&(ry(e,n|1),Yt(e,Je()),!(Ie&6)&&(ia=Je()+500,ni()))}break;case 13:Di(function(){var r=Br(t,1);if(r!==null){var s=$t();Fn(r,t,1,s)}}),Ly(t,1)}};sy=function(t){if(t.tag===13){var e=Br(t,134217728);if(e!==null){var n=$t();Fn(e,t,134217728,n)}Ly(t,134217728)}};rx=function(t){if(t.tag===13){var e=Ns(t),n=Br(t,e);if(n!==null){var r=$t();Fn(n,t,e,r)}Ly(t,e)}};sx=function(){return Re};ix=function(t,e){var n=Re;try{return Re=t,e()}finally{Re=n}};wm=function(t,e,n){switch(e){case"input":if(fm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Lh(r);if(!s)throw Error(H(90));LT(r),fm(r,s)}}}break;case"textarea":jT(t,n);break;case"select":e=n.value,e!=null&&Ao(t,!!n.multiple,e,!1)}};WT=ky;qT=Di;var a4={usingClientEntryPoint:!1,Events:[Oc,wo,Lh,BT,HT,ky]},ol={findFiberByHostInstance:pi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},l4={bundleType:ol.bundleType,version:ol.version,rendererPackageName:ol.rendererPackageName,rendererConfig:ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=QT(t),t===null?null:t.stateNode},findFiberByHostInstance:ol.findFiberByHostInstance||i4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pu.isDisabled&&Pu.supportsFiber)try{Nh=Pu.inject(l4),ir=Pu}catch{}}cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a4;cn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jy(e))throw Error(H(200));return s4(t,e,null,n)};cn.createRoot=function(t,e){if(!jy(t))throw Error(H(299));var n=!1,r="",s=bS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=My(t,1,!1,null,null,n,!1,r,s),t[zr]=e.current,Hl(t.nodeType===8?t.parentNode:t),new Vy(e)};cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=QT(e),t=t===null?null:t.stateNode,t};cn.flushSync=function(t){return Di(t)};cn.hydrate=function(t,e,n){if(!Wh(e))throw Error(H(200));return qh(null,t,e,!0,n)};cn.hydrateRoot=function(t,e,n){if(!jy(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=bS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=IS(e,null,t,1,n??null,s,!1,i,o),t[zr]=e.current,Hl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Hh(e)};cn.render=function(t,e,n){if(!Wh(e))throw Error(H(200));return qh(null,t,e,!1,n)};cn.unmountComponentAtNode=function(t){if(!Wh(t))throw Error(H(40));return t._reactRootContainer?(Di(function(){qh(null,null,t,!1,function(){t._reactRootContainer=null,t[zr]=null})}),!0):!1};cn.unstable_batchedUpdates=ky;cn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wh(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return qh(t,e,n,!1,r)};cn.version="18.3.1-next-f1338f8080-20240426";function AS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AS)}catch(t){console.error(t)}}AS(),AT.exports=cn;var Mc=AT.exports;const c4=mT(Mc);var RS,k1=Mc;RS=k1.createRoot,k1.hydrateRoot;function u4(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var PS={exports:{}},kS={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oa=g;function d4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var h4=typeof Object.is=="function"?Object.is:d4,f4=oa.useState,p4=oa.useEffect,m4=oa.useLayoutEffect,g4=oa.useDebugValue;function y4(t,e){var n=e(),r=f4({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return m4(function(){s.value=n,s.getSnapshot=e,Rp(s)&&i({inst:s})},[t,n,e]),p4(function(){return Rp(s)&&i({inst:s}),t(function(){Rp(s)&&i({inst:s})})},[t]),g4(n),n}function Rp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!h4(t,n)}catch{return!0}}function v4(t,e){return e()}var _4=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?v4:y4;kS.useSyncExternalStore=oa.useSyncExternalStore!==void 0?oa.useSyncExternalStore:_4;PS.exports=kS;var w4=PS.exports;const E4=IT.useInsertionEffect,T4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NS=T4?g.useLayoutEffect:g.useEffect,x4=E4||NS,Fy=t=>{const e=g.useRef([t,(...n)=>e[0](...n)]).current;return x4(()=>{e[0]=t}),e[1]},S4="popstate",Uy="pushState",$y="replaceState",C4="hashchange",N1=[S4,Uy,$y,C4],I4=t=>{for(const e of N1)addEventListener(e,t);return()=>{for(const e of N1)removeEventListener(e,t)}},OS=(t,e)=>w4.useSyncExternalStore(I4,t,e),b4=()=>location.search,A4=({ssrSearch:t=""}={})=>OS(b4,()=>t),O1=()=>location.pathname,R4=({ssrPath:t}={})=>OS(O1,t?()=>t:O1),P4=(t,{replace:e=!1,state:n=null}={})=>history[e?$y:Uy](n,"",t),k4=(t={})=>[R4(t),P4],D1=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[D1]>"u"){for(const t of[Uy,$y]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,D1,{value:!0})}const N4=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",DS=(t="")=>t==="/"?"":t,O4=(t,e)=>t[0]==="~"?t.slice(1):DS(e)+t,D4=(t="",e)=>N4(M1(DS(t)),M1(e)),M1=t=>{try{return decodeURI(t)}catch{return t}},MS={hook:k4,searchHook:A4,parser:u4,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},LS=g.createContext(MS),Lc=()=>g.useContext(LS),VS={},jS=g.createContext(VS),M4=()=>g.useContext(jS),Gh=t=>{const[e,n]=t.hook(t);return[D4(t.base,e),Fy((r,s)=>n(O4(r,t.base),s))]},L4=()=>Gh(Lc()),FS=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((h,p)=>[h,l[p]])):o.groups;let d={...l};return u&&Object.assign(d,u),d})(),...r?[a]:[]]:[!1,null]},US=({children:t,...e})=>{var d,h;const n=Lc(),r=e.hook?MS:n;let s=r;const[i,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs);let a=g.useRef({}),l=a.current,u=l;for(let p in r){const v=p==="base"?r[p]+(e[p]||""):e[p]||r[p];l===u&&v!==u[p]&&(a.current=u={...u}),u[p]=v,v!==r[p]&&(s=u)}return g.createElement(LS.Provider,{value:s,children:t})},L1=({children:t,component:e},n)=>e?g.createElement(e,{params:n}):typeof t=="function"?t(n):t,V4=t=>{let e=g.useRef(VS),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},Pp=({path:t,nest:e,match:n,...r})=>{const s=Lc(),[i]=Gh(s),[o,a,l]=n??FS(s.parser,t,i,e),u=V4({...M4(),...a});if(!o)return null;const d=l?g.createElement(US,{base:l},L1(r,u)):L1(r,u);return g.createElement(jS.Provider,{value:u,children:d})};g.forwardRef((t,e)=>{const n=Lc(),[r,s]=Gh(n),{to:i="",href:o=i,onClick:a,asChild:l,children:u,className:d,replace:h,state:p,...v}=t,x=Fy(S=>{S.ctrlKey||S.metaKey||S.altKey||S.shiftKey||S.button!==0||(a==null||a(S),S.defaultPrevented||(S.preventDefault(),s(o,t)))}),_=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&g.isValidElement(u)?g.cloneElement(u,{onClick:x,href:_}):g.createElement("a",{...v,onClick:x,href:_,className:d!=null&&d.call?d(r===o):d,children:u,ref:e})});const $S=t=>Array.isArray(t)?t.flatMap(e=>$S(e&&e.type===g.Fragment?e.props.children:e)):[t],j4=({children:t,location:e})=>{const n=Lc(),[r]=Gh(n);for(const s of $S(t)){let i=0;if(g.isValidElement(s)&&(i=FS(n.parser,s.props.path,e||r,s.props.nest))[0])return g.cloneElement(s,{match:i})}return null},kp=t=>{const{to:e,href:n=e}=t,[,r]=L4(),s=Fy(()=>r(e||n,t));return NS(()=>{s()},[]),null};var Kh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qh=typeof window>"u"||"Deno"in globalThis;function Rn(){}function F4(t,e){return typeof t=="function"?t(e):t}function U4(t){return typeof t=="number"&&t>=0&&t!==1/0}function $4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function V1(t,e){return typeof t=="function"?t(e):t}function z4(t,e){return typeof t=="function"?t(e):t}function j1(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==zy(o,e.options))return!1}else if(!ec(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function F1(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Jl(e.options.mutationKey)!==Jl(i))return!1}else if(!ec(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function zy(t,e){return((e==null?void 0:e.queryKeyHashFn)||Jl)(t)}function Jl(t){return JSON.stringify(t,(e,n)=>Jm(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function ec(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!ec(t[n],e[n])):!1}function zS(t,e){if(t===e)return t;const n=U1(t)&&U1(e);if(n||Jm(t)&&Jm(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=zS(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function U1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Jm(t){if(!$1(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!$1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function $1(t){return Object.prototype.toString.call(t)==="[object Object]"}function B4(t){return new Promise(e=>{setTimeout(e,t)})}function H4(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?zS(t,e):e}function W4(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function q4(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var By=Symbol();function BS(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===By?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var _i,vs,Ho,oT,G4=(oT=class extends Kh{constructor(){super();be(this,_i);be(this,vs);be(this,Ho);pe(this,Ho,e=>{if(!Qh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,vs)||this.setEventListener(z(this,Ho))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,vs))==null||e.call(this),pe(this,vs,void 0))}setEventListener(e){var n;pe(this,Ho,e),(n=z(this,vs))==null||n.call(this),pe(this,vs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){z(this,_i)!==e&&(pe(this,_i,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof z(this,_i)=="boolean"?z(this,_i):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},_i=new WeakMap,vs=new WeakMap,Ho=new WeakMap,oT),HS=new G4,Wo,_s,qo,aT,K4=(aT=class extends Kh{constructor(){super();be(this,Wo,!0);be(this,_s);be(this,qo);pe(this,qo,e=>{if(!Qh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,_s)||this.setEventListener(z(this,qo))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,_s))==null||e.call(this),pe(this,_s,void 0))}setEventListener(e){var n;pe(this,qo,e),(n=z(this,_s))==null||n.call(this),pe(this,_s,e(this.setOnline.bind(this)))}setOnline(e){z(this,Wo)!==e&&(pe(this,Wo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return z(this,Wo)}},Wo=new WeakMap,_s=new WeakMap,qo=new WeakMap,aT),Hd=new K4;function Q4(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function Z4(t){return Math.min(1e3*2**t,3e4)}function WS(t){return(t??"online")==="online"?Hd.isOnline():!0}var qS=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Np(t){return t instanceof qS}function GS(t){let e=!1,n=0,r=!1,s;const i=Q4(),o=_=>{var S;r||(p(new qS(_)),(S=t.abort)==null||S.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>HS.isFocused()&&(t.networkMode==="always"||Hd.isOnline())&&t.canRun(),d=()=>WS(t.networkMode)&&t.canRun(),h=_=>{var S;r||(r=!0,(S=t.onSuccess)==null||S.call(t,_),s==null||s(),i.resolve(_))},p=_=>{var S;r||(r=!0,(S=t.onError)==null||S.call(t,_),s==null||s(),i.reject(_))},v=()=>new Promise(_=>{var S;s=w=>{(r||u())&&_(w)},(S=t.onPause)==null||S.call(t)}).then(()=>{var _;s=void 0,r||(_=t.onContinue)==null||_.call(t)}),x=()=>{if(r)return;let _;const S=n===0?t.initialPromise:void 0;try{_=S??t.fn()}catch(w){_=Promise.reject(w)}Promise.resolve(_).then(h).catch(w=>{var M;if(r)return;const E=t.retry??(Qh?0:3),C=t.retryDelay??Z4,k=typeof C=="function"?C(n,w):C,O=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,w);if(e||!O){p(w);return}n++,(M=t.onFail)==null||M.call(t,n,w),B4(k).then(()=>u()?void 0:v()).then(()=>{e?p(w):x()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?x():v().then(x),i)}}function Y4(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Ut=Y4(),wi,lT,KS=(lT=class{constructor(){be(this,wi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),U4(this.gcTime)&&pe(this,wi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Qh?1/0:5*60*1e3))}clearGcTimeout(){z(this,wi)&&(clearTimeout(z(this,wi)),pe(this,wi,void 0))}},wi=new WeakMap,lT),Go,Ko,hn,It,Ac,Ei,Pn,Pr,cT,X4=(cT=class extends KS{constructor(n){super();be(this,Pn);be(this,Go);be(this,Ko);be(this,hn);be(this,It);be(this,Ac);be(this,Ei);pe(this,Ei,!1),pe(this,Ac,n.defaultOptions),this.setOptions(n.options),this.observers=[],pe(this,hn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,pe(this,Go,eO(this.options)),this.state=n.state??z(this,Go),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=z(this,It))==null?void 0:n.promise}setOptions(n){this.options={...z(this,Ac),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,hn).remove(this)}setData(n,r){const s=H4(this.state.data,n,this.options);return Tt(this,Pn,Pr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Tt(this,Pn,Pr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=z(this,It))==null?void 0:s.promise;return(i=z(this,It))==null||i.cancel(n),r?r.then(Rn).catch(Rn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,Go))}isActive(){return this.observers.some(n=>z4(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===By||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!$4(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,It))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,It))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),z(this,hn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(z(this,It)&&(z(this,Ei)?z(this,It).cancel({revert:!0}):z(this,It).cancelRetry()),this.scheduleGc()),z(this,hn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Tt(this,Pn,Pr).call(this,{type:"invalidate"})}fetch(n,r){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,It))return z(this,It).continueRetry(),z(this,It).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(v=>v.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(pe(this,Ei,!0),s.signal)})},o=()=>{const p=BS(this.options,r),v={queryKey:this.queryKey,meta:this.meta};return i(v),pe(this,Ei,!1),this.options.persister?this.options.persister(p,v,this):p(v)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(u=this.options.behavior)==null||u.onFetch(a,this),pe(this,Ko,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Tt(this,Pn,Pr).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const l=p=>{var v,x,_,S;Np(p)&&p.silent||Tt(this,Pn,Pr).call(this,{type:"error",error:p}),Np(p)||((x=(v=z(this,hn).config).onError)==null||x.call(v,p,this),(S=(_=z(this,hn).config).onSettled)==null||S.call(_,this.state.data,p,this)),this.scheduleGc()};return pe(this,It,GS({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var v,x,_,S;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(w){l(w);return}(x=(v=z(this,hn).config).onSuccess)==null||x.call(v,p,this),(S=(_=z(this,hn).config).onSettled)==null||S.call(_,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,v)=>{Tt(this,Pn,Pr).call(this,{type:"failed",failureCount:p,error:v})},onPause:()=>{Tt(this,Pn,Pr).call(this,{type:"pause"})},onContinue:()=>{Tt(this,Pn,Pr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),z(this,It).start()}},Go=new WeakMap,Ko=new WeakMap,hn=new WeakMap,It=new WeakMap,Ac=new WeakMap,Ei=new WeakMap,Pn=new WeakSet,Pr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...J4(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Np(i)&&i.revert&&z(this,Ko)?{...z(this,Ko),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Ut.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),z(this,hn).notify({query:this,type:"updated",action:n})})},cT);function J4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:WS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function eO(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Jn,uT,tO=(uT=class extends Kh{constructor(e={}){super();be(this,Jn);this.config=e,pe(this,Jn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??zy(s,n);let o=this.get(i);return o||(o=new X4({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){z(this,Jn).has(e.queryHash)||(z(this,Jn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=z(this,Jn).get(e.queryHash);n&&(e.destroy(),n===e&&z(this,Jn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ut.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return z(this,Jn).get(e)}getAll(){return[...z(this,Jn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>j1(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>j1(e,r)):n}notify(e){Ut.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ut.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ut.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Jn=new WeakMap,uT),er,Vt,Ti,tr,cs,dT,nO=(dT=class extends KS{constructor(n){super();be(this,tr);be(this,er);be(this,Vt);be(this,Ti);this.mutationId=n.mutationId,pe(this,Vt,n.mutationCache),pe(this,er,[]),this.state=n.state||rO(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){z(this,er).includes(n)||(z(this,er).push(n),this.clearGcTimeout(),z(this,Vt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){pe(this,er,z(this,er).filter(r=>r!==n)),this.scheduleGc(),z(this,Vt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){z(this,er).length||(this.state.status==="pending"?this.scheduleGc():z(this,Vt).remove(this))}continue(){var n;return((n=z(this,Ti))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,u,d,h,p,v,x,_,S,w,E,C,k,O,M,I,T;pe(this,Ti,GS({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(b,R)=>{Tt(this,tr,cs).call(this,{type:"failed",failureCount:b,error:R})},onPause:()=>{Tt(this,tr,cs).call(this,{type:"pause"})},onContinue:()=>{Tt(this,tr,cs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,Vt).canRun(this)}));const r=this.state.status==="pending",s=!z(this,Ti).canStart();try{if(!r){Tt(this,tr,cs).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=z(this,Vt).config).onMutate)==null?void 0:o.call(i,n,this));const R=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));R!==this.state.context&&Tt(this,tr,cs).call(this,{type:"pending",context:R,variables:n,isPaused:s})}const b=await z(this,Ti).start();return await((d=(u=z(this,Vt).config).onSuccess)==null?void 0:d.call(u,b,n,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,b,n,this.state.context)),await((x=(v=z(this,Vt).config).onSettled)==null?void 0:x.call(v,b,null,this.state.variables,this.state.context,this)),await((S=(_=this.options).onSettled)==null?void 0:S.call(_,b,null,n,this.state.context)),Tt(this,tr,cs).call(this,{type:"success",data:b}),b}catch(b){try{throw await((E=(w=z(this,Vt).config).onError)==null?void 0:E.call(w,b,n,this.state.context,this)),await((k=(C=this.options).onError)==null?void 0:k.call(C,b,n,this.state.context)),await((M=(O=z(this,Vt).config).onSettled)==null?void 0:M.call(O,void 0,b,this.state.variables,this.state.context,this)),await((T=(I=this.options).onSettled)==null?void 0:T.call(I,void 0,b,n,this.state.context)),b}finally{Tt(this,tr,cs).call(this,{type:"error",error:b})}}finally{z(this,Vt).runNext(this)}}},er=new WeakMap,Vt=new WeakMap,Ti=new WeakMap,tr=new WeakSet,cs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ut.batch(()=>{z(this,er).forEach(s=>{s.onMutationUpdate(n)}),z(this,Vt).notify({mutation:this,type:"updated",action:n})})},dT);function rO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var en,Rc,hT,sO=(hT=class extends Kh{constructor(e={}){super();be(this,en);be(this,Rc);this.config=e,pe(this,en,new Map),pe(this,Rc,Date.now())}build(e,n,r){const s=new nO({mutationCache:this,mutationId:++fu(this,Rc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=ku(e),r=z(this,en).get(n)??[];r.push(e),z(this,en).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=ku(e);if(z(this,en).has(n)){const s=(r=z(this,en).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?z(this,en).delete(n):z(this,en).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=z(this,en).get(ku(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=z(this,en).get(ku(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Ut.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...z(this,en).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>F1(n,r))}findAll(e={}){return this.getAll().filter(n=>F1(e,n))}notify(e){Ut.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ut.batch(()=>Promise.all(e.map(n=>n.continue().catch(Rn))))}},en=new WeakMap,Rc=new WeakMap,hT);function ku(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function z1(t){return{onFetch:(e,n)=>{var d,h,p,v,x;const r=e.options,s=(p=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((v=e.state.data)==null?void 0:v.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let _=!1;const S=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},w=BS(e.options,e.fetchOptions),E=async(C,k,O)=>{if(_)return Promise.reject();if(k==null&&C.pages.length)return Promise.resolve(C);const M={queryKey:e.queryKey,pageParam:k,direction:O?"backward":"forward",meta:e.options.meta};S(M);const I=await w(M),{maxPages:T}=e.options,b=O?q4:W4;return{pages:b(C.pages,I,T),pageParams:b(C.pageParams,k,T)}};if(s&&i.length){const C=s==="backward",k=C?iO:B1,O={pages:i,pageParams:o},M=k(r,O);a=await E(O,M,C)}else{const C=t??i.length;do{const k=l===0?o[0]??r.initialPageParam:B1(r,a);if(l>0&&k==null)break;a=await E(a,k),l++}while(l<C)}return a};e.options.persister?e.fetchFn=()=>{var _,S;return(S=(_=e.options).persister)==null?void 0:S.call(_,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function B1(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function iO(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ke,ws,Es,Qo,Zo,Ts,Yo,Xo,fT,oO=(fT=class{constructor(t={}){be(this,Ke);be(this,ws);be(this,Es);be(this,Qo);be(this,Zo);be(this,Ts);be(this,Yo);be(this,Xo);pe(this,Ke,t.queryCache||new tO),pe(this,ws,t.mutationCache||new sO),pe(this,Es,t.defaultOptions||{}),pe(this,Qo,new Map),pe(this,Zo,new Map),pe(this,Ts,0)}mount(){fu(this,Ts)._++,z(this,Ts)===1&&(pe(this,Yo,HS.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,Ke).onFocus())})),pe(this,Xo,Hd.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,Ke).onOnline())})))}unmount(){var t,e;fu(this,Ts)._--,z(this,Ts)===0&&((t=z(this,Yo))==null||t.call(this),pe(this,Yo,void 0),(e=z(this,Xo))==null||e.call(this),pe(this,Xo,void 0))}isFetching(t){return z(this,Ke).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return z(this,ws).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,Ke).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=z(this,Ke).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(V1(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return z(this,Ke).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=z(this,Ke).get(r.queryHash),i=s==null?void 0:s.state.data,o=F4(e,i);if(o!==void 0)return z(this,Ke).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Ut.batch(()=>z(this,Ke).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,Ke).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=z(this,Ke);Ut.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=z(this,Ke),r={type:"active",...t};return Ut.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Ut.batch(()=>z(this,Ke).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Rn).catch(Rn)}invalidateQueries(t={},e={}){return Ut.batch(()=>{if(z(this,Ke).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Ut.batch(()=>z(this,Ke).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Rn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Rn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=z(this,Ke).build(this,e);return n.isStaleByTime(V1(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Rn).catch(Rn)}fetchInfiniteQuery(t){return t.behavior=z1(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Rn).catch(Rn)}ensureInfiniteQueryData(t){return t.behavior=z1(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Hd.isOnline()?z(this,ws).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,Ke)}getMutationCache(){return z(this,ws)}getDefaultOptions(){return z(this,Es)}setDefaultOptions(t){pe(this,Es,t)}setQueryDefaults(t,e){z(this,Qo).set(Jl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...z(this,Qo).values()];let n={};return e.forEach(r=>{ec(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){z(this,Zo).set(Jl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...z(this,Zo).values()];let n={};return e.forEach(r=>{ec(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...z(this,Es).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=zy(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===By&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...z(this,Es).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){z(this,Ke).clear(),z(this,ws).clear()}},Ke=new WeakMap,ws=new WeakMap,Es=new WeakMap,Qo=new WeakMap,Zo=new WeakMap,Ts=new WeakMap,Yo=new WeakMap,Xo=new WeakMap,fT),aO=g.createContext(void 0),lO=({client:t,children:e})=>(g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),y.jsx(aO.Provider,{value:t,children:e}));async function cO(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const uO=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await cO(n),await n.json())},dO=new oO({defaultOptions:{queries:{queryFn:uO({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),hO=1,fO=1e6;let Op=0;function pO(){return Op=(Op+1)%Number.MAX_SAFE_INTEGER,Op.toString()}const Dp=new Map,H1=t=>{if(Dp.has(t))return;const e=setTimeout(()=>{Dp.delete(t),Rl({type:"REMOVE_TOAST",toastId:t})},fO);Dp.set(t,e)},mO=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,hO)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?H1(n):t.toasts.forEach(r=>{H1(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},sd=[];let id={toasts:[]};function Rl(t){id=mO(id,t),sd.forEach(e=>{e(id)})}function gO({...t}){const e=pO(),n=s=>Rl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Rl({type:"DISMISS_TOAST",toastId:e});return Rl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Zh(){const[t,e]=g.useState(id);return g.useEffect(()=>(sd.push(e),()=>{const n=sd.indexOf(e);n>-1&&sd.splice(n,1)}),[t]),{...t,toast:gO,dismiss:n=>Rl({type:"DISMISS_TOAST",toastId:n})}}function J(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function W1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Yh(...t){return e=>{let n=!1;const r=t.map(s=>{const i=W1(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():W1(t[s],null)}}}}function ke(...t){return g.useCallback(Yh(...t),t)}function yO(t,e){const n=g.createContext(e),r=i=>{const{children:o,...a}=i,l=g.useMemo(()=>a,Object.values(a));return y.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=g.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Tr(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];const u=h=>{var w;const{scope:p,children:v,...x}=h,_=((w=p==null?void 0:p[t])==null?void 0:w[l])||a,S=g.useMemo(()=>x,Object.values(x));return y.jsx(_.Provider,{value:S,children:v})};u.displayName=i+"Provider";function d(h,p){var _;const v=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,x=g.useContext(v);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,vO(s,...e)]}function vO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...a,...h}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function aa(t){const e=wO(t),n=g.forwardRef((r,s)=>{const{children:i,...o}=r,a=g.Children.toArray(i),l=a.find(TO);if(l){const u=l.props.children,d=a.map(h=>h===l?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:h);return y.jsx(e,{...o,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return y.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var _O=aa("Slot");function wO(t){const e=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const o=SO(s),a=xO(i,s.props);return s.type!==g.Fragment&&(a.ref=r?Yh(r,o):o),g.cloneElement(s,a)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var QS=Symbol("radix.slottable");function EO(t){const e=({children:n})=>y.jsx(y.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=QS,e}function TO(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===QS}function xO(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function SO(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Hy(t){const e=t+"CollectionProvider",[n,r]=Tr(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:S,children:w}=_,E=Ft.useRef(null),C=Ft.useRef(new Map).current;return y.jsx(s,{scope:S,itemMap:C,collectionRef:E,children:w})};o.displayName=e;const a=t+"CollectionSlot",l=aa(a),u=Ft.forwardRef((_,S)=>{const{scope:w,children:E}=_,C=i(a,w),k=ke(S,C.collectionRef);return y.jsx(l,{ref:k,children:E})});u.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",p=aa(d),v=Ft.forwardRef((_,S)=>{const{scope:w,children:E,...C}=_,k=Ft.useRef(null),O=ke(S,k),M=i(d,w);return Ft.useEffect(()=>(M.itemMap.set(k,{ref:k,...C}),()=>void M.itemMap.delete(k))),y.jsx(p,{[h]:"",ref:O,children:E})});v.displayName=d;function x(_){const S=i(t+"CollectionConsumer",_);return Ft.useCallback(()=>{const E=S.collectionRef.current;if(!E)return[];const C=Array.from(E.querySelectorAll(`[${h}]`));return Array.from(S.itemMap.values()).sort((M,I)=>C.indexOf(M.ref.current)-C.indexOf(I.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},x,r]}var CO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ye=CO.reduce((t,e)=>{const n=aa(`Primitive.${e}`),r=g.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Wy(t,e){t&&Mc.flushSync(()=>t.dispatchEvent(e))}function Be(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function IO(t,e=globalThis==null?void 0:globalThis.document){const n=Be(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var bO="DismissableLayer",eg="dismissableLayer.update",AO="dismissableLayer.pointerDownOutside",RO="dismissableLayer.focusOutside",q1,ZS=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vc=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=g.useContext(ZS),[d,h]=g.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=g.useState({}),x=ke(e,I=>h(I)),_=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=_.indexOf(S),E=d?_.indexOf(d):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,k=E>=w,O=kO(I=>{const T=I.target,b=[...u.branches].some(R=>R.contains(T));!k||b||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},p),M=NO(I=>{const T=I.target;[...u.branches].some(R=>R.contains(T))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},p);return IO(I=>{E===u.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},p),g.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(q1=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),G1(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=q1)}},[d,p,n,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),G1())},[d,u]),g.useEffect(()=>{const I=()=>v({});return document.addEventListener(eg,I),()=>document.removeEventListener(eg,I)},[]),y.jsx(ye.div,{...l,ref:x,style:{pointerEvents:C?k?"auto":"none":void 0,...t.style},onFocusCapture:J(t.onFocusCapture,M.onFocusCapture),onBlurCapture:J(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:J(t.onPointerDownCapture,O.onPointerDownCapture)})});Vc.displayName=bO;var PO="DismissableLayerBranch",YS=g.forwardRef((t,e)=>{const n=g.useContext(ZS),r=g.useRef(null),s=ke(e,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),y.jsx(ye.div,{...t,ref:s})});YS.displayName=PO;function kO(t,e=globalThis==null?void 0:globalThis.document){const n=Be(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){XS(AO,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function NO(t,e=globalThis==null?void 0:globalThis.document){const n=Be(t),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&XS(RO,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function G1(){const t=new CustomEvent(eg);document.dispatchEvent(t)}function XS(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Wy(s,i):s.dispatchEvent(i)}var OO=Vc,DO=YS,Sn=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},MO="Portal",Xh=g.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=g.useState(!1);Sn(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?c4.createPortal(y.jsx(ye.div,{...r,ref:e}),o):null});Xh.displayName=MO;function LO(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var Xt=t=>{const{present:e,children:n}=t,r=VO(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=ke(r.ref,jO(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};Xt.displayName="Presence";function VO(t){const[e,n]=g.useState(),r=g.useRef({}),s=g.useRef(t),i=g.useRef("none"),o=t?"mounted":"unmounted",[a,l]=LO(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=Nu(r.current);i.current=a==="mounted"?u:"none"},[a]),Sn(()=>{const u=r.current,d=s.current;if(d!==t){const p=i.current,v=Nu(u);t?l("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&p!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Sn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=v=>{const _=Nu(r.current).includes(v.animationName);if(v.target===e&&_&&(l("ANIMATION_END"),!s.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},p=v=>{v.target===e&&(i.current=Nu(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Nu(t){return(t==null?void 0:t.animationName)||"none"}function jO(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Jh({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=FO({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Be(n),l=g.useCallback(u=>{if(i){const h=typeof u=="function"?u(t):u;h!==t&&a(h)}else s(u)},[i,t,s,a]);return[o,l]}function FO({defaultProp:t,onChange:e}){const n=g.useState(t),[r]=n,s=g.useRef(r),i=Be(e);return g.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var UO="VisuallyHidden",ef=g.forwardRef((t,e)=>y.jsx(ye.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));ef.displayName=UO;var $O=ef,qy="ToastProvider",[Gy,zO,BO]=Hy("Toast"),[JS,Mz]=Tr("Toast",[BO]),[HO,tf]=JS(qy),eC=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=g.useState(null),[u,d]=g.useState(0),h=g.useRef(!1),p=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${qy}\`. Expected non-empty \`string\`.`),y.jsx(Gy.Provider,{scope:e,children:y.jsx(HO,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:g.useCallback(()=>d(v=>v+1),[]),onToastRemove:g.useCallback(()=>d(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};eC.displayName=qy;var tC="ToastViewport",WO=["F8"],tg="toast.viewportPause",ng="toast.viewportResume",nC=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=WO,label:s="Notifications ({hotkey})",...i}=t,o=tf(tC,n),a=zO(n),l=g.useRef(null),u=g.useRef(null),d=g.useRef(null),h=g.useRef(null),p=ke(e,h,o.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;g.useEffect(()=>{const S=w=>{var C;r.length!==0&&r.every(k=>w[k]||w.code===k)&&((C=h.current)==null||C.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),g.useEffect(()=>{const S=l.current,w=h.current;if(x&&S&&w){const E=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(tg);w.dispatchEvent(M),o.isClosePausedRef.current=!0}},C=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(ng);w.dispatchEvent(M),o.isClosePausedRef.current=!1}},k=M=>{!S.contains(M.relatedTarget)&&C()},O=()=>{S.contains(document.activeElement)||C()};return S.addEventListener("focusin",E),S.addEventListener("focusout",k),S.addEventListener("pointermove",E),S.addEventListener("pointerleave",O),window.addEventListener("blur",E),window.addEventListener("focus",C),()=>{S.removeEventListener("focusin",E),S.removeEventListener("focusout",k),S.removeEventListener("pointermove",E),S.removeEventListener("pointerleave",O),window.removeEventListener("blur",E),window.removeEventListener("focus",C)}}},[x,o.isClosePausedRef]);const _=g.useCallback(({tabbingDirection:S})=>{const E=a().map(C=>{const k=C.ref.current,O=[k,...sD(k)];return S==="forwards"?O:O.reverse()});return(S==="forwards"?E.reverse():E).flat()},[a]);return g.useEffect(()=>{const S=h.current;if(S){const w=E=>{var O,M,I;const C=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!C){const T=document.activeElement,b=E.shiftKey;if(E.target===S&&b){(O=u.current)==null||O.focus();return}const D=_({tabbingDirection:b?"backwards":"forwards"}),P=D.findIndex(W=>W===T);Mp(D.slice(P+1))?E.preventDefault():b?(M=u.current)==null||M.focus():(I=d.current)==null||I.focus()}};return S.addEventListener("keydown",w),()=>S.removeEventListener("keydown",w)}},[a,_]),y.jsxs(DO,{ref:l,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&y.jsx(rg,{ref:u,onFocusFromOutsideViewport:()=>{const S=_({tabbingDirection:"forwards"});Mp(S)}}),y.jsx(Gy.Slot,{scope:n,children:y.jsx(ye.ol,{tabIndex:-1,...i,ref:p})}),x&&y.jsx(rg,{ref:d,onFocusFromOutsideViewport:()=>{const S=_({tabbingDirection:"backwards"});Mp(S)}})]})});nC.displayName=tC;var rC="ToastFocusProxy",rg=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=tf(rC,n);return y.jsx(ef,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});rg.displayName=rC;var nf="Toast",qO="toast.swipeStart",GO="toast.swipeMove",KO="toast.swipeCancel",QO="toast.swipeEnd",sC=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=Jh({prop:r,defaultProp:s,onChange:i});return y.jsx(Xt,{present:n||a,children:y.jsx(XO,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Be(t.onPause),onResume:Be(t.onResume),onSwipeStart:J(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:J(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:J(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:J(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});sC.displayName=nf;var[ZO,YO]=JS(nf,{onClose(){}}),XO=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:v,...x}=t,_=tf(nf,n),[S,w]=g.useState(null),E=ke(e,W=>w(W)),C=g.useRef(null),k=g.useRef(null),O=s||_.duration,M=g.useRef(0),I=g.useRef(O),T=g.useRef(0),{onToastAdd:b,onToastRemove:R}=_,N=Be(()=>{var ue;(S==null?void 0:S.contains(document.activeElement))&&((ue=_.viewport)==null||ue.focus()),o()}),D=g.useCallback(W=>{!W||W===1/0||(window.clearTimeout(T.current),M.current=new Date().getTime(),T.current=window.setTimeout(N,W))},[N]);g.useEffect(()=>{const W=_.viewport;if(W){const ue=()=>{D(I.current),u==null||u()},re=()=>{const Te=new Date().getTime()-M.current;I.current=I.current-Te,window.clearTimeout(T.current),l==null||l()};return W.addEventListener(tg,re),W.addEventListener(ng,ue),()=>{W.removeEventListener(tg,re),W.removeEventListener(ng,ue)}}},[_.viewport,O,l,u,D]),g.useEffect(()=>{i&&!_.isClosePausedRef.current&&D(O)},[i,O,_.isClosePausedRef,D]),g.useEffect(()=>(b(),()=>R()),[b,R]);const P=g.useMemo(()=>S?dC(S):null,[S]);return _.viewport?y.jsxs(y.Fragment,{children:[P&&y.jsx(JO,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),y.jsx(ZO,{scope:n,onClose:N,children:Mc.createPortal(y.jsx(Gy.ItemSlot,{scope:n,children:y.jsx(OO,{asChild:!0,onEscapeKeyDown:J(a,()=>{_.isFocusedToastEscapeKeyDownRef.current||N(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:y.jsx(ye.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":_.swipeDirection,...x,ref:E,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:J(t.onKeyDown,W=>{W.key==="Escape"&&(a==null||a(W.nativeEvent),W.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:J(t.onPointerDown,W=>{W.button===0&&(C.current={x:W.clientX,y:W.clientY})}),onPointerMove:J(t.onPointerMove,W=>{if(!C.current)return;const ue=W.clientX-C.current.x,re=W.clientY-C.current.y,Te=!!k.current,j=["left","right"].includes(_.swipeDirection),F=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,K=j?F(0,ue):0,ne=j?0:F(0,re),ve=W.pointerType==="touch"?10:2,ut={x:K,y:ne},Ze={originalEvent:W,delta:ut};Te?(k.current=ut,Ou(GO,h,Ze,{discrete:!1})):K1(ut,_.swipeDirection,ve)?(k.current=ut,Ou(qO,d,Ze,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(ue)>ve||Math.abs(re)>ve)&&(C.current=null)}),onPointerUp:J(t.onPointerUp,W=>{const ue=k.current,re=W.target;if(re.hasPointerCapture(W.pointerId)&&re.releasePointerCapture(W.pointerId),k.current=null,C.current=null,ue){const Te=W.currentTarget,j={originalEvent:W,delta:ue};K1(ue,_.swipeDirection,_.swipeThreshold)?Ou(QO,v,j,{discrete:!0}):Ou(KO,p,j,{discrete:!0}),Te.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),JO=t=>{const{__scopeToast:e,children:n,...r}=t,s=tf(nf,e),[i,o]=g.useState(!1),[a,l]=g.useState(!1);return nD(()=>o(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:y.jsx(Xh,{asChild:!0,children:y.jsx(ef,{...r,children:i&&y.jsxs(y.Fragment,{children:[s.label," ",n]})})})},eD="ToastTitle",iC=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return y.jsx(ye.div,{...r,ref:e})});iC.displayName=eD;var tD="ToastDescription",oC=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return y.jsx(ye.div,{...r,ref:e})});oC.displayName=tD;var aC="ToastAction",lC=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?y.jsx(uC,{altText:n,asChild:!0,children:y.jsx(Ky,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${aC}\`. Expected non-empty \`string\`.`),null)});lC.displayName=aC;var cC="ToastClose",Ky=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=YO(cC,n);return y.jsx(uC,{asChild:!0,children:y.jsx(ye.button,{type:"button",...r,ref:e,onClick:J(t.onClick,s.onClose)})})});Ky.displayName=cC;var uC=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return y.jsx(ye.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function dC(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),rD(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...dC(r))}}),e}function Ou(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Wy(s,i):s.dispatchEvent(i)}var K1=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function nD(t=()=>{}){const e=Be(t);Sn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function rD(t){return t.nodeType===t.ELEMENT_NODE}function sD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Mp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var iD=eC,hC=nC,fC=sC,pC=iC,mC=oC,gC=lC,yC=Ky;function vC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=vC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function _C(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=vC(t))&&(r&&(r+=" "),r+=e);return r}const Q1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Z1=_C,Qy=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Z1(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const p=Q1(d)||Q1(h);return s[u][p]}),a=n&&Object.entries(n).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:p,...v}=d;return Object.entries(v).every(x=>{let[_,S]=x;return Array.isArray(S)?S.includes({...i,...a}[_]):{...i,...a}[_]===S})?[...u,h,p]:u},[]);return Z1(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wC=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>g.createElement("svg",{ref:l,...aD,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:wC("lucide",s),...a},[...o.map(([u,d])=>g.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=(t,e)=>{const n=g.forwardRef(({className:r,...s},i)=>g.createElement(lD,{ref:i,iconNode:e,className:wC(`lucide-${oD(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=Cn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=Cn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=Cn("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=Cn("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=Cn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=Cn("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=Cn("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=Cn("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=Cn("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=Cn("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=Cn("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=Cn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Zy="-",vD=t=>{const e=wD(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Zy);return a[0]===""&&a.length!==1&&a.shift(),xC(a,e)||_D(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},xC=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?xC(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Zy);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Y1=/^\[(.+)\]$/,_D=t=>{if(Y1.test(t)){const e=Y1.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},wD=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return TD(Object.entries(t.classGroups),n).forEach(([i,o])=>{ig(o,r,i,e)}),r},ig=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:X1(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(ED(s)){ig(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{ig(o,X1(e,i),n,r)})})},X1=(t,e)=>{let n=t;return e.split(Zy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},ED=t=>t.isThemeGetter,TD=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,xD=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},SC="!",SD=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,d=0,h;for(let S=0;S<a.length;S++){let w=a[S];if(u===0){if(w===s&&(r||a.slice(S,S+i)===e)){l.push(a.slice(d,S)),d=S+i;continue}if(w==="/"){h=S;continue}}w==="["?u++:w==="]"&&u--}const p=l.length===0?a:a.substring(d),v=p.startsWith(SC),x=v?p.substring(1):p,_=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:_}};return n?a=>n({className:a,parseClassName:o}):o},CD=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},ID=t=>({cache:xD(t.cacheSize),parseClassName:SD(t),...vD(t)}),bD=/\s+/,AD=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(bD);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:v}=n(u);let x=!!v,_=r(x?p.substring(0,v):p);if(!_){if(!x){a=u+(a.length>0?" "+a:a);continue}if(_=r(p),!_){a=u+(a.length>0?" "+a:a);continue}x=!1}const S=CD(d).join(":"),w=h?S+SC:S,E=w+_;if(i.includes(E))continue;i.push(E);const C=s(_,x);for(let k=0;k<C.length;++k){const O=C[k];i.push(w+O)}a=u+(a.length>0?" "+a:a)}return a};function RD(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=CC(e))&&(r&&(r+=" "),r+=n);return r}const CC=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=CC(t[r]))&&(n&&(n+=" "),n+=e);return n};function PD(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((d,h)=>h(d),t());return n=ID(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=AD(l,n);return s(l,d),d}return function(){return i(RD.apply(null,arguments))}}const Me=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},IC=/^\[(?:([a-z-]+):)?(.+)\]$/i,kD=/^\d+\/\d+$/,ND=new Set(["px","full","screen"]),OD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,DD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,MD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,LD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,VD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Rr=t=>Do(t)||ND.has(t)||kD.test(t),os=t=>Sa(t,"length",WD),Do=t=>!!t&&!Number.isNaN(Number(t)),Lp=t=>Sa(t,"number",Do),al=t=>!!t&&Number.isInteger(Number(t)),jD=t=>t.endsWith("%")&&Do(t.slice(0,-1)),he=t=>IC.test(t),as=t=>OD.test(t),FD=new Set(["length","size","percentage"]),UD=t=>Sa(t,FD,bC),$D=t=>Sa(t,"position",bC),zD=new Set(["image","url"]),BD=t=>Sa(t,zD,GD),HD=t=>Sa(t,"",qD),ll=()=>!0,Sa=(t,e,n)=>{const r=IC.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},WD=t=>DD.test(t)&&!MD.test(t),bC=()=>!1,qD=t=>LD.test(t),GD=t=>VD.test(t),KD=()=>{const t=Me("colors"),e=Me("spacing"),n=Me("blur"),r=Me("brightness"),s=Me("borderColor"),i=Me("borderRadius"),o=Me("borderSpacing"),a=Me("borderWidth"),l=Me("contrast"),u=Me("grayscale"),d=Me("hueRotate"),h=Me("invert"),p=Me("gap"),v=Me("gradientColorStops"),x=Me("gradientColorStopPositions"),_=Me("inset"),S=Me("margin"),w=Me("opacity"),E=Me("padding"),C=Me("saturate"),k=Me("scale"),O=Me("sepia"),M=Me("skew"),I=Me("space"),T=Me("translate"),b=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",he,e],D=()=>[he,e],P=()=>["",Rr,os],W=()=>["auto",Do,he],ue=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],re=()=>["solid","dashed","dotted","double","none"],Te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",he],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[Do,he];return{cacheSize:500,separator:":",theme:{colors:[ll],spacing:[Rr,os],blur:["none","",as,he],brightness:ne(),borderColor:[t],borderRadius:["none","","full",as,he],borderSpacing:D(),borderWidth:P(),contrast:ne(),grayscale:F(),hueRotate:ne(),invert:F(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[jD,os],inset:N(),margin:N(),opacity:ne(),padding:D(),saturate:ne(),scale:ne(),sepia:F(),skew:ne(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",he]}],container:["container"],columns:[{columns:[as]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ue(),he]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:b()}],"overscroll-x":[{"overscroll-x":b()}],"overscroll-y":[{"overscroll-y":b()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",al,he]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",he]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",al,he]}],"grid-cols":[{"grid-cols":[ll]}],"col-start-end":[{col:["auto",{span:["full",al,he]},he]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[ll]}],"row-start-end":[{row:["auto",{span:[al,he]},he]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",he]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",he]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",he,e]}],"min-w":[{"min-w":[he,e,"min","max","fit"]}],"max-w":[{"max-w":[he,e,"none","full","min","max","fit","prose",{screen:[as]},as]}],h:[{h:[he,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[he,e,"auto","min","max","fit"]}],"font-size":[{text:["base",as,os]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Lp]}],"font-family":[{font:[ll]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",he]}],"line-clamp":[{"line-clamp":["none",Do,Lp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Rr,he]}],"list-image":[{"list-image":["none",he]}],"list-style-type":[{list:["none","disc","decimal",he]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Rr,os]}],"underline-offset":[{"underline-offset":["auto",Rr,he]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ue(),$D]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",UD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},BD]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...re(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:re()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...re()]}],"outline-offset":[{"outline-offset":[Rr,he]}],"outline-w":[{outline:[Rr,os]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Rr,os]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",as,HD]}],"shadow-color":[{shadow:[ll]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...Te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Te()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",as,he]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[C]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",he]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",he]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",he]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[al,he]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Rr,os,Lp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},QD=PD(KD);function xe(...t){return QD(_C(t))}const ZD=iD,AC=g.forwardRef(({className:t,...e},n)=>y.jsx(hC,{ref:n,className:xe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));AC.displayName=hC.displayName;const YD=Qy("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),RC=g.forwardRef(({className:t,variant:e,...n},r)=>y.jsx(fC,{ref:r,className:xe(YD({variant:e}),t),...n}));RC.displayName=fC.displayName;const XD=g.forwardRef(({className:t,...e},n)=>y.jsx(gC,{ref:n,className:xe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));XD.displayName=gC.displayName;const PC=g.forwardRef(({className:t,...e},n)=>y.jsx(yC,{ref:n,className:xe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:y.jsx(TC,{className:"h-4 w-4"})}));PC.displayName=yC.displayName;const kC=g.forwardRef(({className:t,...e},n)=>y.jsx(pC,{ref:n,className:xe("text-sm font-semibold",t),...e}));kC.displayName=pC.displayName;const NC=g.forwardRef(({className:t,...e},n)=>y.jsx(mC,{ref:n,className:xe("text-sm opacity-90",t),...e}));NC.displayName=mC.displayName;function JD(){const{toasts:t}=Zh();return y.jsxs(ZD,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return y.jsxs(RC,{...i,children:[y.jsxs("div",{className:"grid gap-1",children:[n&&y.jsx(kC,{children:n}),r&&y.jsx(NC,{children:r})]}),s,y.jsx(PC,{})]},e)}),y.jsx(AC,{})]})}var e3=IT[" useId ".trim().toString()]||(()=>{}),t3=0;function Mo(t){const[e,n]=g.useState(e3());return Sn(()=>{n(r=>r??String(t3++))},[t]),e?`radix-${e}`:""}const n3=["top","right","bottom","left"],Us=Math.min,nn=Math.max,Wd=Math.round,Du=Math.floor,ar=t=>({x:t,y:t}),r3={left:"right",right:"left",bottom:"top",top:"bottom"},s3={start:"end",end:"start"};function og(t,e,n){return nn(t,Us(e,n))}function Wr(t,e){return typeof t=="function"?t(e):t}function qr(t){return t.split("-")[0]}function Ca(t){return t.split("-")[1]}function Yy(t){return t==="x"?"y":"x"}function Xy(t){return t==="y"?"height":"width"}function $s(t){return["top","bottom"].includes(qr(t))?"y":"x"}function Jy(t){return Yy($s(t))}function i3(t,e,n){n===void 0&&(n=!1);const r=Ca(t),s=Jy(t),i=Xy(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=qd(o)),[o,qd(o)]}function o3(t){const e=qd(t);return[ag(t),e,ag(e)]}function ag(t){return t.replace(/start|end/g,e=>s3[e])}function a3(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function l3(t,e,n,r){const s=Ca(t);let i=a3(qr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(ag)))),i}function qd(t){return t.replace(/left|right|bottom|top/g,e=>r3[e])}function c3(t){return{top:0,right:0,bottom:0,left:0,...t}}function OC(t){return typeof t!="number"?c3(t):{top:t,right:t,bottom:t,left:t}}function Gd(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function J1(t,e,n){let{reference:r,floating:s}=t;const i=$s(e),o=Jy(e),a=Xy(o),l=qr(e),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let v;switch(l){case"top":v={x:d,y:r.y-s.height};break;case"bottom":v={x:d,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:h};break;case"left":v={x:r.x-s.width,y:h};break;default:v={x:r.x,y:r.y}}switch(Ca(e)){case"start":v[o]-=p*(n&&u?-1:1);break;case"end":v[o]+=p*(n&&u?-1:1);break}return v}const u3=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=J1(u,r,l),p=r,v={},x=0;for(let _=0;_<a.length;_++){const{name:S,fn:w}=a[_],{x:E,y:C,data:k,reset:O}=await w({x:d,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:v,rects:u,platform:o,elements:{reference:t,floating:e}});d=E??d,h=C??h,v={...v,[S]:{...v[S],...k}},O&&x<=50&&(x++,typeof O=="object"&&(O.placement&&(p=O.placement),O.rects&&(u=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:d,y:h}=J1(u,p,l)),_=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:v}};async function tc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:v=0}=Wr(e,t),x=OC(v),S=a[p?h==="floating"?"reference":"floating":h],w=Gd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),E=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),k=await(i.isElement==null?void 0:i.isElement(C))?await(i.getScale==null?void 0:i.getScale(C))||{x:1,y:1}:{x:1,y:1},O=Gd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:C,strategy:l}):E);return{top:(w.top-O.top+x.top)/k.y,bottom:(O.bottom-w.bottom+x.bottom)/k.y,left:(w.left-O.left+x.left)/k.x,right:(O.right-w.right+x.right)/k.x}}const d3=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=Wr(t,e)||{};if(u==null)return{};const h=OC(d),p={x:n,y:r},v=Jy(s),x=Xy(v),_=await o.getDimensions(u),S=v==="y",w=S?"top":"left",E=S?"bottom":"right",C=S?"clientHeight":"clientWidth",k=i.reference[x]+i.reference[v]-p[v]-i.floating[x],O=p[v]-i.reference[v],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let I=M?M[C]:0;(!I||!await(o.isElement==null?void 0:o.isElement(M)))&&(I=a.floating[C]||i.floating[x]);const T=k/2-O/2,b=I/2-_[x]/2-1,R=Us(h[w],b),N=Us(h[E],b),D=R,P=I-_[x]-N,W=I/2-_[x]/2+T,ue=og(D,W,P),re=!l.arrow&&Ca(s)!=null&&W!==ue&&i.reference[x]/2-(W<D?R:N)-_[x]/2<0,Te=re?W<D?W-D:W-P:0;return{[v]:p[v]+Te,data:{[v]:ue,centerOffset:W-ue-Te,...re&&{alignmentOffset:Te}},reset:re}}}),h3=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:_=!0,...S}=Wr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=qr(s),E=$s(a),C=qr(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(u.floating)),O=p||(C||!_?[qd(a)]:o3(a)),M=x!=="none";!p&&M&&O.push(...l3(a,_,x,k));const I=[a,...O],T=await tc(e,S),b=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&b.push(T[w]),h){const W=i3(s,o,k);b.push(T[W[0]],T[W[1]])}if(R=[...R,{placement:s,overflows:b}],!b.every(W=>W<=0)){var N,D;const W=(((N=i.flip)==null?void 0:N.index)||0)+1,ue=I[W];if(ue)return{data:{index:W,overflows:R},reset:{placement:ue}};let re=(D=R.filter(Te=>Te.overflows[0]<=0).sort((Te,j)=>Te.overflows[1]-j.overflows[1])[0])==null?void 0:D.placement;if(!re)switch(v){case"bestFit":{var P;const Te=(P=R.filter(j=>{if(M){const F=$s(j.placement);return F===E||F==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(F=>F>0).reduce((F,K)=>F+K,0)]).sort((j,F)=>j[1]-F[1])[0])==null?void 0:P[0];Te&&(re=Te);break}case"initialPlacement":re=a;break}if(s!==re)return{reset:{placement:re}}}return{}}}};function ew(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function tw(t){return n3.some(e=>t[e]>=0)}const f3=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Wr(t,e);switch(r){case"referenceHidden":{const i=await tc(e,{...s,elementContext:"reference"}),o=ew(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:tw(o)}}}case"escaped":{const i=await tc(e,{...s,altBoundary:!0}),o=ew(i,n.floating);return{data:{escapedOffsets:o,escaped:tw(o)}}}default:return{}}}}};async function p3(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=qr(n),a=Ca(n),l=$s(n)==="y",u=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,h=Wr(e,t);let{mainAxis:p,crossAxis:v,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof x=="number"&&(v=a==="end"?x*-1:x),l?{x:v*d,y:p*u}:{x:p*u,y:v*d}}const m3=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await p3(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},g3=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x:w,y:E}=S;return{x:w,y:E}}},...l}=Wr(t,e),u={x:n,y:r},d=await tc(e,l),h=$s(qr(s)),p=Yy(h);let v=u[p],x=u[h];if(i){const S=p==="y"?"top":"left",w=p==="y"?"bottom":"right",E=v+d[S],C=v-d[w];v=og(E,v,C)}if(o){const S=h==="y"?"top":"left",w=h==="y"?"bottom":"right",E=x+d[S],C=x-d[w];x=og(E,x,C)}const _=a.fn({...e,[p]:v,[h]:x});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[p]:i,[h]:o}}}}}},y3=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Wr(t,e),d={x:n,y:r},h=$s(s),p=Yy(h);let v=d[p],x=d[h];const _=Wr(a,e),S=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(l){const C=p==="y"?"height":"width",k=i.reference[p]-i.floating[C]+S.mainAxis,O=i.reference[p]+i.reference[C]-S.mainAxis;v<k?v=k:v>O&&(v=O)}if(u){var w,E;const C=p==="y"?"width":"height",k=["top","left"].includes(qr(s)),O=i.reference[h]-i.floating[C]+(k&&((w=o.offset)==null?void 0:w[h])||0)+(k?0:S.crossAxis),M=i.reference[h]+i.reference[C]+(k?0:((E=o.offset)==null?void 0:E[h])||0)-(k?S.crossAxis:0);x<O?x=O:x>M&&(x=M)}return{[p]:v,[h]:x}}}},v3=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Wr(t,e),d=await tc(e,u),h=qr(s),p=Ca(s),v=$s(s)==="y",{width:x,height:_}=i.floating;let S,w;h==="top"||h==="bottom"?(S=h,w=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=h,S=p==="end"?"top":"bottom");const E=_-d.top-d.bottom,C=x-d.left-d.right,k=Us(_-d[S],E),O=Us(x-d[w],C),M=!e.middlewareData.shift;let I=k,T=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=C),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=E),M&&!p){const R=nn(d.left,0),N=nn(d.right,0),D=nn(d.top,0),P=nn(d.bottom,0);v?T=x-2*(R!==0||N!==0?R+N:nn(d.left,d.right)):I=_-2*(D!==0||P!==0?D+P:nn(d.top,d.bottom))}await l({...e,availableWidth:T,availableHeight:I});const b=await o.getDimensions(a.floating);return x!==b.width||_!==b.height?{reset:{rects:!0}}:{}}}};function rf(){return typeof window<"u"}function Ia(t){return DC(t)?(t.nodeName||"").toLowerCase():"#document"}function on(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function xr(t){var e;return(e=(DC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function DC(t){return rf()?t instanceof Node||t instanceof on(t).Node:!1}function Bn(t){return rf()?t instanceof Element||t instanceof on(t).Element:!1}function gr(t){return rf()?t instanceof HTMLElement||t instanceof on(t).HTMLElement:!1}function nw(t){return!rf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof on(t).ShadowRoot}function jc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Hn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function _3(t){return["table","td","th"].includes(Ia(t))}function sf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function ev(t){const e=tv(),n=Bn(t)?Hn(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function w3(t){let e=zs(t);for(;gr(e)&&!la(e);){if(ev(e))return e;if(sf(e))return null;e=zs(e)}return null}function tv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function la(t){return["html","body","#document"].includes(Ia(t))}function Hn(t){return on(t).getComputedStyle(t)}function of(t){return Bn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function zs(t){if(Ia(t)==="html")return t;const e=t.assignedSlot||t.parentNode||nw(t)&&t.host||xr(t);return nw(e)?e.host:e}function MC(t){const e=zs(t);return la(e)?t.ownerDocument?t.ownerDocument.body:t.body:gr(e)&&jc(e)?e:MC(e)}function nc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=MC(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=on(s);if(i){const a=lg(o);return e.concat(o,o.visualViewport||[],jc(s)?s:[],a&&n?nc(a):[])}return e.concat(s,nc(s,[],n))}function lg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function LC(t){const e=Hn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=gr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Wd(n)!==i||Wd(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function nv(t){return Bn(t)?t:t.contextElement}function Lo(t){const e=nv(t);if(!gr(e))return ar(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=LC(e);let o=(i?Wd(n.width):n.width)/r,a=(i?Wd(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const E3=ar(0);function VC(t){const e=on(t);return!tv()||!e.visualViewport?E3:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function T3(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==on(t)?!1:e}function Mi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=nv(t);let o=ar(1);e&&(r?Bn(r)&&(o=Lo(r)):o=Lo(t));const a=T3(i,n,r)?VC(i):ar(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const p=on(i),v=r&&Bn(r)?on(r):r;let x=p,_=lg(x);for(;_&&r&&v!==x;){const S=Lo(_),w=_.getBoundingClientRect(),E=Hn(_),C=w.left+(_.clientLeft+parseFloat(E.paddingLeft))*S.x,k=w.top+(_.clientTop+parseFloat(E.paddingTop))*S.y;l*=S.x,u*=S.y,d*=S.x,h*=S.y,l+=C,u+=k,x=on(_),_=lg(x)}}return Gd({width:d,height:h,x:l,y:u})}function rv(t,e){const n=of(t).scrollLeft;return e?e.left+n:Mi(xr(t)).left+n}function jC(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:rv(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function x3(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=xr(r),a=e?sf(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=ar(1);const d=ar(0),h=gr(r);if((h||!h&&!i)&&((Ia(r)!=="body"||jc(o))&&(l=of(r)),gr(r))){const v=Mi(r);u=Lo(r),d.x=v.x+r.clientLeft,d.y=v.y+r.clientTop}const p=o&&!h&&!i?jC(o,l,!0):ar(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-l.scrollTop*u.y+d.y+p.y}}function S3(t){return Array.from(t.getClientRects())}function C3(t){const e=xr(t),n=of(t),r=t.ownerDocument.body,s=nn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=nn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+rv(t);const a=-n.scrollTop;return Hn(r).direction==="rtl"&&(o+=nn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function I3(t,e){const n=on(t),r=xr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=tv();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function b3(t,e){const n=Mi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=gr(t)?Lo(t):ar(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function rw(t,e,n){let r;if(e==="viewport")r=I3(t,n);else if(e==="document")r=C3(xr(t));else if(Bn(e))r=b3(e,n);else{const s=VC(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Gd(r)}function FC(t,e){const n=zs(t);return n===e||!Bn(n)||la(n)?!1:Hn(n).position==="fixed"||FC(n,e)}function A3(t,e){const n=e.get(t);if(n)return n;let r=nc(t,[],!1).filter(a=>Bn(a)&&Ia(a)!=="body"),s=null;const i=Hn(t).position==="fixed";let o=i?zs(t):t;for(;Bn(o)&&!la(o);){const a=Hn(o),l=ev(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||jc(o)&&!l&&FC(t,o))?r=r.filter(d=>d!==o):s=a,o=zs(o)}return e.set(t,r),r}function R3(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?sf(e)?[]:A3(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const h=rw(e,d,s);return u.top=nn(h.top,u.top),u.right=Us(h.right,u.right),u.bottom=Us(h.bottom,u.bottom),u.left=nn(h.left,u.left),u},rw(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function P3(t){const{width:e,height:n}=LC(t);return{width:e,height:n}}function k3(t,e,n){const r=gr(e),s=xr(e),i=n==="fixed",o=Mi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=ar(0);if(r||!r&&!i)if((Ia(e)!=="body"||jc(s))&&(a=of(e)),r){const p=Mi(e,!0,i,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else s&&(l.x=rv(s));const u=s&&!r&&!i?jC(s,a):ar(0),d=o.left+a.scrollLeft-l.x-u.x,h=o.top+a.scrollTop-l.y-u.y;return{x:d,y:h,width:o.width,height:o.height}}function Vp(t){return Hn(t).position==="static"}function sw(t,e){if(!gr(t)||Hn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return xr(t)===n&&(n=n.ownerDocument.body),n}function UC(t,e){const n=on(t);if(sf(t))return n;if(!gr(t)){let s=zs(t);for(;s&&!la(s);){if(Bn(s)&&!Vp(s))return s;s=zs(s)}return n}let r=sw(t,e);for(;r&&_3(r)&&Vp(r);)r=sw(r,e);return r&&la(r)&&Vp(r)&&!ev(r)?n:r||w3(t)||n}const N3=async function(t){const e=this.getOffsetParent||UC,n=this.getDimensions,r=await n(t.floating);return{reference:k3(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function O3(t){return Hn(t).direction==="rtl"}const D3={convertOffsetParentRelativeRectToViewportRelativeRect:x3,getDocumentElement:xr,getClippingRect:R3,getOffsetParent:UC,getElementRects:N3,getClientRects:S3,getDimensions:P3,getScale:Lo,isElement:Bn,isRTL:O3};function $C(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function M3(t,e){let n=null,r;const s=xr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:d,top:h,width:p,height:v}=u;if(a||e(),!p||!v)return;const x=Du(h),_=Du(s.clientWidth-(d+p)),S=Du(s.clientHeight-(h+v)),w=Du(d),C={rootMargin:-x+"px "+-_+"px "+-S+"px "+-w+"px",threshold:nn(0,Us(1,l))||1};let k=!0;function O(M){const I=M[0].intersectionRatio;if(I!==l){if(!k)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!$C(u,t.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(O,{...C,root:s.ownerDocument})}catch{n=new IntersectionObserver(O,C)}n.observe(t)}return o(!0),i}function L3(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=nv(t),d=s||i?[...u?nc(u):[],...nc(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const h=u&&a?M3(u,n):null;let p=-1,v=null;o&&(v=new ResizeObserver(w=>{let[E]=w;E&&E.target===u&&v&&(v.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var C;(C=v)==null||C.observe(e)})),n()}),u&&!l&&v.observe(u),v.observe(e));let x,_=l?Mi(t):null;l&&S();function S(){const w=Mi(t);_&&!$C(_,w)&&n(),_=w,x=requestAnimationFrame(S)}return n(),()=>{var w;d.forEach(E=>{s&&E.removeEventListener("scroll",n),i&&E.removeEventListener("resize",n)}),h==null||h(),(w=v)==null||w.disconnect(),v=null,l&&cancelAnimationFrame(x)}}const V3=m3,j3=g3,F3=h3,U3=v3,$3=f3,iw=d3,z3=y3,B3=(t,e,n)=>{const r=new Map,s={platform:D3,...n},i={...s.platform,_c:r};return u3(t,e,{...s,platform:i})};var od=typeof document<"u"?g.useLayoutEffect:g.useEffect;function Kd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Kd(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Kd(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function zC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ow(t,e){const n=zC(t);return Math.round(e*n)/n}function jp(t){const e=g.useRef(t);return od(()=>{e.current=t}),e}function H3(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,h]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,v]=g.useState(r);Kd(p,r)||v(r);const[x,_]=g.useState(null),[S,w]=g.useState(null),E=g.useCallback(j=>{j!==M.current&&(M.current=j,_(j))},[]),C=g.useCallback(j=>{j!==I.current&&(I.current=j,w(j))},[]),k=i||x,O=o||S,M=g.useRef(null),I=g.useRef(null),T=g.useRef(d),b=l!=null,R=jp(l),N=jp(s),D=jp(u),P=g.useCallback(()=>{if(!M.current||!I.current)return;const j={placement:e,strategy:n,middleware:p};N.current&&(j.platform=N.current),B3(M.current,I.current,j).then(F=>{const K={...F,isPositioned:D.current!==!1};W.current&&!Kd(T.current,K)&&(T.current=K,Mc.flushSync(()=>{h(K)}))})},[p,e,n,N,D]);od(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(j=>({...j,isPositioned:!1})))},[u]);const W=g.useRef(!1);od(()=>(W.current=!0,()=>{W.current=!1}),[]),od(()=>{if(k&&(M.current=k),O&&(I.current=O),k&&O){if(R.current)return R.current(k,O,P);P()}},[k,O,P,R,b]);const ue=g.useMemo(()=>({reference:M,floating:I,setReference:E,setFloating:C}),[E,C]),re=g.useMemo(()=>({reference:k,floating:O}),[k,O]),Te=g.useMemo(()=>{const j={position:n,left:0,top:0};if(!re.floating)return j;const F=ow(re.floating,d.x),K=ow(re.floating,d.y);return a?{...j,transform:"translate("+F+"px, "+K+"px)",...zC(re.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:K}},[n,a,re.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:P,refs:ue,elements:re,floatingStyles:Te}),[d,P,ue,re,Te])}const W3=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?iw({element:r.current,padding:s}).fn(n):{}:r?iw({element:r,padding:s}).fn(n):{}}}},q3=(t,e)=>({...V3(t),options:[t,e]}),G3=(t,e)=>({...j3(t),options:[t,e]}),K3=(t,e)=>({...z3(t),options:[t,e]}),Q3=(t,e)=>({...F3(t),options:[t,e]}),Z3=(t,e)=>({...U3(t),options:[t,e]}),Y3=(t,e)=>({...$3(t),options:[t,e]}),X3=(t,e)=>({...W3(t),options:[t,e]});var J3="Arrow",BC=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return y.jsx(ye.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});BC.displayName=J3;var eM=BC;function tM(t){const[e,n]=g.useState(void 0);return Sn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var sv="Popper",[HC,af]=Tr(sv),[nM,WC]=HC(sv),qC=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return y.jsx(nM,{scope:e,anchor:r,onAnchorChange:s,children:n})};qC.displayName=sv;var GC="PopperAnchor",KC=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=WC(GC,n),o=g.useRef(null),a=ke(e,o);return g.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:y.jsx(ye.div,{...s,ref:a})});KC.displayName=GC;var iv="PopperContent",[rM,sM]=HC(iv),QC=g.forwardRef((t,e)=>{var dt,br,Dt,si,Jc,Oa;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:v="optimized",onPlaced:x,..._}=t,S=WC(iv,n),[w,E]=g.useState(null),C=ke(e,Ar=>E(Ar)),[k,O]=g.useState(null),M=tM(k),I=(M==null?void 0:M.width)??0,T=(M==null?void 0:M.height)??0,b=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(u)?u:[u],D=N.length>0,P={padding:R,boundary:N.filter(oM),altBoundary:D},{refs:W,floatingStyles:ue,placement:re,isPositioned:Te,middlewareData:j}=H3({strategy:"fixed",placement:b,whileElementsMounted:(...Ar)=>L3(...Ar,{animationFrame:v==="always"}),elements:{reference:S.anchor},middleware:[q3({mainAxis:s+T,alignmentAxis:o}),l&&G3({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?K3():void 0,...P}),l&&Q3({...P}),Z3({...P,apply:({elements:Ar,rects:Da,availableWidth:jf,availableHeight:Ma})=>{const{width:La,height:eu}=Da.reference,Ye=Ar.floating.style;Ye.setProperty("--radix-popper-available-width",`${jf}px`),Ye.setProperty("--radix-popper-available-height",`${Ma}px`),Ye.setProperty("--radix-popper-anchor-width",`${La}px`),Ye.setProperty("--radix-popper-anchor-height",`${eu}px`)}}),k&&X3({element:k,padding:a}),aM({arrowWidth:I,arrowHeight:T}),p&&Y3({strategy:"referenceHidden",...P})]}),[F,K]=XC(re),ne=Be(x);Sn(()=>{Te&&(ne==null||ne())},[Te,ne]);const ve=(dt=j.arrow)==null?void 0:dt.x,ut=(br=j.arrow)==null?void 0:br.y,Ze=((Dt=j.arrow)==null?void 0:Dt.centerOffset)!==0,[dn,it]=g.useState();return Sn(()=>{w&&it(window.getComputedStyle(w).zIndex)},[w]),y.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...ue,transform:Te?ue.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:dn,"--radix-popper-transform-origin":[(si=j.transformOrigin)==null?void 0:si.x,(Jc=j.transformOrigin)==null?void 0:Jc.y].join(" "),...((Oa=j.hide)==null?void 0:Oa.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:y.jsx(rM,{scope:n,placedSide:F,onArrowChange:O,arrowX:ve,arrowY:ut,shouldHideArrow:Ze,children:y.jsx(ye.div,{"data-side":F,"data-align":K,..._,ref:C,style:{..._.style,animation:Te?void 0:"none"}})})})});QC.displayName=iv;var ZC="PopperArrow",iM={top:"bottom",right:"left",bottom:"top",left:"right"},YC=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=sM(ZC,r),o=iM[i.placedSide];return y.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:y.jsx(eM,{...s,ref:n,style:{...s.style,display:"block"}})})});YC.displayName=ZC;function oM(t){return t!==null}var aM=t=>({name:"transformOrigin",options:t,fn(e){var S,w,E;const{placement:n,rects:r,middlewareData:s}=e,o=((S=s.arrow)==null?void 0:S.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=XC(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,v=(((E=s.arrow)==null?void 0:E.y)??0)+l/2;let x="",_="";return u==="bottom"?(x=o?h:`${p}px`,_=`${-l}px`):u==="top"?(x=o?h:`${p}px`,_=`${r.floating.height+l}px`):u==="right"?(x=`${-l}px`,_=o?h:`${v}px`):u==="left"&&(x=`${r.floating.width+l}px`,_=o?h:`${v}px`),{data:{x,y:_}}}});function XC(t){const[e,n="center"]=t.split("-");return[e,n]}var lM=qC,JC=KC,eI=QC,tI=YC,[lf,Lz]=Tr("Tooltip",[af]),ov=af(),nI="TooltipProvider",cM=700,aw="tooltip.open",[uM,rI]=lf(nI),sI=t=>{const{__scopeTooltip:e,delayDuration:n=cM,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=g.useRef(!0),a=g.useRef(!1),l=g.useRef(0);return g.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),y.jsx(uM,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:g.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};sI.displayName=nI;var iI="Tooltip",[Vz,cf]=lf(iI),cg="TooltipTrigger",dM=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=cf(cg,n),i=rI(cg,n),o=ov(n),a=g.useRef(null),l=ke(e,a,s.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),h=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),y.jsx(JC,{asChild:!0,...o,children:y.jsx(ye.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:J(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:J(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:J(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:J(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:J(t.onBlur,s.onClose),onClick:J(t.onClick,s.onClose)})})});dM.displayName=cg;var hM="TooltipPortal",[jz,fM]=lf(hM,{forceMount:void 0}),ca="TooltipContent",oI=g.forwardRef((t,e)=>{const n=fM(ca,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=cf(ca,t.__scopeTooltip);return y.jsx(Xt,{present:r||o.open,children:o.disableHoverableContent?y.jsx(aI,{side:s,...i,ref:e}):y.jsx(pM,{side:s,...i,ref:e})})}),pM=g.forwardRef((t,e)=>{const n=cf(ca,t.__scopeTooltip),r=rI(ca,t.__scopeTooltip),s=g.useRef(null),i=ke(e,s),[o,a]=g.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,p=g.useCallback(()=>{a(null),h(!1)},[h]),v=g.useCallback((x,_)=>{const S=x.currentTarget,w={x:x.clientX,y:x.clientY},E=_M(w,S.getBoundingClientRect()),C=wM(w,E),k=EM(_.getBoundingClientRect()),O=xM([...C,...k]);a(O),h(!0)},[h]);return g.useEffect(()=>()=>p(),[p]),g.useEffect(()=>{if(l&&d){const x=S=>v(S,d),_=S=>v(S,l);return l.addEventListener("pointerleave",x),d.addEventListener("pointerleave",_),()=>{l.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",_)}}},[l,d,v,p]),g.useEffect(()=>{if(o){const x=_=>{const S=_.target,w={x:_.clientX,y:_.clientY},E=(l==null?void 0:l.contains(S))||(d==null?void 0:d.contains(S)),C=!TM(w,o);E?p():C&&(p(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,d,o,u,p]),y.jsx(aI,{...t,ref:i})}),[mM,gM]=lf(iI,{isInside:!1}),yM=EO("TooltipContent"),aI=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=cf(ca,n),u=ov(n),{onClose:d}=l;return g.useEffect(()=>(document.addEventListener(aw,d),()=>document.removeEventListener(aw,d)),[d]),g.useEffect(()=>{if(l.trigger){const h=p=>{const v=p.target;v!=null&&v.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),y.jsx(Vc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:y.jsxs(eI,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[y.jsx(yM,{children:r}),y.jsx(mM,{scope:n,isInside:!0,children:y.jsx($O,{id:l.contentId,role:"tooltip",children:s||r})})]})})});oI.displayName=ca;var lI="TooltipArrow",vM=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=ov(n);return gM(lI,n).isInside?null:y.jsx(tI,{...s,...r,ref:e})});vM.displayName=lI;function _M(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function wM(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function EM(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function TM(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,u=e[o].x,d=e[o].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function xM(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),SM(e)}function SM(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var CM=sI,cI=oI;const IM=CM,bM=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>y.jsx(cI,{ref:r,sideOffset:e,className:xe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));bM.displayName=cI.displayName;const AM=()=>{};var lw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},RM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},dI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|u>>6,v=u&63;l||(v=64,o||(p=64)),r.push(n[d],n[h],n[p],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):RM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw new PM;const p=i<<2|a>>4;if(r.push(p),u!==64){const v=a<<4&240|u>>2;if(r.push(v),h!==64){const x=u<<6&192|h;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class PM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kM=function(t){const e=uI(t);return dI.encodeByteArray(e,!0)},Qd=function(t){return kM(t).replace(/\./g,"")},hI=function(t){try{return dI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=()=>NM().__FIREBASE_DEFAULTS__,DM=()=>{if(typeof process>"u"||typeof lw>"u")return;const t=lw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},MM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&hI(t[1]);return e&&JSON.parse(e)},uf=()=>{try{return AM()||OM()||DM()||MM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fI=t=>{var e,n;return(n=(e=uf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},pI=t=>{const e=fI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},mI=()=>{var t;return(t=uf())==null?void 0:t.config},gI=t=>{var e;return(e=uf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function av(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Qd(JSON.stringify(n)),Qd(JSON.stringify(o)),""].join(".")}const Pl={};function VM(){const t={prod:[],emulator:[]};for(const e of Object.keys(Pl))Pl[e]?t.emulator.push(e):t.prod.push(e);return t}function jM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let cw=!1;function lv(t,e){if(typeof window>"u"||typeof document>"u"||!Gi(window.location.host)||Pl[t]===e||Pl[t]||cw)return;Pl[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=VM().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,v){p.setAttribute("width","24"),p.setAttribute("id",v),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{cw=!0,o()},p}function d(p,v){p.setAttribute("id",v),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=jM(r),v=n("text"),x=document.getElementById(v)||document.createElement("span"),_=n("learnmore"),S=document.getElementById(_)||document.createElement("a"),w=n("preprendIcon"),E=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const C=p.element;a(C),d(S,_);const k=u();l(E,w),C.append(E,x,S,k),document.body.appendChild(C)}i?(x.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}function UM(){var e;const t=(e=uf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $M(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function BM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HM(){const t=kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function WM(){return!UM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qM(){try{return typeof indexedDB=="object"}catch{return!1}}function GM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM="FirebaseError";class Sr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=KM,Object.setPrototypeOf(this,Sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fc.prototype.create)}}class Fc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?QM(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Sr(s,a,r)}}function QM(t,e){return t.replace(ZM,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const ZM=/\{\$([^}]+)}/g;function YM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Li(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(uw(i)&&uw(o)){if(!Li(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function uw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function XM(t,e){const n=new JM(t,e);return n.subscribe.bind(n)}class JM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");e9(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Fp),s.error===void 0&&(s.error=Fp),s.complete===void 0&&(s.complete=Fp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function e9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Fp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t){return t&&t._delegate?t._delegate:t}class Bs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new LM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(r9(e))try{this.getOrInitializeService({instanceIdentifier:hi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=hi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hi){return this.instances.has(e)}getOptions(e=hi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:n9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hi){return this.component?this.component.multipleInstances?e:hi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function n9(t){return t===hi?void 0:t}function r9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new t9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const i9={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},o9=_e.INFO,a9={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},l9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=a9[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cv{constructor(e){this.name=e,this._logLevel=o9,this._logHandler=l9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?i9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const c9=(t,e)=>e.some(n=>t instanceof n);let dw,hw;function u9(){return dw||(dw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function d9(){return hw||(hw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vI=new WeakMap,ug=new WeakMap,_I=new WeakMap,Up=new WeakMap,uv=new WeakMap;function h9(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ds(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&vI.set(n,t)}).catch(()=>{}),uv.set(e,t),e}function f9(t){if(ug.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});ug.set(t,e)}let dg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ug.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_I.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ds(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function p9(t){dg=t(dg)}function m9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($p(this),e,...n);return _I.set(r,e.sort?e.sort():[e]),Ds(r)}:d9().includes(t)?function(...e){return t.apply($p(this),e),Ds(vI.get(this))}:function(...e){return Ds(t.apply($p(this),e))}}function g9(t){return typeof t=="function"?m9(t):(t instanceof IDBTransaction&&f9(t),c9(t,u9())?new Proxy(t,dg):t)}function Ds(t){if(t instanceof IDBRequest)return h9(t);if(Up.has(t))return Up.get(t);const e=g9(t);return e!==t&&(Up.set(t,e),uv.set(e,t)),e}const $p=t=>uv.get(t);function y9(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ds(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ds(o.result),l.oldVersion,l.newVersion,Ds(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const v9=["get","getKey","getAll","getAllKeys","count"],_9=["put","add","delete","clear"],zp=new Map;function fw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zp.get(e))return zp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=_9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||v9.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return zp.set(e,i),i}p9(t=>({...t,get:(e,n,r)=>fw(e,n)||t.get(e,n,r),has:(e,n)=>!!fw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(E9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function E9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hg="@firebase/app",pw="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new cv("@firebase/app"),T9="@firebase/app-compat",x9="@firebase/analytics-compat",S9="@firebase/analytics",C9="@firebase/app-check-compat",I9="@firebase/app-check",b9="@firebase/auth",A9="@firebase/auth-compat",R9="@firebase/database",P9="@firebase/data-connect",k9="@firebase/database-compat",N9="@firebase/functions",O9="@firebase/functions-compat",D9="@firebase/installations",M9="@firebase/installations-compat",L9="@firebase/messaging",V9="@firebase/messaging-compat",j9="@firebase/performance",F9="@firebase/performance-compat",U9="@firebase/remote-config",$9="@firebase/remote-config-compat",z9="@firebase/storage",B9="@firebase/storage-compat",H9="@firebase/firestore",W9="@firebase/ai",q9="@firebase/firestore-compat",G9="firebase",K9="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="[DEFAULT]",Q9={[hg]:"fire-core",[T9]:"fire-core-compat",[S9]:"fire-analytics",[x9]:"fire-analytics-compat",[I9]:"fire-app-check",[C9]:"fire-app-check-compat",[b9]:"fire-auth",[A9]:"fire-auth-compat",[R9]:"fire-rtdb",[P9]:"fire-data-connect",[k9]:"fire-rtdb-compat",[N9]:"fire-fn",[O9]:"fire-fn-compat",[D9]:"fire-iid",[M9]:"fire-iid-compat",[L9]:"fire-fcm",[V9]:"fire-fcm-compat",[j9]:"fire-perf",[F9]:"fire-perf-compat",[U9]:"fire-rc",[$9]:"fire-rc-compat",[z9]:"fire-gcs",[B9]:"fire-gcs-compat",[H9]:"fire-fst",[q9]:"fire-fst-compat",[W9]:"fire-vertex","fire-js":"fire-js",[G9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd=new Map,Z9=new Map,pg=new Map;function mw(t,e){try{t.container.addComponent(e)}catch(n){Gr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vi(t){const e=t.name;if(pg.has(e))return Gr.debug(`There were multiple attempts to register component ${e}.`),!1;pg.set(e,t);for(const n of Zd.values())mw(n,t);for(const n of Z9.values())mw(n,t);return!0}function df(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function mn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ms=new Fc("app","Firebase",Y9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=K9;function wI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:fg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ms.create("bad-app-name",{appName:String(s)});if(n||(n=mI()),!n)throw Ms.create("no-options");const i=Zd.get(s);if(i){if(Li(n,i.options)&&Li(r,i.config))return i;throw Ms.create("duplicate-app",{appName:s})}const o=new s9(s);for(const l of pg.values())o.addComponent(l);const a=new X9(n,r,o);return Zd.set(s,a),a}function dv(t=fg){const e=Zd.get(t);if(!e&&t===fg&&mI())return wI();if(!e)throw Ms.create("no-app",{appName:t});return e}function lr(t,e,n){let r=Q9[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gr.warn(o.join(" "));return}Vi(new Bs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9="firebase-heartbeat-database",e6=1,rc="firebase-heartbeat-store";let Bp=null;function EI(){return Bp||(Bp=y9(J9,e6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ms.create("idb-open",{originalErrorMessage:t.message})})),Bp}async function t6(t){try{const n=(await EI()).transaction(rc),r=await n.objectStore(rc).get(TI(t));return await n.done,r}catch(e){if(e instanceof Sr)Gr.warn(e.message);else{const n=Ms.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gr.warn(n.message)}}}async function gw(t,e){try{const r=(await EI()).transaction(rc,"readwrite");await r.objectStore(rc).put(e,TI(t)),await r.done}catch(n){if(n instanceof Sr)Gr.warn(n.message);else{const r=Ms.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gr.warn(r.message)}}}function TI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=1024,r6=30;class s6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new o6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=yw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>r6){const o=a6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Gr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=yw(),{heartbeatsToSend:r,unsentEntries:s}=i6(this._heartbeatsCache.heartbeats),i=Qd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Gr.warn(n),""}}}function yw(){return new Date().toISOString().substring(0,10)}function i6(t,e=n6){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),vw(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),vw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class o6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qM()?GM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await t6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return gw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return gw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function vw(t){return Qd(JSON.stringify({version:2,heartbeats:t})).length}function a6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(t){Vi(new Bs("platform-logger",e=>new w9(e),"PRIVATE")),Vi(new Bs("heartbeat",e=>new s6(e),"PRIVATE")),lr(hg,pw,t),lr(hg,pw,"esm2020"),lr("fire-js","")}l6("");var c6="firebase",u6="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lr(c6,u6,"app");function xI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const d6=xI,SI=new Fc("auth","Firebase",xI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd=new cv("@firebase/auth");function h6(t,...e){Yd.logLevel<=_e.WARN&&Yd.warn(`Auth (${Ki}): ${t}`,...e)}function ad(t,...e){Yd.logLevel<=_e.ERROR&&Yd.error(`Auth (${Ki}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(t,...e){throw fv(t,...e)}function Un(t,...e){return fv(t,...e)}function hv(t,e,n){const r={...d6(),[e]:n};return new Fc("auth","Firebase",r).create(e,{appName:t.name})}function Ci(t){return hv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function f6(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&yr(t,"argument-error"),hv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return SI.create(t,...e)}function ae(t,e,...n){if(!t)throw fv(e,...n)}function Vr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ad(e),new Error(e)}function Kr(t,e){t||Vr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function p6(){return _w()==="http:"||_w()==="https:"}function _w(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(p6()||zM()||"connection"in navigator)?navigator.onLine:!0}function g6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n){this.shortDelay=e,this.longDelay=n,Kr(n>e,"Short delay should be less than long delay!"),this.isMobile=FM()||BM()}get(){return m6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(t,e){Kr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_6=new $c(3e4,6e4);function mv(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ba(t,e,n,r,s={}){return II(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Uc({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...i};return $M()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Gi(t.emulatorConfig.host)&&(u.credentials="include"),CI.fetch()(await bI(t,t.config.apiHost,n,a),u)})}async function II(t,e,n){t._canInitEmulator=!1;const r={...y6,...e};try{const s=new E6(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Mu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Mu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Mu(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw hv(t,d,u);yr(t,d)}}catch(s){if(s instanceof Sr)throw s;yr(t,"network-request-failed",{message:String(s)})}}async function w6(t,e,n,r,s={}){const i=await ba(t,e,n,r,s);return"mfaPendingCredential"in i&&yr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function bI(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?pv(t.config,s):`${t.config.apiScheme}://${s}`;return v6.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class E6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Un(this.auth,"network-request-failed")),_6.get())})}}function Mu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Un(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T6(t,e){return ba(t,"POST","/v1/accounts:delete",e)}async function Xd(t,e){return ba(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function x6(t,e=!1){const n=Nt(t),r=await n.getIdToken(e),s=gv(r);ae(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:kl(Hp(s.auth_time)),issuedAtTime:kl(Hp(s.iat)),expirationTime:kl(Hp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Hp(t){return Number(t)*1e3}function gv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ad("JWT malformed, contained fewer than 3 sections"),null;try{const s=hI(n);return s?JSON.parse(s):(ad("Failed to decode base64 JWT payload"),null)}catch(s){return ad("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function ww(t){const e=gv(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Sr&&S6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function S6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kl(this.lastLoginAt),this.creationTime=kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jd(t){var h;const e=t.auth,n=await t.getIdToken(),r=await sc(t,Xd(e,{idToken:n}));ae(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(h=s.providerUserInfo)!=null&&h.length?AI(s.providerUserInfo):[],o=b6(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new gg(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function I6(t){const e=Nt(t);await Jd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function b6(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function AI(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A6(t,e){const n=await II(t,{},async()=>{const r=Uc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await bI(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Gi(t.emulatorConfig.host)&&(l.credentials="include"),CI.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function R6(t,e){return ba(t,"POST","/v2/accounts:revokeToken",mv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ww(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const n=ww(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await A6(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Vo;return r&&(ae(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ae(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ae(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vo,this.toJSON())}_performRefresh(){return Vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Dn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new C6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new gg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await sc(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return x6(this,e)}reload(){return I6(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Dn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Jd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mn(this.auth.app))return Promise.reject(Ci(this.auth));const e=await this.getIdToken();return await sc(this,T6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:v,providerData:x,stsTokenManager:_}=n;ae(h&&_,e,"internal-error");const S=Vo.fromJSON(this.name,_);ae(typeof h=="string",e,"internal-error"),ls(r,e.name),ls(s,e.name),ae(typeof p=="boolean",e,"internal-error"),ae(typeof v=="boolean",e,"internal-error"),ls(i,e.name),ls(o,e.name),ls(a,e.name),ls(l,e.name),ls(u,e.name),ls(d,e.name);const w=new Dn({uid:h,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:S,createdAt:u,lastLoginAt:d});return x&&Array.isArray(x)&&(w.providerData=x.map(E=>({...E}))),l&&(w._redirectEventId=l),w}static async _fromIdTokenResponse(e,n,r=!1){const s=new Vo;s.updateFromServerResponse(n);const i=new Dn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Jd(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ae(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?AI(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Vo;a.updateFromIdToken(r);const l=new Dn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new gg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=new Map;function jr(t){Kr(t instanceof Function,"Expected a class definition");let e=Ew.get(t);return e?(Kr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ew.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}RI.type="NONE";const Tw=RI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(t,e,n){return`firebase:${t}:${e}:${n}`}class jo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=ld(this.userKey,s.apiKey,i),this.fullPersistenceKey=ld("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Xd(this.auth,{idToken:e}).catch(()=>{});return n?Dn._fromGetAccountInfoResponse(this.auth,n,e):null}return Dn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new jo(jr(Tw),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||jr(Tw);const o=ld(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let h;if(typeof d=="string"){const p=await Xd(e,{idToken:d}).catch(()=>{});if(!p)break;h=await Dn._fromGetAccountInfoResponse(e,p,d)}else h=Dn._fromJSON(e,d);u!==i&&(a=h),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new jo(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new jo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MI(e))return"Blackberry";if(LI(e))return"Webos";if(kI(e))return"Safari";if((e.includes("chrome/")||NI(e))&&!e.includes("edge/"))return"Chrome";if(DI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function PI(t=kt()){return/firefox\//i.test(t)}function kI(t=kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NI(t=kt()){return/crios\//i.test(t)}function OI(t=kt()){return/iemobile/i.test(t)}function DI(t=kt()){return/android/i.test(t)}function MI(t=kt()){return/blackberry/i.test(t)}function LI(t=kt()){return/webos/i.test(t)}function yv(t=kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function P6(t=kt()){var e;return yv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function k6(){return HM()&&document.documentMode===10}function VI(t=kt()){return yv(t)||DI(t)||LI(t)||MI(t)||/windows phone/i.test(t)||OI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(t,e=[]){let n;switch(t){case"Browser":n=xw(kt());break;case"Worker":n=`${xw(kt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ki}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O6(t,e={}){return ba(t,"GET","/v2/passwordPolicy",mv(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6=6;class M6{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??D6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sw(this),this.idTokenSubscription=new Sw(this),this.beforeStateQueue=new N6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=jr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await jo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Xd(this,{idToken:e}),r=await Dn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(mn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Jd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=g6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mn(this.app))return Promise.reject(Ci(this));const n=e?Nt(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mn(this.app)?Promise.reject(Ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mn(this.app)?Promise.reject(Ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(jr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await O6(this),n=new M6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await R6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&jr(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await jo.create(this,[jr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&h6(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function hf(t){return Nt(t)}class Sw{constructor(e){this.auth=e,this.observer=null,this.addObserver=XM(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function V6(t){vv=t}function j6(t){return vv.loadJS(t)}function F6(){return vv.gapiScript}function U6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $6(t,e){const n=df(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Li(i,e??{}))return s;yr(s,"already-initialized")}return n.initialize({options:e})}function z6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(jr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function B6(t,e,n){const r=hf(t);ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=FI(e),{host:o,port:a}=H6(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ae(Li(u,r.config.emulator)&&Li(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Gi(o)?(av(`${i}//${o}${l}`),lv("Auth",!0)):W6()}function FI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function H6(t){const e=FI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Cw(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Cw(o)}}}function Cw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function W6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vr("not implemented")}_getIdTokenResponse(e){return Vr("not implemented")}_linkToIdToken(e,n){return Vr("not implemented")}_getReauthenticationResolver(e){return Vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(t,e){return w6(t,"POST","/v1/accounts:signInWithIdp",mv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6="http://localhost";class ji extends UI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ji(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new ji(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Fo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fo(e,n)}buildRequest(){const e={requestUri:q6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Uc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends _v{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends zc{constructor(){super("facebook.com")}static credential(e){return ji._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr extends zc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ji._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return rr.credential(n,r)}catch{return null}}}rr.GOOGLE_SIGN_IN_METHOD="google.com";rr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends zc{constructor(){super("github.com")}static credential(e){return ji._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.GITHUB_SIGN_IN_METHOD="github.com";gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends zc{constructor(){super("twitter.com")}static credential(e,n){return ji._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ys.credential(n,r)}catch{return null}}}ys.TWITTER_SIGN_IN_METHOD="twitter.com";ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Dn._fromIdTokenResponse(e,r,s),o=Iw(r);return new ua({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Iw(r);return new ua({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Iw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh extends Sr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,eh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new eh(e,n,r,s)}}function $I(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?eh._fromErrorAndOperation(t,i,e,r):i})}async function G6(t,e,n=!1){const r=await sc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ua._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K6(t,e,n=!1){const{auth:r}=t;if(mn(r.app))return Promise.reject(Ci(r));const s="reauthenticate";try{const i=await sc(t,$I(r,s,e,t),n);ae(i.idToken,r,"internal-error");const o=gv(i.idToken);ae(o,r,"internal-error");const{sub:a}=o;return ae(t.uid===a,r,"user-mismatch"),ua._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&yr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q6(t,e,n=!1){if(mn(t.app))return Promise.reject(Ci(t));const r="signIn",s=await $I(t,r,e),i=await ua._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function Z6(t,e,n,r){return Nt(t).onIdTokenChanged(e,n,r)}function Y6(t,e,n){return Nt(t).beforeAuthStateChanged(e,n)}function yg(t,e,n,r){return Nt(t).onAuthStateChanged(e,n,r)}function zI(t){return Nt(t).signOut()}const th="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(th,"1"),this.storage.removeItem(th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6=1e3,J6=10;class HI extends BI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);k6()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,J6):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},X6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}HI.type="LOCAL";const e5=HI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI extends BI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}WI.type="SESSION";const qI=WI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ff(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await t5(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ff.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=wv("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(){return window}function r5(t){cr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(){return typeof cr().WorkerGlobalScope<"u"&&typeof cr().importScripts=="function"}async function s5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function i5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function o5(){return GI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="firebaseLocalStorageDb",a5=1,nh="firebaseLocalStorage",QI="fbase_key";class Bc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pf(t,e){return t.transaction([nh],e?"readwrite":"readonly").objectStore(nh)}function l5(){const t=indexedDB.deleteDatabase(KI);return new Bc(t).toPromise()}function vg(){const t=indexedDB.open(KI,a5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(nh,{keyPath:QI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(nh)?e(r):(r.close(),await l5(),e(await vg()))})})}async function bw(t,e,n){const r=pf(t,!0).put({[QI]:e,value:n});return new Bc(r).toPromise()}async function c5(t,e){const n=pf(t,!1).get(e),r=await new Bc(n).toPromise();return r===void 0?null:r.value}function Aw(t,e){const n=pf(t,!0).delete(e);return new Bc(n).toPromise()}const u5=800,d5=3;class ZI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>d5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ff._getInstance(o5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await s5(),!this.activeServiceWorker)return;this.sender=new n5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||i5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vg();return await bw(e,th,"1"),await Aw(e,th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>bw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>c5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Aw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=pf(s,!1).getAll();return new Bc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),u5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZI.type="LOCAL";const h5=ZI;new $c(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(t,e){return e?jr(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev extends UI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function f5(t){return Q6(t.auth,new Ev(t),t.bypassAuthState)}function p5(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),K6(n,new Ev(t),t.bypassAuthState)}async function m5(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),G6(n,new Ev(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return f5;case"linkViaPopup":case"linkViaRedirect":return m5;case"reauthViaPopup":case"reauthViaRedirect":return p5;default:yr(this.auth,"internal-error")}}resolve(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5=new $c(2e3,1e4);async function y5(t,e,n){if(mn(t.app))return Promise.reject(Un(t,"operation-not-supported-in-this-environment"));const r=hf(t);f6(t,e,_v);const s=YI(r,n);return new yi(r,"signInViaPopup",e,s).executeNotNull()}class yi extends XI{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,yi.currentPopupAction&&yi.currentPopupAction.cancel(),yi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){Kr(this.filter.length===1,"Popup operations only handle one event");const e=wv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Un(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Un(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,g5.get())};e()}}yi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5="pendingRedirect",cd=new Map;class _5 extends XI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=cd.get(this.auth._key());if(!e){try{const r=await w5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}cd.set(this.auth._key(),e)}return this.bypassAuthState||cd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function w5(t,e){const n=x5(e),r=T5(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function E5(t,e){cd.set(t._key(),e)}function T5(t){return jr(t._redirectPersistence)}function x5(t){return ld(v5,t.config.apiKey,t.name)}async function S5(t,e,n=!1){if(mn(t.app))return Promise.reject(Ci(t));const r=hf(t),s=YI(r,e),o=await new _5(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5=10*60*1e3;class I5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!b5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!JI(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Un(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=C5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rw(e))}saveEventToCache(e){this.cachedEventUids.add(Rw(e)),this.lastProcessedEventTime=Date.now()}}function Rw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function JI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function b5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A5(t,e={}){return ba(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,P5=/^https?/;async function k5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await A5(t);for(const n of e)try{if(N5(n))return}catch{}yr(t,"unauthorized-domain")}function N5(t){const e=mg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!P5.test(n))return!1;if(R5.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5=new $c(3e4,6e4);function Pw(){const t=cr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function D5(t){return new Promise((e,n)=>{var s,i,o;function r(){Pw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Pw(),n(Un(t,"network-request-failed"))},timeout:O5.get()})}if((i=(s=cr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=cr().gapi)!=null&&o.load)r();else{const a=U6("iframefcb");return cr()[a]=()=>{gapi.load?r():n(Un(t,"network-request-failed"))},j6(`${F6()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ud=null,e})}let ud=null;function M5(t){return ud=ud||D5(t),ud}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=new $c(5e3,15e3),V5="__/auth/iframe",j5="emulator/auth/iframe",F5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},U5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $5(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?pv(e,j5):`https://${t.config.authDomain}/${V5}`,r={apiKey:e.apiKey,appName:t.name,v:Ki},s=U5.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Uc(r).slice(1)}`}async function z5(t){const e=await M5(t),n=cr().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:$5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:F5,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Un(t,"network-request-failed"),a=cr().setTimeout(()=>{i(o)},L5.get());function l(){cr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},H5=500,W5=600,q5="_blank",G5="http://localhost";class kw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function K5(t,e,n,r=H5,s=W5){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...B5,width:r.toString(),height:s.toString(),top:i,left:o},u=kt().toLowerCase();n&&(a=NI(u)?q5:n),PI(u)&&(e=e||G5,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[v,x])=>`${p}${v}=${x},`,"");if(P6(u)&&a!=="_self")return Q5(e||"",a),new kw(null);const h=window.open(e||"",a,d);ae(h,t,"popup-blocked");try{h.focus()}catch{}return new kw(h)}function Q5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5="__/auth/handler",Y5="emulator/auth/handler",X5=encodeURIComponent("fac");async function Nw(t,e,n,r,s,i){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ki,eventId:s};if(e instanceof _v){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",YM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof zc){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${X5}=${encodeURIComponent(l)}`:"";return`${J5(t)}?${Uc(a).slice(1)}${u}`}function J5({config:t}){return t.emulator?pv(t,Y5):`https://${t.authDomain}/${Z5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="webStorageSupport";class eL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qI,this._completeRedirectFn=S5,this._overrideRedirectResult=E5}async _openPopup(e,n,r,s){var o;Kr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await Nw(e,n,r,mg(),s);return K5(e,i,wv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Nw(e,n,r,mg(),s);return r5(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Kr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await z5(e),r=new I5(e);return n.register("authEvent",s=>(ae(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wp,{type:Wp},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Wp];i!==void 0&&n(!!i),yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=k5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VI()||kI()||yv()}}const tL=eL;var Ow="@firebase/auth",Dw="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sL(t){Vi(new Bs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ae(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jI(t)},u=new L6(r,s,i,l);return z6(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vi(new Bs("auth-internal",e=>{const n=hf(e.getProvider("auth").getImmediate());return(r=>new nL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),lr(Ow,Dw,rL(t)),lr(Ow,Dw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=5*60,oL=gI("authIdTokenMaxAge")||iL;let Mw=null;const aL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>oL)return;const s=n==null?void 0:n.token;Mw!==s&&(Mw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function lL(t=dv()){const e=df(t,"auth");if(e.isInitialized())return e.getImmediate();const n=$6(t,{popupRedirectResolver:tL,persistence:[h5,e5,qI]}),r=gI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=aL(i.toString());Y6(n,o,()=>o(n.currentUser)),Z6(n,a=>o(a))}}const s=fI("auth");return s&&B6(n,`http://${s}`),n}function cL(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}V6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Un("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",cL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sL("Browser");var Lw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ls,eb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,T){function b(){}b.prototype=T.prototype,I.F=T.prototype,I.prototype=new b,I.prototype.constructor=I,I.D=function(R,N,D){for(var P=Array(arguments.length-2),W=2;W<arguments.length;W++)P[W-2]=arguments[W];return T.prototype[N].apply(R,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,T,b){b||(b=0);const R=Array(16);if(typeof T=="string")for(var N=0;N<16;++N)R[N]=T.charCodeAt(b++)|T.charCodeAt(b++)<<8|T.charCodeAt(b++)<<16|T.charCodeAt(b++)<<24;else for(N=0;N<16;++N)R[N]=T[b++]|T[b++]<<8|T[b++]<<16|T[b++]<<24;T=I.g[0],b=I.g[1],N=I.g[2];let D=I.g[3],P;P=T+(D^b&(N^D))+R[0]+3614090360&4294967295,T=b+(P<<7&4294967295|P>>>25),P=D+(N^T&(b^N))+R[1]+3905402710&4294967295,D=T+(P<<12&4294967295|P>>>20),P=N+(b^D&(T^b))+R[2]+606105819&4294967295,N=D+(P<<17&4294967295|P>>>15),P=b+(T^N&(D^T))+R[3]+3250441966&4294967295,b=N+(P<<22&4294967295|P>>>10),P=T+(D^b&(N^D))+R[4]+4118548399&4294967295,T=b+(P<<7&4294967295|P>>>25),P=D+(N^T&(b^N))+R[5]+1200080426&4294967295,D=T+(P<<12&4294967295|P>>>20),P=N+(b^D&(T^b))+R[6]+2821735955&4294967295,N=D+(P<<17&4294967295|P>>>15),P=b+(T^N&(D^T))+R[7]+4249261313&4294967295,b=N+(P<<22&4294967295|P>>>10),P=T+(D^b&(N^D))+R[8]+1770035416&4294967295,T=b+(P<<7&4294967295|P>>>25),P=D+(N^T&(b^N))+R[9]+2336552879&4294967295,D=T+(P<<12&4294967295|P>>>20),P=N+(b^D&(T^b))+R[10]+4294925233&4294967295,N=D+(P<<17&4294967295|P>>>15),P=b+(T^N&(D^T))+R[11]+2304563134&4294967295,b=N+(P<<22&4294967295|P>>>10),P=T+(D^b&(N^D))+R[12]+1804603682&4294967295,T=b+(P<<7&4294967295|P>>>25),P=D+(N^T&(b^N))+R[13]+4254626195&4294967295,D=T+(P<<12&4294967295|P>>>20),P=N+(b^D&(T^b))+R[14]+2792965006&4294967295,N=D+(P<<17&4294967295|P>>>15),P=b+(T^N&(D^T))+R[15]+1236535329&4294967295,b=N+(P<<22&4294967295|P>>>10),P=T+(N^D&(b^N))+R[1]+4129170786&4294967295,T=b+(P<<5&4294967295|P>>>27),P=D+(b^N&(T^b))+R[6]+3225465664&4294967295,D=T+(P<<9&4294967295|P>>>23),P=N+(T^b&(D^T))+R[11]+643717713&4294967295,N=D+(P<<14&4294967295|P>>>18),P=b+(D^T&(N^D))+R[0]+3921069994&4294967295,b=N+(P<<20&4294967295|P>>>12),P=T+(N^D&(b^N))+R[5]+3593408605&4294967295,T=b+(P<<5&4294967295|P>>>27),P=D+(b^N&(T^b))+R[10]+38016083&4294967295,D=T+(P<<9&4294967295|P>>>23),P=N+(T^b&(D^T))+R[15]+3634488961&4294967295,N=D+(P<<14&4294967295|P>>>18),P=b+(D^T&(N^D))+R[4]+3889429448&4294967295,b=N+(P<<20&4294967295|P>>>12),P=T+(N^D&(b^N))+R[9]+568446438&4294967295,T=b+(P<<5&4294967295|P>>>27),P=D+(b^N&(T^b))+R[14]+3275163606&4294967295,D=T+(P<<9&4294967295|P>>>23),P=N+(T^b&(D^T))+R[3]+4107603335&4294967295,N=D+(P<<14&4294967295|P>>>18),P=b+(D^T&(N^D))+R[8]+1163531501&4294967295,b=N+(P<<20&4294967295|P>>>12),P=T+(N^D&(b^N))+R[13]+2850285829&4294967295,T=b+(P<<5&4294967295|P>>>27),P=D+(b^N&(T^b))+R[2]+4243563512&4294967295,D=T+(P<<9&4294967295|P>>>23),P=N+(T^b&(D^T))+R[7]+1735328473&4294967295,N=D+(P<<14&4294967295|P>>>18),P=b+(D^T&(N^D))+R[12]+2368359562&4294967295,b=N+(P<<20&4294967295|P>>>12),P=T+(b^N^D)+R[5]+4294588738&4294967295,T=b+(P<<4&4294967295|P>>>28),P=D+(T^b^N)+R[8]+2272392833&4294967295,D=T+(P<<11&4294967295|P>>>21),P=N+(D^T^b)+R[11]+1839030562&4294967295,N=D+(P<<16&4294967295|P>>>16),P=b+(N^D^T)+R[14]+4259657740&4294967295,b=N+(P<<23&4294967295|P>>>9),P=T+(b^N^D)+R[1]+2763975236&4294967295,T=b+(P<<4&4294967295|P>>>28),P=D+(T^b^N)+R[4]+1272893353&4294967295,D=T+(P<<11&4294967295|P>>>21),P=N+(D^T^b)+R[7]+4139469664&4294967295,N=D+(P<<16&4294967295|P>>>16),P=b+(N^D^T)+R[10]+3200236656&4294967295,b=N+(P<<23&4294967295|P>>>9),P=T+(b^N^D)+R[13]+681279174&4294967295,T=b+(P<<4&4294967295|P>>>28),P=D+(T^b^N)+R[0]+3936430074&4294967295,D=T+(P<<11&4294967295|P>>>21),P=N+(D^T^b)+R[3]+3572445317&4294967295,N=D+(P<<16&4294967295|P>>>16),P=b+(N^D^T)+R[6]+76029189&4294967295,b=N+(P<<23&4294967295|P>>>9),P=T+(b^N^D)+R[9]+3654602809&4294967295,T=b+(P<<4&4294967295|P>>>28),P=D+(T^b^N)+R[12]+3873151461&4294967295,D=T+(P<<11&4294967295|P>>>21),P=N+(D^T^b)+R[15]+530742520&4294967295,N=D+(P<<16&4294967295|P>>>16),P=b+(N^D^T)+R[2]+3299628645&4294967295,b=N+(P<<23&4294967295|P>>>9),P=T+(N^(b|~D))+R[0]+4096336452&4294967295,T=b+(P<<6&4294967295|P>>>26),P=D+(b^(T|~N))+R[7]+1126891415&4294967295,D=T+(P<<10&4294967295|P>>>22),P=N+(T^(D|~b))+R[14]+2878612391&4294967295,N=D+(P<<15&4294967295|P>>>17),P=b+(D^(N|~T))+R[5]+4237533241&4294967295,b=N+(P<<21&4294967295|P>>>11),P=T+(N^(b|~D))+R[12]+1700485571&4294967295,T=b+(P<<6&4294967295|P>>>26),P=D+(b^(T|~N))+R[3]+2399980690&4294967295,D=T+(P<<10&4294967295|P>>>22),P=N+(T^(D|~b))+R[10]+4293915773&4294967295,N=D+(P<<15&4294967295|P>>>17),P=b+(D^(N|~T))+R[1]+2240044497&4294967295,b=N+(P<<21&4294967295|P>>>11),P=T+(N^(b|~D))+R[8]+1873313359&4294967295,T=b+(P<<6&4294967295|P>>>26),P=D+(b^(T|~N))+R[15]+4264355552&4294967295,D=T+(P<<10&4294967295|P>>>22),P=N+(T^(D|~b))+R[6]+2734768916&4294967295,N=D+(P<<15&4294967295|P>>>17),P=b+(D^(N|~T))+R[13]+1309151649&4294967295,b=N+(P<<21&4294967295|P>>>11),P=T+(N^(b|~D))+R[4]+4149444226&4294967295,T=b+(P<<6&4294967295|P>>>26),P=D+(b^(T|~N))+R[11]+3174756917&4294967295,D=T+(P<<10&4294967295|P>>>22),P=N+(T^(D|~b))+R[2]+718787259&4294967295,N=D+(P<<15&4294967295|P>>>17),P=b+(D^(N|~T))+R[9]+3951481745&4294967295,I.g[0]=I.g[0]+T&4294967295,I.g[1]=I.g[1]+(N+(P<<21&4294967295|P>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+D&4294967295}r.prototype.v=function(I,T){T===void 0&&(T=I.length);const b=T-this.blockSize,R=this.C;let N=this.h,D=0;for(;D<T;){if(N==0)for(;D<=b;)s(this,I,D),D+=this.blockSize;if(typeof I=="string"){for(;D<T;)if(R[N++]=I.charCodeAt(D++),N==this.blockSize){s(this,R),N=0;break}}else for(;D<T;)if(R[N++]=I[D++],N==this.blockSize){s(this,R),N=0;break}}this.h=N,this.o+=T},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var T=1;T<I.length-8;++T)I[T]=0;T=this.o*8;for(var b=I.length-8;b<I.length;++b)I[b]=T&255,T/=256;for(this.v(I),I=Array(16),T=0,b=0;b<4;++b)for(let R=0;R<32;R+=8)I[T++]=this.g[b]>>>R&255;return I};function i(I,T){var b=a;return Object.prototype.hasOwnProperty.call(b,I)?b[I]:b[I]=T(I)}function o(I,T){this.h=T;const b=[];let R=!0;for(let N=I.length-1;N>=0;N--){const D=I[N]|0;R&&D==T||(b[N]=D,R=!1)}this.g=b}var a={};function l(I){return-128<=I&&I<128?i(I,function(T){return new o([T|0],T<0?-1:0)}):new o([I|0],I<0?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return h;if(I<0)return S(u(-I));const T=[];let b=1;for(let R=0;I>=b;R++)T[R]=I/b|0,b*=4294967296;return new o(T,0)}function d(I,T){if(I.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(I.charAt(0)=="-")return S(d(I.substring(1),T));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=u(Math.pow(T,8));let R=h;for(let D=0;D<I.length;D+=8){var N=Math.min(8,I.length-D);const P=parseInt(I.substring(D,D+N),T);N<8?(N=u(Math.pow(T,N)),R=R.j(N).add(u(P))):(R=R.j(b),R=R.add(u(P)))}return R}var h=l(0),p=l(1),v=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-S(this).m();let I=0,T=1;for(let b=0;b<this.g.length;b++){const R=this.i(b);I+=(R>=0?R:4294967296+R)*T,T*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(x(this))return"0";if(_(this))return"-"+S(this).toString(I);const T=u(Math.pow(I,6));var b=this;let R="";for(;;){const N=k(b,T).g;b=w(b,N.j(T));let D=((b.g.length>0?b.g[0]:b.h)>>>0).toString(I);if(b=N,x(b))return D+R;for(;D.length<6;)D="0"+D;R=D+R}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function x(I){if(I.h!=0)return!1;for(let T=0;T<I.g.length;T++)if(I.g[T]!=0)return!1;return!0}function _(I){return I.h==-1}t.l=function(I){return I=w(this,I),_(I)?-1:x(I)?0:1};function S(I){const T=I.g.length,b=[];for(let R=0;R<T;R++)b[R]=~I.g[R];return new o(b,~I.h).add(p)}t.abs=function(){return _(this)?S(this):this},t.add=function(I){const T=Math.max(this.g.length,I.g.length),b=[];let R=0;for(let N=0;N<=T;N++){let D=R+(this.i(N)&65535)+(I.i(N)&65535),P=(D>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);R=P>>>16,D&=65535,P&=65535,b[N]=P<<16|D}return new o(b,b[b.length-1]&-2147483648?-1:0)};function w(I,T){return I.add(S(T))}t.j=function(I){if(x(this)||x(I))return h;if(_(this))return _(I)?S(this).j(S(I)):S(S(this).j(I));if(_(I))return S(this.j(S(I)));if(this.l(v)<0&&I.l(v)<0)return u(this.m()*I.m());const T=this.g.length+I.g.length,b=[];for(var R=0;R<2*T;R++)b[R]=0;for(R=0;R<this.g.length;R++)for(let N=0;N<I.g.length;N++){const D=this.i(R)>>>16,P=this.i(R)&65535,W=I.i(N)>>>16,ue=I.i(N)&65535;b[2*R+2*N]+=P*ue,E(b,2*R+2*N),b[2*R+2*N+1]+=D*ue,E(b,2*R+2*N+1),b[2*R+2*N+1]+=P*W,E(b,2*R+2*N+1),b[2*R+2*N+2]+=D*W,E(b,2*R+2*N+2)}for(I=0;I<T;I++)b[I]=b[2*I+1]<<16|b[2*I];for(I=T;I<2*T;I++)b[I]=0;return new o(b,0)};function E(I,T){for(;(I[T]&65535)!=I[T];)I[T+1]+=I[T]>>>16,I[T]&=65535,T++}function C(I,T){this.g=I,this.h=T}function k(I,T){if(x(T))throw Error("division by zero");if(x(I))return new C(h,h);if(_(I))return T=k(S(I),T),new C(S(T.g),S(T.h));if(_(T))return T=k(I,S(T)),new C(S(T.g),T.h);if(I.g.length>30){if(_(I)||_(T))throw Error("slowDivide_ only works with positive integers.");for(var b=p,R=T;R.l(I)<=0;)b=O(b),R=O(R);var N=M(b,1),D=M(R,1);for(R=M(R,2),b=M(b,2);!x(R);){var P=D.add(R);P.l(I)<=0&&(N=N.add(b),D=P),R=M(R,1),b=M(b,1)}return T=w(I,N.j(T)),new C(N,T)}for(N=h;I.l(T)>=0;){for(b=Math.max(1,Math.floor(I.m()/T.m())),R=Math.ceil(Math.log(b)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),D=u(b),P=D.j(T);_(P)||P.l(I)>0;)b-=R,D=u(b),P=D.j(T);x(D)&&(D=p),N=N.add(D),I=w(I,P)}return new C(N,I)}t.B=function(I){return k(this,I).h},t.and=function(I){const T=Math.max(this.g.length,I.g.length),b=[];for(let R=0;R<T;R++)b[R]=this.i(R)&I.i(R);return new o(b,this.h&I.h)},t.or=function(I){const T=Math.max(this.g.length,I.g.length),b=[];for(let R=0;R<T;R++)b[R]=this.i(R)|I.i(R);return new o(b,this.h|I.h)},t.xor=function(I){const T=Math.max(this.g.length,I.g.length),b=[];for(let R=0;R<T;R++)b[R]=this.i(R)^I.i(R);return new o(b,this.h^I.h)};function O(I){const T=I.g.length+1,b=[];for(let R=0;R<T;R++)b[R]=I.i(R)<<1|I.i(R-1)>>>31;return new o(b,I.h)}function M(I,T){const b=T>>5;T%=32;const R=I.g.length-b,N=[];for(let D=0;D<R;D++)N[D]=T>0?I.i(D+b)>>>T|I.i(D+b+1)<<32-T:I.i(D+b);return new o(N,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,eb=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Ls=o}).apply(typeof Lw<"u"?Lw:typeof self<"u"?self:typeof window<"u"?window:{});var Lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tb,fl,nb,dd,_g,rb,sb,ib;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lu=="object"&&Lu];for(var f=0;f<c.length;++f){var m=c[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function s(c,f){if(f)e:{var m=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var L=c[A];if(!(L in m))break e;m=m[L]}c=c[c.length-1],A=m[c],f=f(A),f!=A&&f!=null&&e(m,c,{configurable:!0,writable:!0,value:f})}}s("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(c){return c||function(f){var m=[],A;for(A in f)Object.prototype.hasOwnProperty.call(f,A)&&m.push([A,f[A]]);return m}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function l(c,f,m){return c.call.apply(c.bind,arguments)}function u(c,f,m){return u=l,u.apply(null,arguments)}function d(c,f){var m=Array.prototype.slice.call(arguments,1);return function(){var A=m.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function h(c,f){function m(){}m.prototype=f.prototype,c.Z=f.prototype,c.prototype=new m,c.prototype.constructor=c,c.Ob=function(A,L,V){for(var q=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)q[fe-2]=arguments[fe];return f.prototype[L].apply(A,q)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function v(c){const f=c.length;if(f>0){const m=Array(f);for(let A=0;A<f;A++)m[A]=c[A];return m}return[]}function x(c,f){for(let A=1;A<arguments.length;A++){const L=arguments[A];var m=typeof L;if(m=m!="object"?m:L?Array.isArray(L)?"array":m:"null",m=="array"||m=="object"&&typeof L.length=="number"){m=c.length||0;const V=L.length||0;c.length=m+V;for(let q=0;q<V;q++)c[m+q]=L[q]}else c.push(L)}}class _{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function S(c){o.setTimeout(()=>{throw c},0)}function w(){var c=I;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class E{constructor(){this.h=this.g=null}add(f,m){const A=C.get();A.set(f,m),this.h?this.h.next=A:this.g=A,this.h=A}}var C=new _(()=>new k,c=>c.reset());class k{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let O,M=!1,I=new E,T=()=>{const c=Promise.resolve(void 0);O=()=>{c.then(b)}};function b(){for(var c;c=w();){try{c.h.call(c.g)}catch(m){S(m)}var f=C;f.j(c),f.h<100&&(f.h++,c.next=f.g,f.g=c)}M=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const m=()=>{};o.addEventListener("test",m,f),o.removeEventListener("test",m,f)}catch{}return c}();function P(c){return/^[\s\xa0]*$/.test(c)}function W(c,f){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,f)}h(W,N),W.prototype.init=function(c,f){const m=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget,f||(m=="mouseover"?f=c.fromElement:m=="mouseout"&&(f=c.toElement)),this.relatedTarget=f,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&W.Z.h.call(this)},W.prototype.h=function(){W.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ue="closure_listenable_"+(Math.random()*1e6|0),re=0;function Te(c,f,m,A,L){this.listener=c,this.proxy=null,this.src=f,this.type=m,this.capture=!!A,this.ha=L,this.key=++re,this.da=this.fa=!1}function j(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function F(c,f,m){for(const A in c)f.call(m,c[A],A,c)}function K(c,f){for(const m in c)f.call(void 0,c[m],m,c)}function ne(c){const f={};for(const m in c)f[m]=c[m];return f}const ve="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(c,f){let m,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(m in A)c[m]=A[m];for(let V=0;V<ve.length;V++)m=ve[V],Object.prototype.hasOwnProperty.call(A,m)&&(c[m]=A[m])}}function Ze(c){this.src=c,this.g={},this.h=0}Ze.prototype.add=function(c,f,m,A,L){const V=c.toString();c=this.g[V],c||(c=this.g[V]=[],this.h++);const q=it(c,f,A,L);return q>-1?(f=c[q],m||(f.fa=!1)):(f=new Te(f,this.src,V,!!A,L),f.fa=m,c.push(f)),f};function dn(c,f){const m=f.type;if(m in c.g){var A=c.g[m],L=Array.prototype.indexOf.call(A,f,void 0),V;(V=L>=0)&&Array.prototype.splice.call(A,L,1),V&&(j(f),c.g[m].length==0&&(delete c.g[m],c.h--))}}function it(c,f,m,A){for(let L=0;L<c.length;++L){const V=c[L];if(!V.da&&V.listener==f&&V.capture==!!m&&V.ha==A)return L}return-1}var dt="closure_lm_"+(Math.random()*1e6|0),br={};function Dt(c,f,m,A,L){if(Array.isArray(f)){for(let V=0;V<f.length;V++)Dt(c,f[V],m,A,L);return null}return m=eu(m),c&&c[ue]?c.J(f,m,a(A)?!!A.capture:!!A,L):si(c,f,m,!1,A,L)}function si(c,f,m,A,L,V){if(!f)throw Error("Invalid event type");const q=a(L)?!!L.capture:!!L;let fe=Ma(c);if(fe||(c[dt]=fe=new Ze(c)),m=fe.add(f,m,A,q,V),m.proxy)return m;if(A=Jc(),m.proxy=A,A.src=c,A.listener=m,c.addEventListener)D||(L=q),L===void 0&&(L=!1),c.addEventListener(f.toString(),A,L);else if(c.attachEvent)c.attachEvent(Da(f.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Jc(){function c(m){return f.call(c.src,c.listener,m)}const f=jf;return c}function Oa(c,f,m,A,L){if(Array.isArray(f))for(var V=0;V<f.length;V++)Oa(c,f[V],m,A,L);else A=a(A)?!!A.capture:!!A,m=eu(m),c&&c[ue]?(c=c.i,V=String(f).toString(),V in c.g&&(f=c.g[V],m=it(f,m,A,L),m>-1&&(j(f[m]),Array.prototype.splice.call(f,m,1),f.length==0&&(delete c.g[V],c.h--)))):c&&(c=Ma(c))&&(f=c.g[f.toString()],c=-1,f&&(c=it(f,m,A,L)),(m=c>-1?f[c]:null)&&Ar(m))}function Ar(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[ue])dn(f.i,c);else{var m=c.type,A=c.proxy;f.removeEventListener?f.removeEventListener(m,A,c.capture):f.detachEvent?f.detachEvent(Da(m),A):f.addListener&&f.removeListener&&f.removeListener(A),(m=Ma(f))?(dn(m,c),m.h==0&&(m.src=null,f[dt]=null)):j(c)}}}function Da(c){return c in br?br[c]:br[c]="on"+c}function jf(c,f){if(c.da)c=!0;else{f=new W(f,this);const m=c.listener,A=c.ha||c.src;c.fa&&Ar(c),c=m.call(A,f)}return c}function Ma(c){return c=c[dt],c instanceof Ze?c:null}var La="__closure_events_fn_"+(Math.random()*1e9>>>0);function eu(c){return typeof c=="function"?c:(c[La]||(c[La]=function(f){return c.handleEvent(f)}),c[La])}function Ye(){R.call(this),this.i=new Ze(this),this.M=this,this.G=null}h(Ye,R),Ye.prototype[ue]=!0,Ye.prototype.removeEventListener=function(c,f,m,A){Oa(this,c,f,m,A)};function Mt(c,f){var m,A=c.G;if(A)for(m=[];A;A=A.G)m.push(A);if(c=c.M,A=f.type||f,typeof f=="string")f=new N(f,c);else if(f instanceof N)f.target=f.target||c;else{var L=f;f=new N(A,c),ut(f,L)}L=!0;let V,q;if(m)for(q=m.length-1;q>=0;q--)V=f.g=m[q],L=tu(V,A,!0,f)&&L;if(V=f.g=c,L=tu(V,A,!0,f)&&L,L=tu(V,A,!1,f)&&L,m)for(q=0;q<m.length;q++)V=f.g=m[q],L=tu(V,A,!1,f)&&L}Ye.prototype.N=function(){if(Ye.Z.N.call(this),this.i){var c=this.i;for(const f in c.g){const m=c.g[f];for(let A=0;A<m.length;A++)j(m[A]);delete c.g[f],c.h--}}this.G=null},Ye.prototype.J=function(c,f,m,A){return this.i.add(String(c),f,!1,m,A)},Ye.prototype.K=function(c,f,m,A){return this.i.add(String(c),f,!0,m,A)};function tu(c,f,m,A){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();let L=!0;for(let V=0;V<f.length;++V){const q=f[V];if(q&&!q.da&&q.capture==m){const fe=q.listener,ot=q.ha||q.src;q.fa&&dn(c.i,q),L=fe.call(ot,A)!==!1&&L}}return L&&!A.defaultPrevented}function d2(c,f){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=u(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:o.setTimeout(c,f||0)}function A_(c){c.g=d2(()=>{c.g=null,c.i&&(c.i=!1,A_(c))},c.l);const f=c.h;c.h=null,c.m.apply(null,f)}class h2 extends R{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:A_(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Va(c){R.call(this),this.h=c,this.g={}}h(Va,R);var R_=[];function P_(c){F(c.g,function(f,m){this.g.hasOwnProperty(m)&&Ar(f)},c),c.g={}}Va.prototype.N=function(){Va.Z.N.call(this),P_(this)},Va.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ff=o.JSON.stringify,f2=o.JSON.parse,p2=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function k_(){}function N_(){}var ja={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Uf(){N.call(this,"d")}h(Uf,N);function $f(){N.call(this,"c")}h($f,N);var ii={},O_=null;function nu(){return O_=O_||new Ye}ii.Ia="serverreachability";function D_(c){N.call(this,ii.Ia,c)}h(D_,N);function Fa(c){const f=nu();Mt(f,new D_(f))}ii.STAT_EVENT="statevent";function M_(c,f){N.call(this,ii.STAT_EVENT,c),this.stat=f}h(M_,N);function Lt(c){const f=nu();Mt(f,new M_(f,c))}ii.Ja="timingevent";function L_(c,f){N.call(this,ii.Ja,c),this.size=f}h(L_,N);function Ua(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},f)}function $a(){this.g=!0}$a.prototype.ua=function(){this.g=!1};function m2(c,f,m,A,L,V){c.info(function(){if(c.g)if(V){var q="",fe=V.split("&");for(let Pe=0;Pe<fe.length;Pe++){var ot=fe[Pe].split("=");if(ot.length>1){const ht=ot[0];ot=ot[1];const Qn=ht.split("_");q=Qn.length>=2&&Qn[1]=="type"?q+(ht+"="+ot+"&"):q+(ht+"=redacted&")}}}else q=null;else q=V;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+f+`
`+m+`
`+q})}function g2(c,f,m,A,L,V,q){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+f+`
`+m+`
`+V+" "+q})}function to(c,f,m,A){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+v2(c,m)+(A?" "+A:"")})}function y2(c,f){c.info(function(){return"TIMEOUT: "+f})}$a.prototype.info=function(){};function v2(c,f){if(!c.g)return f;if(!f)return null;try{const V=JSON.parse(f);if(V){for(c=0;c<V.length;c++)if(Array.isArray(V[c])){var m=V[c];if(!(m.length<2)){var A=m[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let q=1;q<A.length;q++)A[q]=""}}}}return Ff(V)}catch{return f}}var ru={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},V_={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},j_;function zf(){}h(zf,k_),zf.prototype.g=function(){return new XMLHttpRequest},j_=new zf;function za(c){return encodeURIComponent(String(c))}function _2(c){var f=1;c=c.split(":");const m=[];for(;f>0&&c.length;)m.push(c.shift()),f--;return c.length&&m.push(c.join(":")),m}function Jr(c,f,m,A){this.j=c,this.i=f,this.l=m,this.S=A||1,this.V=new Va(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new F_}function F_(){this.i=null,this.g="",this.h=!1}var U_={},Bf={};function Hf(c,f,m){c.M=1,c.A=iu(Kn(f)),c.u=m,c.R=!0,$_(c,null)}function $_(c,f){c.F=Date.now(),su(c),c.B=Kn(c.A);var m=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),e0(m.i,"t",A),c.C=0,m=c.j.L,c.h=new F_,c.g=v0(c.j,m?f:null,!c.u),c.P>0&&(c.O=new h2(u(c.Y,c,c.g),c.P)),f=c.V,m=c.g,A=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(R_[0]=L.toString()),L=R_);for(let V=0;V<L.length;V++){const q=Dt(m,L[V],A||f.handleEvent,!1,f.h||f);if(!q)break;f.g[q.key]=q}f=c.J?ne(c.J):{},c.u?(c.v||(c.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,f)):(c.v="GET",c.g.ea(c.B,c.v,null,f)),Fa(),m2(c.i,c.v,c.B,c.l,c.S,c.u)}Jr.prototype.ba=function(c){c=c.target;const f=this.O;f&&ns(c)==3?f.j():this.Y(c)},Jr.prototype.Y=function(c){try{if(c==this.g)e:{const fe=ns(this.g),ot=this.g.ya(),Pe=this.g.ca();if(!(fe<3)&&(fe!=3||this.g&&(this.h.h||this.g.la()||a0(this.g)))){this.K||fe!=4||ot==7||(ot==8||Pe<=0?Fa(3):Fa(2)),Wf(this);var f=this.g.ca();this.X=f;var m=w2(this);if(this.o=f==200,g2(this.i,this.v,this.B,this.l,this.S,fe,f),this.o){if(this.U&&!this.L){t:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(A)){var V=A;break t}}V=null}if(c=V)to(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qf(this,c);else{this.o=!1,this.m=3,Lt(12),oi(this),Ba(this);break e}}if(this.R){c=!0;let ht;for(;!this.K&&this.C<m.length;)if(ht=E2(this,m),ht==Bf){fe==4&&(this.m=4,Lt(14),c=!1),to(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==U_){this.m=4,Lt(15),to(this.i,this.l,m,"[Invalid Chunk]"),c=!1;break}else to(this.i,this.l,ht,null),qf(this,ht);if(z_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fe!=4||m.length!=0||this.h.h||(this.m=1,Lt(16),c=!1),this.o=this.o&&c,!c)to(this.i,this.l,m,"[Invalid Chunked Response]"),oi(this),Ba(this);else if(m.length>0&&!this.W){this.W=!0;var q=this.j;q.g==this&&q.aa&&!q.P&&(q.j.info("Great, no buffering proxy detected. Bytes received: "+m.length),ep(q),q.P=!0,Lt(11))}}else to(this.i,this.l,m,null),qf(this,m);fe==4&&oi(this),this.o&&!this.K&&(fe==4?p0(this.j,this):(this.o=!1,su(this)))}else M2(this.g),f==400&&m.indexOf("Unknown SID")>0?(this.m=3,Lt(12)):(this.m=0,Lt(13)),oi(this),Ba(this)}}}catch{}finally{}};function w2(c){if(!z_(c))return c.g.la();const f=a0(c.g);if(f==="")return"";let m="";const A=f.length,L=ns(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return oi(c),Ba(c),"";c.h.i=new o.TextDecoder}for(let V=0;V<A;V++)c.h.h=!0,m+=c.h.i.decode(f[V],{stream:!(L&&V==A-1)});return f.length=0,c.h.g+=m,c.C=0,c.h.g}function z_(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function E2(c,f){var m=c.C,A=f.indexOf(`
`,m);return A==-1?Bf:(m=Number(f.substring(m,A)),isNaN(m)?U_:(A+=1,A+m>f.length?Bf:(f=f.slice(A,A+m),c.C=A+m,f)))}Jr.prototype.cancel=function(){this.K=!0,oi(this)};function su(c){c.T=Date.now()+c.H,B_(c,c.H)}function B_(c,f){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Ua(u(c.aa,c),f)}function Wf(c){c.D&&(o.clearTimeout(c.D),c.D=null)}Jr.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(y2(this.i,this.B),this.M!=2&&(Fa(),Lt(17)),oi(this),this.m=2,Ba(this)):B_(this,this.T-c)};function Ba(c){c.j.I==0||c.K||p0(c.j,c)}function oi(c){Wf(c);var f=c.O;f&&typeof f.dispose=="function"&&f.dispose(),c.O=null,P_(c.V),c.g&&(f=c.g,c.g=null,f.abort(),f.dispose())}function qf(c,f){try{var m=c.j;if(m.I!=0&&(m.g==c||Gf(m.h,c))){if(!c.L&&Gf(m.h,c)&&m.I==3){try{var A=m.Ba.g.parse(f)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!m.v){if(m.g)if(m.g.F+3e3<c.F)uu(m),lu(m);else break e;Jf(m),Lt(18)}}else m.xa=L[1],0<m.xa-m.K&&L[2]<37500&&m.F&&m.A==0&&!m.C&&(m.C=Ua(u(m.Va,m),6e3));q_(m.h)<=1&&m.ta&&(m.ta=void 0)}else li(m,11)}else if((c.L||m.g==c)&&uu(m),!P(f))for(L=m.Ba.g.parse(f),f=0;f<L.length;f++){let Pe=L[f];const ht=Pe[0];if(!(ht<=m.K))if(m.K=ht,Pe=Pe[1],m.I==2)if(Pe[0]=="c"){m.M=Pe[1],m.ba=Pe[2];const Qn=Pe[3];Qn!=null&&(m.ka=Qn,m.j.info("VER="+m.ka));const ci=Pe[4];ci!=null&&(m.za=ci,m.j.info("SVER="+m.za));const rs=Pe[5];rs!=null&&typeof rs=="number"&&rs>0&&(A=1.5*rs,m.O=A,m.j.info("backChannelRequestTimeoutMs_="+A)),A=m;const ss=c.g;if(ss){const hu=ss.g?ss.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hu){var V=A.h;V.g||hu.indexOf("spdy")==-1&&hu.indexOf("quic")==-1&&hu.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Kf(V,V.h),V.h=null))}if(A.G){const tp=ss.g?ss.g.getResponseHeader("X-HTTP-Session-Id"):null;tp&&(A.wa=tp,De(A.J,A.G,tp))}}m.I=3,m.l&&m.l.ra(),m.aa&&(m.T=Date.now()-c.F,m.j.info("Handshake RTT: "+m.T+"ms")),A=m;var q=c;if(A.na=y0(A,A.L?A.ba:null,A.W),q.L){G_(A.h,q);var fe=q,ot=A.O;ot&&(fe.H=ot),fe.D&&(Wf(fe),su(fe)),A.g=q}else h0(A);m.i.length>0&&cu(m)}else Pe[0]!="stop"&&Pe[0]!="close"||li(m,7);else m.I==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?li(m,7):Xf(m):Pe[0]!="noop"&&m.l&&m.l.qa(Pe),m.A=0)}}Fa(4)}catch{}}var T2=class{constructor(c,f){this.g=c,this.map=f}};function H_(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function W_(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function q_(c){return c.h?1:c.g?c.g.size:0}function Gf(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function Kf(c,f){c.g?c.g.add(f):c.h=f}function G_(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}H_.prototype.cancel=function(){if(this.i=K_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function K_(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let f=c.i;for(const m of c.g.values())f=f.concat(m.G);return f}return v(c.i)}var Q_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function x2(c,f){if(c){c=c.split("&");for(let m=0;m<c.length;m++){const A=c[m].indexOf("=");let L,V=null;A>=0?(L=c[m].substring(0,A),V=c[m].substring(A+1)):L=c[m],f(L,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function es(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;c instanceof es?(this.l=c.l,Ha(this,c.j),this.o=c.o,this.g=c.g,Wa(this,c.u),this.h=c.h,Qf(this,t0(c.i)),this.m=c.m):c&&(f=String(c).match(Q_))?(this.l=!1,Ha(this,f[1]||"",!0),this.o=qa(f[2]||""),this.g=qa(f[3]||"",!0),Wa(this,f[4]),this.h=qa(f[5]||"",!0),Qf(this,f[6]||"",!0),this.m=qa(f[7]||"")):(this.l=!1,this.i=new Ka(null,this.l))}es.prototype.toString=function(){const c=[];var f=this.j;f&&c.push(Ga(f,Z_,!0),":");var m=this.g;return(m||f=="file")&&(c.push("//"),(f=this.o)&&c.push(Ga(f,Z_,!0),"@"),c.push(za(m).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.u,m!=null&&c.push(":",String(m))),(m=this.h)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(Ga(m,m.charAt(0)=="/"?I2:C2,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",Ga(m,A2)),c.join("")},es.prototype.resolve=function(c){const f=Kn(this);let m=!!c.j;m?Ha(f,c.j):m=!!c.o,m?f.o=c.o:m=!!c.g,m?f.g=c.g:m=c.u!=null;var A=c.h;if(m)Wa(f,c.u);else if(m=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=f.h.lastIndexOf("/");L!=-1&&(A=f.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const V=[];for(let q=0;q<L.length;){const fe=L[q++];fe=="."?A&&q==L.length&&V.push(""):fe==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),A&&q==L.length&&V.push("")):(V.push(fe),A=!0)}A=V.join("/")}else A=L}return m?f.h=A:m=c.i.toString()!=="",m?Qf(f,t0(c.i)):m=!!c.m,m&&(f.m=c.m),f};function Kn(c){return new es(c)}function Ha(c,f,m){c.j=m?qa(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function Wa(c,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);c.u=f}else c.u=null}function Qf(c,f,m){f instanceof Ka?(c.i=f,R2(c.i,c.l)):(m||(f=Ga(f,b2)),c.i=new Ka(f,c.l))}function De(c,f,m){c.i.set(f,m)}function iu(c){return De(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function qa(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ga(c,f,m){return typeof c=="string"?(c=encodeURI(c).replace(f,S2),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function S2(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Z_=/[#\/\?@]/g,C2=/[#\?:]/g,I2=/[#\?]/g,b2=/[#\?@]/g,A2=/#/g;function Ka(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function ai(c){c.g||(c.g=new Map,c.h=0,c.i&&x2(c.i,function(f,m){c.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=Ka.prototype,t.add=function(c,f){ai(this),this.i=null,c=no(this,c);let m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(f),this.h+=1,this};function Y_(c,f){ai(c),f=no(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function X_(c,f){return ai(c),f=no(c,f),c.g.has(f)}t.forEach=function(c,f){ai(this),this.g.forEach(function(m,A){m.forEach(function(L){c.call(f,L,A,this)},this)},this)};function J_(c,f){ai(c);let m=[];if(typeof f=="string")X_(c,f)&&(m=m.concat(c.g.get(no(c,f))));else for(c=Array.from(c.g.values()),f=0;f<c.length;f++)m=m.concat(c[f]);return m}t.set=function(c,f){return ai(this),this.i=null,c=no(this,c),X_(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},t.get=function(c,f){return c?(c=J_(this,c),c.length>0?String(c[0]):f):f};function e0(c,f,m){Y_(c,f),m.length>0&&(c.i=null,c.g.set(no(c,f),v(m)),c.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],f=Array.from(this.g.keys());for(let A=0;A<f.length;A++){var m=f[A];const L=za(m);m=J_(this,m);for(let V=0;V<m.length;V++){let q=L;m[V]!==""&&(q+="="+za(m[V])),c.push(q)}}return this.i=c.join("&")};function t0(c){const f=new Ka;return f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),f}function no(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function R2(c,f){f&&!c.j&&(ai(c),c.i=null,c.g.forEach(function(m,A){const L=A.toLowerCase();A!=L&&(Y_(this,A),e0(this,L,m))},c)),c.j=f}function P2(c,f){const m=new $a;if(o.Image){const A=new Image;A.onload=d(ts,m,"TestLoadImage: loaded",!0,f,A),A.onerror=d(ts,m,"TestLoadImage: error",!1,f,A),A.onabort=d(ts,m,"TestLoadImage: abort",!1,f,A),A.ontimeout=d(ts,m,"TestLoadImage: timeout",!1,f,A),o.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else f(!1)}function k2(c,f){const m=new $a,A=new AbortController,L=setTimeout(()=>{A.abort(),ts(m,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:A.signal}).then(V=>{clearTimeout(L),V.ok?ts(m,"TestPingServer: ok",!0,f):ts(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(L),ts(m,"TestPingServer: error",!1,f)})}function ts(c,f,m,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(m)}catch{}}function N2(){this.g=new p2}function Zf(c){this.i=c.Sb||null,this.h=c.ab||!1}h(Zf,k_),Zf.prototype.g=function(){return new ou(this.i,this.h)};function ou(c,f){Ye.call(this),this.H=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(ou,Ye),t=ou.prototype,t.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=f,this.readyState=1,Za(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(f.body=c),(this.H||o).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Qa(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Za(this)),this.g&&(this.readyState=3,Za(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;n0(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function n0(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?Qa(this):Za(this),this.readyState==3&&n0(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,Qa(this))},t.Na=function(c){this.g&&(this.response=c,Qa(this))},t.ga=function(){this.g&&Qa(this)};function Qa(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Za(c)}t.setRequestHeader=function(c,f){this.A.append(c,f)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=f.next();return c.join(`\r
`)};function Za(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ou.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function r0(c){let f="";return F(c,function(m,A){f+=A,f+=":",f+=m,f+=`\r
`}),f}function Yf(c,f,m){e:{for(A in m){var A=!1;break e}A=!0}A||(m=r0(m),typeof c=="string"?m!=null&&za(m):De(c,f,m))}function Ge(c){Ye.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(Ge,Ye);var O2=/^https?$/i,D2=["POST","PUT"];t=Ge.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,f,m,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():j_.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(V){s0(this,V);return}if(c=m||"",m=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)m.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const V of A.keys())m.set(V,A.get(V));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(m.keys()).find(V=>V.toLowerCase()=="content-type"),L=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(D2,f,void 0)>=0)||A||L||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,q]of m)this.g.setRequestHeader(V,q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(V){s0(this,V)}};function s0(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.o=5,i0(c),au(c)}function i0(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),au(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),au(this,!0)),Ge.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?o0(this):this.Xa())},t.Xa=function(){o0(this)};function o0(c){if(c.h&&typeof i<"u"){if(c.v&&ns(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),ns(c)==4){c.h=!1;try{const V=c.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var A;if(A=V===0){let q=String(c.D).match(Q_)[1]||null;!q&&o.self&&o.self.location&&(q=o.self.location.protocol.slice(0,-1)),A=!O2.test(q?q.toLowerCase():"")}m=A}if(m)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var L=ns(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",i0(c)}}finally{au(c)}}}}function au(c,f){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const m=c.g;c.g=null,f||Mt(c,"ready");try{m.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ns(c){return c.g?c.g.readyState:0}t.ca=function(){try{return ns(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),f2(f)}};function a0(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function M2(c){const f={};c=(c.g&&ns(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(P(c[A]))continue;var m=_2(c[A]);const L=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const V=f[L]||[];f[L]=V,V.push(m)}K(f,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ya(c,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||f}function l0(c){this.za=0,this.i=[],this.j=new $a,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ya("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ya("baseRetryDelayMs",5e3,c),this.Za=Ya("retryDelaySeedMs",1e4,c),this.Ta=Ya("forwardChannelMaxRetries",2,c),this.va=Ya("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new H_(c&&c.concurrentRequestLimit),this.Ba=new N2,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=l0.prototype,t.ka=8,t.I=1,t.connect=function(c,f,m,A){Lt(0),this.W=c,this.H=f||{},m&&A!==void 0&&(this.H.OSID=m,this.H.OAID=A),this.F=this.X,this.J=y0(this,null,this.W),cu(this)};function Xf(c){if(c0(c),c.I==3){var f=c.V++,m=Kn(c.J);if(De(m,"SID",c.M),De(m,"RID",f),De(m,"TYPE","terminate"),Xa(c,m),f=new Jr(c,c.j,f),f.M=2,f.A=iu(Kn(m)),m=!1,o.navigator&&o.navigator.sendBeacon)try{m=o.navigator.sendBeacon(f.A.toString(),"")}catch{}!m&&o.Image&&(new Image().src=f.A,m=!0),m||(f.g=v0(f.j,null),f.g.ea(f.A)),f.F=Date.now(),su(f)}g0(c)}function lu(c){c.g&&(ep(c),c.g.cancel(),c.g=null)}function c0(c){lu(c),c.v&&(o.clearTimeout(c.v),c.v=null),uu(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function cu(c){if(!W_(c.h)&&!c.m){c.m=!0;var f=c.Ea;O||T(),M||(O(),M=!0),I.add(f,c),c.D=0}}function L2(c,f){return q_(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=f.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Ua(u(c.Ea,c,f),m0(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Jr(this,this.j,c);let V=this.o;if(this.U&&(V?(V=ne(V),ut(V,this.U)):V=this.U),this.u!==null||this.R||(L.J=V,V=null),this.S)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var A=this.i[m];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(f+=A,f>4096){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=d0(this,L,f),m=Kn(this.J),De(m,"RID",c),De(m,"CVER",22),this.G&&De(m,"X-HTTP-Session-Id",this.G),Xa(this,m),V&&(this.R?f="headers="+za(r0(V))+"&"+f:this.u&&Yf(m,this.u,V)),Kf(this.h,L),this.Ra&&De(m,"TYPE","init"),this.S?(De(m,"$req",f),De(m,"SID","null"),L.U=!0,Hf(L,m,null)):Hf(L,m,f),this.I=2}}else this.I==3&&(c?u0(this,c):this.i.length==0||W_(this.h)||u0(this))};function u0(c,f){var m;f?m=f.l:m=c.V++;const A=Kn(c.J);De(A,"SID",c.M),De(A,"RID",m),De(A,"AID",c.K),Xa(c,A),c.u&&c.o&&Yf(A,c.u,c.o),m=new Jr(c,c.j,m,c.D+1),c.u===null&&(m.J=c.o),f&&(c.i=f.G.concat(c.i)),f=d0(c,m,1e3),m.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Kf(c.h,m),Hf(m,A,f)}function Xa(c,f){c.H&&F(c.H,function(m,A){De(f,A,m)}),c.l&&F({},function(m,A){De(f,A,m)})}function d0(c,f,m){m=Math.min(c.i.length,m);const A=c.l?u(c.l.Ka,c.l,c):null;e:{var L=c.i;let fe=-1;for(;;){const ot=["count="+m];fe==-1?m>0?(fe=L[0].g,ot.push("ofs="+fe)):fe=0:ot.push("ofs="+fe);let Pe=!0;for(let ht=0;ht<m;ht++){var V=L[ht].g;const Qn=L[ht].map;if(V-=fe,V<0)fe=Math.max(0,L[ht].g-100),Pe=!1;else try{V="req"+V+"_"||"";try{var q=Qn instanceof Map?Qn:Object.entries(Qn);for(const[ci,rs]of q){let ss=rs;a(rs)&&(ss=Ff(rs)),ot.push(V+ci+"="+encodeURIComponent(ss))}}catch(ci){throw ot.push(V+"type="+encodeURIComponent("_badmap")),ci}}catch{A&&A(Qn)}}if(Pe){q=ot.join("&");break e}}q=void 0}return c=c.i.splice(0,m),f.G=c,q}function h0(c){if(!c.g&&!c.v){c.Y=1;var f=c.Da;O||T(),M||(O(),M=!0),I.add(f,c),c.A=0}}function Jf(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Ua(u(c.Da,c),m0(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,f0(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Ua(u(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Lt(10),lu(this),f0(this))};function ep(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function f0(c){c.g=new Jr(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var f=Kn(c.na);De(f,"RID","rpc"),De(f,"SID",c.M),De(f,"AID",c.K),De(f,"CI",c.F?"0":"1"),!c.F&&c.ia&&De(f,"TO",c.ia),De(f,"TYPE","xmlhttp"),Xa(c,f),c.u&&c.o&&Yf(f,c.u,c.o),c.O&&(c.g.H=c.O);var m=c.g;c=c.ba,m.M=1,m.A=iu(Kn(f)),m.u=null,m.R=!0,$_(m,c)}t.Va=function(){this.C!=null&&(this.C=null,lu(this),Jf(this),Lt(19))};function uu(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function p0(c,f){var m=null;if(c.g==f){uu(c),ep(c),c.g=null;var A=2}else if(Gf(c.h,f))m=f.G,G_(c.h,f),A=1;else return;if(c.I!=0){if(f.o)if(A==1){m=f.u?f.u.length:0,f=Date.now()-f.F;var L=c.D;A=nu(),Mt(A,new L_(A,m)),cu(c)}else h0(c);else if(L=f.m,L==3||L==0&&f.X>0||!(A==1&&L2(c,f)||A==2&&Jf(c)))switch(m&&m.length>0&&(f=c.h,f.i=f.i.concat(m)),L){case 1:li(c,5);break;case 4:li(c,10);break;case 3:li(c,6);break;default:li(c,2)}}}function m0(c,f){let m=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(m*=2),m*f}function li(c,f){if(c.j.info("Error code "+f),f==2){var m=u(c.bb,c),A=c.Ua;const L=!A;A=new es(A||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ha(A,"https"),iu(A),L?P2(A.toString(),m):k2(A.toString(),m)}else Lt(2);c.I=0,c.l&&c.l.pa(f),g0(c),c0(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function g0(c){if(c.I=0,c.ja=[],c.l){const f=K_(c.h);(f.length!=0||c.i.length!=0)&&(x(c.ja,f),x(c.ja,c.i),c.h.i.length=0,v(c.i),c.i.length=0),c.l.oa()}}function y0(c,f,m){var A=m instanceof es?Kn(m):new es(m);if(A.g!="")f&&(A.g=f+"."+A.g),Wa(A,A.u);else{var L=o.location;A=L.protocol,f=f?f+"."+L.hostname:L.hostname,L=+L.port;const V=new es(null);A&&Ha(V,A),f&&(V.g=f),L&&Wa(V,L),m&&(V.h=m),A=V}return m=c.G,f=c.wa,m&&f&&De(A,m,f),De(A,"VER",c.ka),Xa(c,A),A}function v0(c,f,m){if(f&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Aa&&!c.ma?new Ge(new Zf({ab:m})):new Ge(c.ma),f.Fa(c.L),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function _0(){}t=_0.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function du(){}du.prototype.g=function(c,f){return new Jt(c,f)};function Jt(c,f){Ye.call(this),this.g=new l0(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(c?c["X-WebChannel-Client-Profile"]=f.sa:c={"X-WebChannel-Client-Profile":f.sa}),this.g.U=c,(c=f&&f.Qb)&&!P(c)&&(this.g.u=c),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!P(f)&&(this.g.G=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new ro(this)}h(Jt,Ye),Jt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){Xf(this.g)},Jt.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.v&&(m={},m.__data__=Ff(c),c=m);f.i.push(new T2(f.Ya++,c)),f.I==3&&cu(f)},Jt.prototype.N=function(){this.g.l=null,delete this.j,Xf(this.g),delete this.g,Jt.Z.N.call(this)};function w0(c){Uf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(const m in f){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}h(w0,Uf);function E0(){$f.call(this),this.status=1}h(E0,$f);function ro(c){this.g=c}h(ro,_0),ro.prototype.ra=function(){Mt(this.g,"a")},ro.prototype.qa=function(c){Mt(this.g,new w0(c))},ro.prototype.pa=function(c){Mt(this.g,new E0)},ro.prototype.oa=function(){Mt(this.g,"b")},du.prototype.createWebChannel=du.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,ib=function(){return new du},sb=function(){return nu()},rb=ii,_g={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ru.NO_ERROR=0,ru.TIMEOUT=8,ru.HTTP_ERROR=6,dd=ru,V_.COMPLETE="complete",nb=V_,N_.EventType=ja,ja.OPEN="a",ja.CLOSE="b",ja.ERROR="c",ja.MESSAGE="d",Ye.prototype.listen=Ye.prototype.J,fl=N_,Ge.prototype.listenOnce=Ge.prototype.K,Ge.prototype.getLastError=Ge.prototype.Ha,Ge.prototype.getLastErrorCode=Ge.prototype.ya,Ge.prototype.getStatus=Ge.prototype.ca,Ge.prototype.getResponseJson=Ge.prototype.La,Ge.prototype.getResponseText=Ge.prototype.la,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Fa,tb=Ge}).apply(typeof Lu<"u"?Lu:typeof self<"u"?self:typeof window<"u"?window:{});const Vw="@firebase/firestore",jw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bt.UNAUTHENTICATED=new bt(null),bt.GOOGLE_CREDENTIALS=new bt("google-credentials-uid"),bt.FIRST_PARTY=new bt("first-party-uid"),bt.MOCK_USER=new bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Aa="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new cv("@firebase/firestore");function lo(){return Fi.logLevel}function Y(t,...e){if(Fi.logLevel<=_e.DEBUG){const n=e.map(Tv);Fi.debug(`Firestore (${Aa}): ${t}`,...n)}}function Qr(t,...e){if(Fi.logLevel<=_e.ERROR){const n=e.map(Tv);Fi.error(`Firestore (${Aa}): ${t}`,...n)}}function da(t,...e){if(Fi.logLevel<=_e.WARN){const n=e.map(Tv);Fi.warn(`Firestore (${Aa}): ${t}`,...n)}}function Tv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,ob(t,r,n)}function ob(t,e,n){let r=`FIRESTORE (${Aa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Qr(r),new Error(r)}function Ae(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||ob(e,s,r)}function ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends Sr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bt.UNAUTHENTICATED))}shutdown(){}}class dL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hL{constructor(e){this.t=e,this.currentUser=bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ae(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ii,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ii)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string",31837,{l:r}),new ab(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string",2055,{h:e}),new bt(e)}}class fL{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=bt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pL{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new fL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ae(this.o===void 0,3512);const r=i=>{i.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Fw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Fw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=gL(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function we(t,e){return t<e?-1:t>e?1:0}function wg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return qp(s)===qp(i)?we(s,i):qp(s)?1:-1}return we(t.length,e.length)}const yL=55296,vL=57343;function qp(t){const e=t.charCodeAt(0);return e>=yL&&e<=vL}function ha(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="__name__";class Xn{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Xn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return we(e.length,n.length)}static compareSegments(e,n){const r=Xn.isNumericId(e),s=Xn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Xn.extractNumericId(e).compare(Xn.extractNumericId(n)):wg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ls.fromString(e.substring(4,e.length-2))}}class Ne extends Xn{construct(e,n,r){return new Ne(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ne(n)}static emptyPath(){return new Ne([])}}const _L=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends Xn{construct(e,n,r){return new vt(e,n,r)}static isValidIdentifier(e){return _L.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Uw}static keyField(){return new vt([Uw])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Z(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Z(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Z(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Z(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vt(n)}static emptyPath(){return new vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(Ne.fromString(e))}static fromName(e){return new te(Ne.fromString(e).popFirst(5))}static empty(){return new te(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Ne(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(t,e,n){if(!n)throw new Z(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function wL(t,e,n,r){if(e===!0&&r===!0)throw new Z(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $w(t){if(!te.isDocumentKey(t))throw new Z(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function zw(t){if(te.isDocumentKey(t))throw new Z(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cb(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function mf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se(12329,{type:typeof t})}function bi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mf(t);throw new Z(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Hc(t,e){if(!cb(t))throw new Z(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Z(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=-62135596800,Hw=1e6;class Ve{static now(){return Ve.fromMillis(Date.now())}static fromDate(e){return Ve.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Hw);return new Ve(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Bw)throw new Z(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hw}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ve._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hc(e,Ve._jsonSchema))return new Ve(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Bw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ve._jsonSchemaVersion="firestore/timestamp/1.0",Ve._jsonSchema={type:rt("string",Ve._jsonSchemaVersion),seconds:rt("number"),nanoseconds:rt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{static fromTimestamp(e){return new le(e)}static min(){return new le(new Ve(0,0))}static max(){return new le(new Ve(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=-1;function EL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=le.fromTimestamp(r===1e9?new Ve(n+1,0):new Ve(n,r));return new Hs(s,te.empty(),e)}function TL(t){return new Hs(t.readTime,t.key,ic)}class Hs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Hs(le.min(),te.empty(),ic)}static max(){return new Hs(le.max(),te.empty(),ic)}}function xL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ra(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==SL)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(s=>s?$.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new $((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new $((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function IL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=-1;function yf(t){return t==null}function rh(t){return t===0&&1/t==-1/0}function bL(t){return typeof t=="number"&&Number.isInteger(t)&&!rh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="";function AL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Ww(e)),e=RL(t.get(n),e);return Ww(e)}function RL(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case ub:n+="";break;default:n+=i}}return n}function Ww(t){return t+ub+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function db(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,n){this.comparator=e,this.root=n||yt.EMPTY}insert(e,n){return new qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yt.BLACK,null,null))}remove(e){return new qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vu(this.root,e,this.comparator,!0)}}class Vu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??yt.RED,this.left=s??yt.EMPTY,this.right=i??yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new yt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return yt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw se(27949);return e+(this.isRed()?0:1)}}yt.EMPTY=null,yt.RED=!0,yt.BLACK=!1;yt.EMPTY=new class{constructor(){this.size=0}get key(){throw se(57766)}get value(){throw se(16141)}get color(){throw se(16727)}get left(){throw se(29726)}get right(){throw se(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gw(this.data.getIterator())}getIteratorFrom(e){return new Gw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ct(this.comparator);return n.data=e,n}}class Gw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new Mn([])}unionWith(e){let n=new ct(vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ha(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new hb("Invalid base64 string: "+i):i}}(e);return new Et(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Et(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Et.EMPTY_BYTE_STRING=new Et("");const PL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(t){if(Ae(!!t,39018),typeof t=="string"){let e=0;const n=PL.exec(t);if(Ae(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xe(t.seconds),nanos:Xe(t.nanos)}}function Xe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qs(t){return typeof t=="string"?Et.fromBase64String(t):Et.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="server_timestamp",pb="__type__",mb="__previous_value__",gb="__local_write_time__";function Cv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[pb])==null?void 0:r.stringValue)===fb}function vf(t){const e=t.mapValue.fields[mb];return Cv(e)?vf(e):e}function oc(t){const e=Ws(t.mapValue.fields[gb].timestampValue);return new Ve(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,n,r,s,i,o,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const sh="(default)";class ac{constructor(e,n){this.projectId=e,this.database=n||sh}static empty(){return new ac("","")}get isDefaultDatabase(){return this.database===sh}isEqual(e){return e instanceof ac&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="__type__",vb="__max__",ju={mapValue:{fields:{__type__:{stringValue:vb}}}},_b="__vector__",ih="value";function Gs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cv(t)?4:OL(t)?9007199254740991:NL(t)?10:11:se(28295,{value:t})}function vr(t,e){if(t===e)return!0;const n=Gs(t);if(n!==Gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return oc(t).isEqual(oc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ws(s.timestampValue),a=Ws(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return qs(s.bytesValue).isEqual(qs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Xe(s.geoPointValue.latitude)===Xe(i.geoPointValue.latitude)&&Xe(s.geoPointValue.longitude)===Xe(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Xe(s.integerValue)===Xe(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Xe(s.doubleValue),a=Xe(i.doubleValue);return o===a?rh(o)===rh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ha(t.arrayValue.values||[],e.arrayValue.values||[],vr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(qw(o)!==qw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!vr(o[l],a[l])))return!1;return!0}(t,e);default:return se(52216,{left:t})}}function lc(t,e){return(t.values||[]).find(n=>vr(n,e))!==void 0}function fa(t,e){if(t===e)return 0;const n=Gs(t),r=Gs(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Xe(i.integerValue||i.doubleValue),l=Xe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Kw(t.timestampValue,e.timestampValue);case 4:return Kw(oc(t),oc(e));case 5:return wg(t.stringValue,e.stringValue);case 6:return function(i,o){const a=qs(i),l=qs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=we(a[u],l[u]);if(d!==0)return d}return we(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=we(Xe(i.latitude),Xe(o.latitude));return a!==0?a:we(Xe(i.longitude),Xe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Qw(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,v,x,_;const a=i.fields||{},l=o.fields||{},u=(p=a[ih])==null?void 0:p.arrayValue,d=(v=l[ih])==null?void 0:v.arrayValue,h=we(((x=u==null?void 0:u.values)==null?void 0:x.length)||0,((_=d==null?void 0:d.values)==null?void 0:_.length)||0);return h!==0?h:Qw(u,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===ju.mapValue&&o===ju.mapValue)return 0;if(i===ju.mapValue)return 1;if(o===ju.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=wg(l[h],d[h]);if(p!==0)return p;const v=fa(a[l[h]],u[d[h]]);if(v!==0)return v}return we(l.length,d.length)}(t.mapValue,e.mapValue);default:throw se(23264,{he:n})}}function Kw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);const n=Ws(t),r=Ws(e),s=we(n.seconds,r.seconds);return s!==0?s:we(n.nanos,r.nanos)}function Qw(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=fa(n[s],r[s]);if(i)return i}return we(n.length,r.length)}function pa(t){return Eg(t)}function Eg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ws(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Eg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Eg(n.fields[o])}`;return s+"}"}(t.mapValue):se(61005,{value:t})}function hd(t){switch(Gs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vf(t);return e?16+hd(e):16;case 5:return 2*t.stringValue.length;case 6:return qs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+hd(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Qi(r.fields,(i,o)=>{s+=i.length+hd(o)}),s}(t.mapValue);default:throw se(13486,{value:t})}}function Zw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Tg(t){return!!t&&"integerValue"in t}function Iv(t){return!!t&&"arrayValue"in t}function Yw(t){return!!t&&"nullValue"in t}function Xw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fd(t){return!!t&&"mapValue"in t}function NL(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[yb])==null?void 0:r.stringValue)===_b}function Nl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Qi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Nl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nl(t.arrayValue.values[n]);return e}return{...t}}function OL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===vb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!fd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nl(n)}setAll(e){let n=vt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Nl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());fd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];fd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Qi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new gn(Nl(this.value))}}function wb(t){const e=[];return Qi(t.fields,(n,r)=>{const s=new vt([n]);if(fd(r)){const i=wb(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Rt(e,0,le.min(),le.min(),le.min(),gn.empty(),0)}static newFoundDocument(e,n,r,s){return new Rt(e,1,n,le.min(),r,s,0)}static newNoDocument(e,n){return new Rt(e,2,n,le.min(),le.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new Rt(e,3,n,le.min(),le.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n){this.position=e,this.inclusive=n}}function Jw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=fa(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function eE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n="asc"){this.field=e,this.dir=n}}function DL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{}class nt extends Eb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new LL(e,n,r):n==="array-contains"?new FL(e,r):n==="in"?new UL(e,r):n==="not-in"?new $L(e,r):n==="array-contains-any"?new zL(e,r):new nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new VL(e,r):new jL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fa(n,this.value)):n!==null&&Gs(this.value)===Gs(n)&&this.matchesComparison(fa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends Eb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Wn(e,n)}matches(e){return Tb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Tb(t){return t.op==="and"}function xb(t){return ML(t)&&Tb(t)}function ML(t){for(const e of t.filters)if(e instanceof Wn)return!1;return!0}function xg(t){if(t instanceof nt)return t.field.canonicalString()+t.op.toString()+pa(t.value);if(xb(t))return t.filters.map(e=>xg(e)).join(",");{const e=t.filters.map(n=>xg(n)).join(",");return`${t.op}(${e})`}}function Sb(t,e){return t instanceof nt?function(r,s){return s instanceof nt&&r.op===s.op&&r.field.isEqual(s.field)&&vr(r.value,s.value)}(t,e):t instanceof Wn?function(r,s){return s instanceof Wn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&Sb(o,s.filters[a]),!0):!1}(t,e):void se(19439)}function Cb(t){return t instanceof nt?function(n){return`${n.field.canonicalString()} ${n.op} ${pa(n.value)}`}(t):t instanceof Wn?function(n){return n.op.toString()+" {"+n.getFilters().map(Cb).join(" ,")+"}"}(t):"Filter"}class LL extends nt{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class VL extends nt{constructor(e,n){super(e,"in",n),this.keys=Ib("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jL extends nt{constructor(e,n){super(e,"not-in",n),this.keys=Ib("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ib(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class FL extends nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Iv(n)&&lc(n.arrayValue,this.value)}}class UL extends nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lc(this.value.arrayValue,n)}}class $L extends nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!lc(this.value.arrayValue,n)}}class zL extends nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Iv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>lc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function tE(t,e=null,n=[],r=[],s=null,i=null,o=null){return new BL(t,e,n,r,s,i,o)}function bv(t){const e=ce(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>xg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),yf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>pa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>pa(r)).join(",")),e.Te=n}return e.Te}function Av(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!DL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Sb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eE(t.startAt,e.startAt)&&eE(t.endAt,e.endAt)}function Sg(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function HL(t,e,n,r,s,i,o,a){return new ka(t,e,n,r,s,i,o,a)}function Rv(t){return new ka(t)}function nE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bb(t){return t.collectionGroup!==null}function Ol(t){const e=ce(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ct(vt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new cc(i,r))}),n.has(vt.keyField().canonicalString())||e.Ie.push(new cc(vt.keyField(),r))}return e.Ie}function ur(t){const e=ce(t);return e.Ee||(e.Ee=WL(e,Ol(t))),e.Ee}function WL(t,e){if(t.limitType==="F")return tE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new cc(s.field,i)});const n=t.endAt?new oh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new oh(t.startAt.position,t.startAt.inclusive):null;return tE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Cg(t,e){const n=t.filters.concat([e]);return new ka(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ah(t,e,n){return new ka(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _f(t,e){return Av(ur(t),ur(e))&&t.limitType===e.limitType}function Ab(t){return`${bv(ur(t))}|lt:${t.limitType}`}function co(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Cb(s)).join(", ")}]`),yf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>pa(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>pa(s)).join(",")),`Target(${r})`}(ur(t))}; limitType=${t.limitType})`}function wf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):te.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ol(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=Jw(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Ol(r),s)||r.endAt&&!function(o,a,l){const u=Jw(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Ol(r),s))}(t,e)}function qL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Rb(t){return(e,n)=>{let r=!1;for(const s of Ol(t)){const i=GL(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function GL(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?fa(l,u):se(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Qi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return db(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=new qe(te.comparator);function Zr(){return KL}const Pb=new qe(te.comparator);function pl(...t){let e=Pb;for(const n of t)e=e.insert(n.key,n);return e}function kb(t){let e=Pb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function vi(){return Dl()}function Nb(){return Dl()}function Dl(){return new Zi(t=>t.toString(),(t,e)=>t.isEqual(e))}const QL=new qe(te.comparator),ZL=new ct(te.comparator);function Ee(...t){let e=ZL;for(const n of t)e=e.add(n);return e}const YL=new ct(we);function XL(){return YL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(e)?"-0":e}}function Ob(t){return{integerValue:""+t}}function JL(t,e){return bL(e)?Ob(e):Pv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(){this._=void 0}}function eV(t,e,n){return t instanceof lh?function(s,i){const o={fields:{[pb]:{stringValue:fb},[gb]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Cv(i)&&(i=vf(i)),i&&(o.fields[mb]=i),{mapValue:o}}(n,e):t instanceof uc?Mb(t,e):t instanceof dc?Lb(t,e):function(s,i){const o=Db(s,i),a=rE(o)+rE(s.Ae);return Tg(o)&&Tg(s.Ae)?Ob(a):Pv(s.serializer,a)}(t,e)}function tV(t,e,n){return t instanceof uc?Mb(t,e):t instanceof dc?Lb(t,e):n}function Db(t,e){return t instanceof ch?function(r){return Tg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class lh extends Ef{}class uc extends Ef{constructor(e){super(),this.elements=e}}function Mb(t,e){const n=Vb(e);for(const r of t.elements)n.some(s=>vr(s,r))||n.push(r);return{arrayValue:{values:n}}}class dc extends Ef{constructor(e){super(),this.elements=e}}function Lb(t,e){let n=Vb(e);for(const r of t.elements)n=n.filter(s=>!vr(s,r));return{arrayValue:{values:n}}}class ch extends Ef{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function rE(t){return Xe(t.integerValue||t.doubleValue)}function Vb(t){return Iv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function nV(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof uc&&s instanceof uc||r instanceof dc&&s instanceof dc?ha(r.elements,s.elements,vr):r instanceof ch&&s instanceof ch?vr(r.Ae,s.Ae):r instanceof lh&&s instanceof lh}(t.transform,e.transform)}class rV{constructor(e,n){this.version=e,this.transformResults=n}}class dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new dr}static exists(e){return new dr(void 0,e)}static updateTime(e){return new dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Tf{}function jb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ub(t.key,dr.none()):new Wc(t.key,t.data,dr.none());{const n=t.data,r=gn.empty();let s=new ct(vt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Yi(t.key,r,new Mn(s.toArray()),dr.none())}}function sV(t,e,n){t instanceof Wc?function(s,i,o){const a=s.value.clone(),l=iE(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Yi?function(s,i,o){if(!pd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=iE(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(Fb(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ml(t,e,n,r){return t instanceof Wc?function(i,o,a,l){if(!pd(i.precondition,o))return a;const u=i.value.clone(),d=oE(i.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Yi?function(i,o,a,l){if(!pd(i.precondition,o))return a;const u=oE(i.fieldTransforms,l,o),d=o.data;return d.setAll(Fb(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return pd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function iV(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Db(r.transform,s||null);i!=null&&(n===null&&(n=gn.empty()),n.set(r.field,i))}return n||null}function sE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ha(r,s,(i,o)=>nV(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wc extends Tf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Yi extends Tf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Fb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function iE(t,e,n){const r=new Map;Ae(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,tV(o,a,n[s]))}return r}function oE(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,eV(i,o,e))}return r}class Ub extends Tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oV extends Tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&sV(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ml(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ml(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Nb();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=jb(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&ha(this.mutations,e.mutations,(n,r)=>sE(n,r))&&ha(this.baseMutations,e.baseMutations,(n,r)=>sE(n,r))}}class kv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ae(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return QL}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new kv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lV=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et,Se;function uV(t){switch(t){case U.OK:return se(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return se(15467,{code:t})}}function $b(t){if(t===void 0)return Qr("GRPC error has no .code"),U.UNKNOWN;switch(t){case et.OK:return U.OK;case et.CANCELLED:return U.CANCELLED;case et.UNKNOWN:return U.UNKNOWN;case et.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case et.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case et.INTERNAL:return U.INTERNAL;case et.UNAVAILABLE:return U.UNAVAILABLE;case et.UNAUTHENTICATED:return U.UNAUTHENTICATED;case et.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case et.NOT_FOUND:return U.NOT_FOUND;case et.ALREADY_EXISTS:return U.ALREADY_EXISTS;case et.PERMISSION_DENIED:return U.PERMISSION_DENIED;case et.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case et.ABORTED:return U.ABORTED;case et.OUT_OF_RANGE:return U.OUT_OF_RANGE;case et.UNIMPLEMENTED:return U.UNIMPLEMENTED;case et.DATA_LOSS:return U.DATA_LOSS;default:return se(39323,{code:t})}}(Se=et||(et={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=new Ls([4294967295,4294967295],0);function aE(t){const e=dV().encode(t),n=new eb;return n.update(e),new Uint8Array(n.digest())}function lE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ls([n,r],0),new Ls([s,i],0)]}class Nv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ml(`Invalid padding: ${n}`);if(r<0)throw new ml(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ml(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ml(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ls.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Ls.fromNumber(r)));return s.compare(hV)===1&&(s=new Ls([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=aE(e),[r,s]=lE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Nv(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=aE(e),[r,s]=lE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,qc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xf(le.min(),s,new qe(we),Zr(),Ee())}}class qc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new qc(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class zb{constructor(e,n){this.targetId=e,this.Ce=n}}class Bb{constructor(e,n,r=Et.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class cE{constructor(){this.ve=0,this.Fe=uE(),this.Me=Et.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ee(),n=Ee(),r=Ee();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:se(38017,{changeType:i})}}),new qc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=uE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ae(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class fV{constructor(e){this.Ge=e,this.ze=new Map,this.je=Zr(),this.Je=Fu(),this.He=Fu(),this.Ye=new qe(we)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Sg(i))if(r===0){const o=new te(i.path);this.et(n,o,Rt.newNoDocument(o,le.min()))}else Ae(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=qs(r).toUint8Array()}catch(l){if(l instanceof hb)return da("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Nv(o,s,i)}catch(l){return da(l instanceof ml?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Sg(a.target)){const l=new te(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Rt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=Ee();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new xf(e,n,this.Ye,this.je,r);return this.je=Zr(),this.Je=Fu(),this.He=Fu(),this.Ye=new qe(we),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new cE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ct(we),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ct(we),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new cE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Fu(){return new qe(te.comparator)}function uE(){return new qe(te.comparator)}const pV={asc:"ASCENDING",desc:"DESCENDING"},mV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gV={and:"AND",or:"OR"};class yV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ig(t,e){return t.useProto3Json||yf(e)?e:{value:e}}function uh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vV(t,e){return uh(t,e.toTimestamp())}function hr(t){return Ae(!!t,49232),le.fromTimestamp(function(n){const r=Ws(n);return new Ve(r.seconds,r.nanos)}(t))}function Ov(t,e){return bg(t,e).canonicalString()}function bg(t,e){const n=function(s){return new Ne(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Wb(t){const e=Ne.fromString(t);return Ae(Zb(e),10190,{key:e.toString()}),e}function Ag(t,e){return Ov(t.databaseId,e.path)}function Gp(t,e){const n=Wb(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(Gb(n))}function qb(t,e){return Ov(t.databaseId,e)}function _V(t){const e=Wb(t);return e.length===4?Ne.emptyPath():Gb(e)}function Rg(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Gb(t){return Ae(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function dE(t,e,n){return{name:Ag(t,e),fields:n.value.mapValue.fields}}function wV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:se(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(Ae(d===void 0||typeof d=="string",58123),Et.fromBase64String(d||"")):(Ae(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Et.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?U.UNKNOWN:$b(u.code);return new Z(d,u.message||"")}(o);n=new Bb(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Gp(t,r.document.name),i=hr(r.document.updateTime),o=r.document.createTime?hr(r.document.createTime):le.min(),a=new gn({mapValue:{fields:r.document.fields}}),l=Rt.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new md(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Gp(t,r.document),i=r.readTime?hr(r.readTime):le.min(),o=Rt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new md([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Gp(t,r.document),i=r.removedTargetIds||[];n=new md([],i,s,null)}else{if(!("filter"in e))return se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new cV(s,i),a=r.targetId;n=new zb(a,o)}}return n}function EV(t,e){let n;if(e instanceof Wc)n={update:dE(t,e.key,e.value)};else if(e instanceof Ub)n={delete:Ag(t,e.key)};else if(e instanceof Yi)n={update:dE(t,e.key,e.data),updateMask:PV(e.fieldMask)};else{if(!(e instanceof oV))return se(16599,{Vt:e.type});n={verify:Ag(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof lh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof uc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof dc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ch)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw se(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:vV(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:se(27497)}(t,e.precondition)),n}function TV(t,e){return t&&t.length>0?(Ae(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?hr(s.updateTime):hr(i);return o.isEqual(le.min())&&(o=hr(i)),new rV(o,s.transformResults||[])}(n,e))):[]}function xV(t,e){return{documents:[qb(t,e.path)]}}function SV(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qb(t,s);const i=function(u){if(u.length!==0)return Qb(Wn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:uo(p.field),direction:bV(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Ig(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function CV(t){let e=_V(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ae(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const p=Kb(h);return p instanceof Wn&&xb(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(x){return new cc(ho(x.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,yf(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,v=h.values||[];return new oh(v,p)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const p=!h.before,v=h.values||[];return new oh(v,p)}(n.endAt)),HL(e,s,o,i,a,"F",l,u)}function IV(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Kb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ho(n.unaryFilter.field);return nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ho(n.unaryFilter.field);return nt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ho(n.unaryFilter.field);return nt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ho(n.unaryFilter.field);return nt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return se(61313);default:return se(60726)}}(t):t.fieldFilter!==void 0?function(n){return nt.create(ho(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return se(58110);default:return se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Wn.create(n.compositeFilter.filters.map(r=>Kb(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return se(1026)}}(n.compositeFilter.op))}(t):se(30097,{filter:t})}function bV(t){return pV[t]}function AV(t){return mV[t]}function RV(t){return gV[t]}function uo(t){return{fieldPath:t.canonicalString()}}function ho(t){return vt.fromServerFormat(t.fieldPath)}function Qb(t){return t instanceof nt?function(n){if(n.op==="=="){if(Xw(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NAN"}};if(Yw(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Xw(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NAN"}};if(Yw(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(n.field),op:AV(n.op),value:n.value}}}(t):t instanceof Wn?function(n){const r=n.getFilters().map(s=>Qb(s));return r.length===1?r[0]:{compositeFilter:{op:RV(n.op),filters:r}}}(t):se(54877,{filter:t})}function PV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Zb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n,r,s,i=le.min(),o=le.min(),a=Et.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e){this.yt=e}}function NV(t){const e=CV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ah(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(){this.Cn=new DV}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Hs.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Hs.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class DV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ct(Ne.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ct(Ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yb=41943040;class qt{static withCacheSize(e){return new qt(e,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qt.DEFAULT_COLLECTION_PERCENTILE=10,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qt.DEFAULT=new qt(Yb,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qt.DISABLED=new qt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ma(0)}static cr(){return new ma(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="LruGarbageCollector",MV=1048576;function pE([t,e],[n,r]){const s=we(t,n);return s===0?we(e,r):s}class LV{constructor(e){this.Ir=e,this.buffer=new ct(pE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();pE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class VV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Y(fE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Pa(n)?Y(fE,"Ignoring IndexedDB error during garbage collection: ",n):await Ra(n)}await this.Vr(3e5)})}}class jV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(gf.ce);const r=new LV(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(hE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),lo()<=_e.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function FV(t,e){return new jV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(){this.changes=new Zi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ml(r.mutation,s,Mn.empty(),Ve.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const s=vi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=pl();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=vi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Zr();const o=Dl(),a=function(){return Dl()}();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof Yi)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Ml(d.mutation,u,d.mutation.getFieldMask(),Ve.now())):o.set(u.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>a.set(u,new $V(d,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Dl();let s=new qe((o,a)=>o-a),i=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Mn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(s.get(a.batchId)||Ee()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=Nb();d.forEach(p=>{if(!i.has(p)){const v=jb(n.get(p),r.get(p));v!==null&&h.set(p,v),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$.resolve(vi());let a=ic,l=i;return o.next(u=>$.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?$.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,Ee())).next(d=>({batchId:a,changes:kb(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let s=pl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=pl();return this.indexManager.getCollectionParents(e,i).next(a=>$.forEach(a,l=>{const u=function(h,p){return new ka(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Rt.newInvalidDocument(d)))});let a=pl();return o.forEach((l,u)=>{const d=i.get(l);d!==void 0&&Ml(d.mutation,u,Mn.empty(),Ve.now()),wf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:hr(s.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:NV(s.bundledQuery),readTime:hr(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(){this.overlays=new qe(te.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=vi();return $.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=vi(),i=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new qe((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=vi(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=vi(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return $.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new lV(n,r));let i=this.qr.get(n);i===void 0&&(i=Ee(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(){this.sessionToken=Et.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(){this.Qr=new ct(ft.$r),this.Ur=new ct(ft.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new ft(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new ft(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new te(new Ne([])),r=new ft(n,e),s=new ft(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new te(new Ne([])),r=new ft(n,e),s=new ft(n,e+1);let i=Ee();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new ft(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ft{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return te.comparator(e.key,n.key)||we(e.Yr,n.Yr)}static Kr(e,n){return we(e.Yr,n.Yr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ct(ft.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new aV(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new ft(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Sv:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ft(n,0),s=new ft(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(we);return n.forEach(s=>{const i=new ft(s,0),o=new ft(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;te.isDocumentKey(i)||(i=i.child(""));const o=new ft(new te(i),0);let a=new ct(we);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Yr)),!0)},o),$.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ae(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(n.mutations,s=>{const i=new ft(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new ft(n,0),s=this.Zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e){this.ri=e,this.docs=function(){return new qe(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Rt.newInvalidDocument(n))}getEntries(e,n){let r=Zr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Rt.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Zr();const o=n.path,a=new te(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||xL(TL(d),r)<=0||(s.has(d.key)||wf(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,s){se(9500)}ii(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new KV(this)}getSize(e){return $.resolve(this.size)}}class KV extends UV{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e){this.persistence=e,this.si=new Zi(n=>bv(n),Av),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.oi=0,this._i=new Dv,this.targetCount=0,this.ai=ma.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ma(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),$.waitFor(i).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,n){this.ui={},this.overlays={},this.ci=new gf(0),this.li=!1,this.li=!0,this.hi=new WV,this.referenceDelegate=e(this),this.Pi=new QV(this),this.indexManager=new OV,this.remoteDocumentCache=function(s){return new GV(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new kV(n),this.Ii=new BV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new HV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new qV(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const s=new ZV(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return $.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class ZV extends CL{constructor(e){super(),this.currentSequenceNumber=e}}class Mv{constructor(e){this.persistence=e,this.Ri=new Dv,this.Vi=null}static mi(e){return new Mv(e)}get fi(){if(this.Vi)return this.Vi;throw se(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,r=>{const s=te.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,le.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class dh{constructor(e,n){this.persistence=e,this.pi=new Zi(r=>AL(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=FV(this,n)}static mi(e,n){return new dh(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return $.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?$.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,le.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=hd(e.data.value)),n}br(e,n,r){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ee(),s=Ee();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Lv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return WM()?8:IL(kt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new YV;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(lo()<=_e.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",co(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(lo()<=_e.DEBUG&&Y("QueryEngine","Query:",co(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(lo()<=_e.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",co(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ur(n))):$.resolve())}ys(e,n){if(nE(n))return $.resolve(null);let r=ur(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=ah(n,null,"F"),r=ur(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ee(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,o,l.readTime)?this.ys(e,ah(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,s){return nE(n)||s.isEqual(le.min())?$.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?$.resolve(null):(lo()<=_e.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),co(n)),this.vs(e,o,n,EL(s,ic)).next(a=>a))})}Ds(e,n){let r=new ct(Rb(e));return n.forEach((s,i)=>{wf(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return lo()<=_e.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",co(n)),this.ps.getDocumentsMatchingQuery(e,n,Hs.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="LocalStore",JV=3e8;class e8{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new qe(we),this.xs=new Zi(i=>bv(i),Av),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function t8(t,e,n,r){return new e8(t,e,n,r)}async function Jb(t,e){const n=ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ee();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function n8(t,e){const n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,p=h.keys();let v=$.resolve();return p.forEach(x=>{v=v.next(()=>d.getEntry(l,x)).next(_=>{const S=u.docVersions.get(x);Ae(S!==null,48541),_.version.compareTo(S)<0&&(h.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),d.addEntry(_)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ee();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function eA(t){const e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function r8(t,e){const n=ce(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((d,h)=>{const p=s.get(h);if(!p)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,h)));let v=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?v=v.withResumeToken(Et.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),s=s.insert(h,v),function(_,S,w){return _.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=JV?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,v,d)&&a.push(n.Pi.updateTargetData(i,v))});let l=Zr(),u=Ee();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(s8(i,o,e.documentUpdates).next(d=>{l=d.ks,u=d.qs})),!r.isEqual(le.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(h=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return $.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.Ms=s,i))}function s8(t,e,n){let r=Ee(),s=Ee();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Zr();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(le.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Y(Vv,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:s}})}function i8(t,e){const n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Sv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function o8(t,e){const n=ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,$.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Cs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Pg(t,e,n){const r=ce(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Pa(o))throw o;Y(Vv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function mE(t,e,n){const r=ce(t);let s=le.min(),i=Ee();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=ce(l),p=h.xs.get(d);return p!==void 0?$.resolve(h.Ms.get(p)):h.Pi.getTargetData(u,d)}(r,o,ur(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:le.min(),n?i:Ee())).next(a=>(a8(r,qL(e),a),{documents:a,Qs:i})))}function a8(t,e,n){let r=t.Os.get(e)||le.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class gE{constructor(){this.activeTargetIds=XL()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class l8{constructor(){this.Mo=new gE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new gE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="ConnectivityMonitor";class vE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Y(yE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Y(yE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uu=null;function kg(){return Uu===null?Uu=function(){return 268435456+Math.round(2147483648*Math.random())}():Uu++,"0x"+Uu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="RestConnection",u8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class d8{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===sh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=kg(),a=this.zo(e,n.toUriEncodedString());Y(Kp,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:u}=new URL(a),d=Gi(u);return this.Jo(e,a,l,r,d).then(h=>(Y(Kp,`Received RPC '${e}' ${o}: `,h),h),h=>{throw da(Kp,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Aa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=u8[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ct="WebChannelConnection";class f8 extends d8{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=kg();return new Promise((a,l)=>{const u=new tb;u.setWithCredentials(!0),u.listenOnce(nb.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case dd.NO_ERROR:const h=u.getResponseJson();Y(Ct,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case dd.TIMEOUT:Y(Ct,`RPC '${e}' ${o} timed out`),l(new Z(U.DEADLINE_EXCEEDED,"Request time out"));break;case dd.HTTP_ERROR:const p=u.getStatus();if(Y(Ct,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const x=v==null?void 0:v.error;if(x&&x.status&&x.message){const _=function(w){const E=w.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(E)>=0?E:U.UNKNOWN}(x.status);l(new Z(_,x.message))}else l(new Z(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Z(U.UNAVAILABLE,"Connection failed."));break;default:se(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Y(Ct,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);Y(Ct,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=kg(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ib(),a=sb(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");Y(Ct,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);this.I_(h);let p=!1,v=!1;const x=new h8({Yo:S=>{v?Y(Ct,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(p||(Y(Ct,`Opening RPC '${e}' stream ${s} transport.`),h.open(),p=!0),Y(Ct,`RPC '${e}' stream ${s} sending:`,S),h.send(S))},Zo:()=>h.close()}),_=(S,w,E)=>{S.listen(w,C=>{try{E(C)}catch(k){setTimeout(()=>{throw k},0)}})};return _(h,fl.EventType.OPEN,()=>{v||(Y(Ct,`RPC '${e}' stream ${s} transport opened.`),x.o_())}),_(h,fl.EventType.CLOSE,()=>{v||(v=!0,Y(Ct,`RPC '${e}' stream ${s} transport closed`),x.a_(),this.E_(h))}),_(h,fl.EventType.ERROR,S=>{v||(v=!0,da(Ct,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),x.a_(new Z(U.UNAVAILABLE,"The operation could not be completed")))}),_(h,fl.EventType.MESSAGE,S=>{var w;if(!v){const E=S.data[0];Ae(!!E,16349);const C=E,k=(C==null?void 0:C.error)||((w=C[0])==null?void 0:w.error);if(k){Y(Ct,`RPC '${e}' stream ${s} received error:`,k);const O=k.status;let M=function(b){const R=et[b];if(R!==void 0)return $b(R)}(O),I=k.message;M===void 0&&(M=U.INTERNAL,I="Unknown error status: "+O+" with message "+k.message),v=!0,x.a_(new Z(M,I)),h.close()}else Y(Ct,`RPC '${e}' stream ${s} received:`,E),x.u_(E)}}),_(a,rb.STAT_EVENT,S=>{S.stat===_g.PROXY?Y(Ct,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===_g.NOPROXY&&Y(Ct,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.__()},0),x}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Qp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(t){return new yV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Y("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="PersistentStream";class nA{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Qr(n.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Z(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Y(_E,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Y(_E,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class p8 extends nA{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=wV(this.serializer,e),r=function(i){if(!("targetChange"in i))return le.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?hr(o.readTime):le.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Rg(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Sg(l)?{documents:xV(i,l)}:{query:SV(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Hb(i,o.resumeToken);const u=Ig(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(le.min())>0){a.readTime=uh(i,o.snapshotVersion.toTimestamp());const u=Ig(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=IV(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Rg(this.serializer),n.removeTarget=e,this.q_(n)}}class m8 extends nA{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=TV(e.writeResults,e.commitTime),r=hr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Rg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>EV(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{}class y8 extends g8{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Z(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,bg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Z(U.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,bg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(U.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class v8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qr(n),this.aa=!1):Y("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui="RemoteStore";class _8{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Xi(this)&&(Y(Ui,"Restarting streams for network reachability change."),await async function(l){const u=ce(l);u.Ea.add(4),await Gc(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Cf(u)}(this))})}),this.Ra=new v8(r,s)}}async function Cf(t){if(Xi(t))for(const e of t.da)await e(!0)}async function Gc(t){for(const e of t.da)await e(!1)}function rA(t,e){const n=ce(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),$v(n)?Uv(n):Na(n).O_()&&Fv(n,e))}function jv(t,e){const n=ce(t),r=Na(n);n.Ia.delete(e),r.O_()&&sA(n,e),n.Ia.size===0&&(r.O_()?r.L_():Xi(n)&&n.Ra.set("Unknown"))}function Fv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Na(t).Y_(e)}function sA(t,e){t.Va.Ue(e),Na(t).Z_(e)}function Uv(t){t.Va=new fV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Na(t).start(),t.Ra.ua()}function $v(t){return Xi(t)&&!Na(t).x_()&&t.Ia.size>0}function Xi(t){return ce(t).Ea.size===0}function iA(t){t.Va=void 0}async function w8(t){t.Ra.set("Online")}async function E8(t){t.Ia.forEach((e,n)=>{Fv(t,e)})}async function T8(t,e){iA(t),$v(t)?(t.Ra.ha(e),Uv(t)):t.Ra.set("Unknown")}async function x8(t,e,n){if(t.Ra.set("Online"),e instanceof Bb&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){Y(Ui,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hh(t,r)}else if(e instanceof md?t.Va.Ze(e):e instanceof zb?t.Va.st(e):t.Va.tt(e),!n.isEqual(le.min()))try{const r=await eA(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ia.get(u);d&&i.Ia.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=i.Ia.get(l);if(!d)return;i.Ia.set(l,d.withResumeToken(Et.EMPTY_BYTE_STRING,d.snapshotVersion)),sA(i,l);const h=new Cs(d.target,l,u,d.sequenceNumber);Fv(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Y(Ui,"Failed to raise snapshot:",r),await hh(t,r)}}async function hh(t,e,n){if(!Pa(e))throw e;t.Ea.add(1),await Gc(t),t.Ra.set("Offline"),n||(n=()=>eA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y(Ui,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Cf(t)})}function oA(t,e){return e().catch(n=>hh(t,n,e))}async function If(t){const e=ce(t),n=Ks(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sv;for(;S8(e);)try{const s=await i8(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,C8(e,s)}catch(s){await hh(e,s)}aA(e)&&lA(e)}function S8(t){return Xi(t)&&t.Ta.length<10}function C8(t,e){t.Ta.push(e);const n=Ks(t);n.O_()&&n.X_&&n.ea(e.mutations)}function aA(t){return Xi(t)&&!Ks(t).x_()&&t.Ta.length>0}function lA(t){Ks(t).start()}async function I8(t){Ks(t).ra()}async function b8(t){const e=Ks(t);for(const n of t.Ta)e.ea(n.mutations)}async function A8(t,e,n){const r=t.Ta.shift(),s=kv.from(r,e,n);await oA(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await If(t)}async function R8(t,e){e&&Ks(t).X_&&await async function(r,s){if(function(o){return uV(o)&&o!==U.ABORTED}(s.code)){const i=r.Ta.shift();Ks(r).B_(),await oA(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await If(r)}}(t,e),aA(t)&&lA(t)}async function wE(t,e){const n=ce(t);n.asyncQueue.verifyOperationInProgress(),Y(Ui,"RemoteStore received new credentials");const r=Xi(n);n.Ea.add(3),await Gc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Cf(n)}async function P8(t,e){const n=ce(t);e?(n.Ea.delete(2),await Cf(n)):e||(n.Ea.add(2),await Gc(n),n.Ra.set("Unknown"))}function Na(t){return t.ma||(t.ma=function(n,r,s){const i=ce(n);return i.sa(),new p8(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:w8.bind(null,t),t_:E8.bind(null,t),r_:T8.bind(null,t),H_:x8.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),$v(t)?Uv(t):t.Ra.set("Unknown")):(await t.ma.stop(),iA(t))})),t.ma}function Ks(t){return t.fa||(t.fa=function(n,r,s){const i=ce(n);return i.sa(),new m8(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:I8.bind(null,t),r_:R8.bind(null,t),ta:b8.bind(null,t),na:A8.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await If(t)):(await t.fa.stop(),t.Ta.length>0&&(Y(Ui,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new zv(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bv(t,e){if(Qr("AsyncQueue",`${e}: ${t}`),Pa(t))return new Z(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{static emptySet(e){return new Uo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=pl(),this.sortedSet=new qe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Uo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(){this.ga=new qe(te.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ga{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ga(e,n,Uo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_f(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class N8{constructor(){this.queries=TE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ce(n),i=s.queries;s.queries=TE(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Z(U.ABORTED,"Firestore shutting down"))}}function TE(){return new Zi(t=>Ab(t),_f)}async function O8(t,e){const n=ce(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new k8,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Bv(o,`Initialization of query '${co(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Hv(n)}async function D8(t,e){const n=ce(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function M8(t,e){const n=ce(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Hv(n)}function L8(t,e,n){const r=ce(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Hv(t){t.Ca.forEach(e=>{e.next()})}var Ng,xE;(xE=Ng||(Ng={})).Ma="default",xE.Cache="cache";class V8{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ga(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ga.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ng.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.key=e}}class uA{constructor(e){this.key=e}}class j8{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ee(),this.mutatedKeys=Ee(),this.eu=Rb(e),this.tu=new Uo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new EE,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const p=s.get(d),v=wf(this.query,h)?h:null,x=!!p&&this.mutatedKeys.has(p.key),_=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let S=!1;p&&v?p.data.isEqual(v.data)?x!==_&&(r.track({type:3,doc:v}),S=!0):this.su(p,v)||(r.track({type:2,doc:v}),S=!0,(l&&this.eu(v,l)>0||u&&this.eu(v,u)<0)&&(a=!0)):!p&&v?(r.track({type:0,doc:v}),S=!0):p&&!v&&(r.track({type:1,doc:p}),S=!0,(l||u)&&(a=!0)),S&&(v?(o=o.add(v),i=_?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(v,x){const _=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se(20277,{Rt:S})}};return _(v)-_(x)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new ga(this.query,e.tu,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new EE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ee(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new uA(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new cA(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ee();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ga.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Wv="SyncEngine";class F8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class U8{constructor(e){this.key=e,this.hu=!1}}class $8{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Zi(a=>Ab(a),_f),this.Iu=new Map,this.Eu=new Set,this.du=new qe(te.comparator),this.Au=new Map,this.Ru=new Dv,this.Vu={},this.mu=new Map,this.fu=ma.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function z8(t,e,n=!0){const r=gA(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await dA(r,e,n,!0),s}async function B8(t,e){const n=gA(t);await dA(n,e,!0,!1)}async function dA(t,e,n,r){const s=await o8(t.localStore,ur(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await H8(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&rA(t.remoteStore,s),a}async function H8(t,e,n,r,s){t.pu=(h,p,v)=>async function(_,S,w,E){let C=S.view.ru(w);C.Cs&&(C=await mE(_.localStore,S.query,!1).then(({documents:I})=>S.view.ru(I,C)));const k=E&&E.targetChanges.get(S.targetId),O=E&&E.targetMismatches.get(S.targetId)!=null,M=S.view.applyChanges(C,_.isPrimaryClient,k,O);return CE(_,S.targetId,M.au),M.snapshot}(t,h,p,v);const i=await mE(t.localStore,e,!0),o=new j8(e,i.Qs),a=o.ru(i.documents),l=qc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);CE(t,n,u.au);const d=new F8(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function W8(t,e,n){const r=ce(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!_f(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Pg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&jv(r.remoteStore,s.targetId),Og(r,s.targetId)}).catch(Ra)):(Og(r,s.targetId),await Pg(r.localStore,s.targetId,!0))}async function q8(t,e){const n=ce(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),jv(n.remoteStore,r.targetId))}async function G8(t,e,n){const r=ej(t);try{const s=await function(o,a){const l=ce(o),u=Ve.now(),d=a.reduce((v,x)=>v.add(x.key),Ee());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let x=Zr(),_=Ee();return l.Ns.getEntries(v,d).next(S=>{x=S,x.forEach((w,E)=>{E.isValidDocument()||(_=_.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,x)).next(S=>{h=S;const w=[];for(const E of a){const C=iV(E,h.get(E.key).overlayedDocument);C!=null&&w.push(new Yi(E.key,C,wb(C.value.mapValue),dr.exists(!0)))}return l.mutationQueue.addMutationBatch(v,u,w,a)}).next(S=>{p=S;const w=S.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(v,S.batchId,w)})}).then(()=>({batchId:p.batchId,changes:kb(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new qe(we)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u}(r,s.batchId,n),await Kc(r,s.changes),await If(r.remoteStore)}catch(s){const i=Bv(s,"Failed to persist write");n.reject(i)}}async function hA(t,e){const n=ce(t);try{const r=await r8(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Ae(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ae(o.hu,14607):s.removedDocuments.size>0&&(Ae(o.hu,42227),o.hu=!1))}),await Kc(n,r,e)}catch(r){await Ra(r)}}function SE(t,e,n){const r=ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ce(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const p of h.Sa)p.va(a)&&(u=!0)}),u&&Hv(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function K8(t,e,n){const r=ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new qe(te.comparator);o=o.insert(i,Rt.newNoDocument(i,le.min()));const a=Ee().add(i),l=new xf(le.min(),new Map,new qe(we),o,a);await hA(r,l),r.du=r.du.remove(i),r.Au.delete(e),qv(r)}else await Pg(r.localStore,e,!1).then(()=>Og(r,e,n)).catch(Ra)}async function Q8(t,e){const n=ce(t),r=e.batch.batchId;try{const s=await n8(n.localStore,e);pA(n,r,null),fA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Kc(n,s)}catch(s){await Ra(s)}}async function Z8(t,e,n){const r=ce(t);try{const s=await function(o,a){const l=ce(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Ae(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);pA(r,e,n),fA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Kc(r,s)}catch(s){await Ra(s)}}function fA(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function pA(t,e,n){const r=ce(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Og(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||mA(t,r)})}function mA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(jv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),qv(t))}function CE(t,e,n){for(const r of n)r instanceof cA?(t.Ru.addReference(r.key,e),Y8(t,r)):r instanceof uA?(Y(Wv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||mA(t,r.key)):se(19791,{wu:r})}function Y8(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Y(Wv,"New document in limbo: "+n),t.Eu.add(r),qv(t))}function qv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new te(Ne.fromString(e)),r=t.fu.next();t.Au.set(r,new U8(n)),t.du=t.du.insert(n,r),rA(t.remoteStore,new Cs(ur(Rv(n.path)),r,"TargetPurposeLimboResolution",gf.ce))}}async function Kc(t,e,n){const r=ce(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){s.push(u);const h=Lv.As(l.targetId,u);i.push(h)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,u){const d=ce(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>$.forEach(u,p=>$.forEach(p.Es,v=>d.persistence.referenceDelegate.addReference(h,p.targetId,v)).next(()=>$.forEach(p.ds,v=>d.persistence.referenceDelegate.removeReference(h,p.targetId,v)))))}catch(h){if(!Pa(h))throw h;Y(Vv,"Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const v=d.Ms.get(p),x=v.snapshotVersion,_=v.withLastLimboFreeSnapshotVersion(x);d.Ms=d.Ms.insert(p,_)}}}(r.localStore,i))}async function X8(t,e){const n=ce(t);if(!n.currentUser.isEqual(e)){Y(Wv,"User change. New user:",e.toKey());const r=await Jb(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new Z(U.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Kc(n,r.Ls)}}function J8(t,e){const n=ce(t),r=n.Au.get(e);if(r&&r.hu)return Ee().add(r.key);{let s=Ee();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function gA(t){const e=ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=hA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=J8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K8.bind(null,e),e.Pu.H_=M8.bind(null,e.eventManager),e.Pu.yu=L8.bind(null,e.eventManager),e}function ej(t){const e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Q8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Z8.bind(null,e),e}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return t8(this.persistence,new XV,e.initialUser,this.serializer)}Cu(e){return new Xb(Mv.mi,this.serializer)}Du(e){return new l8}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class tj extends fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ae(this.persistence.referenceDelegate instanceof dh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new VV(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?qt.withCacheSize(this.cacheSizeBytes):qt.DEFAULT;return new Xb(r=>dh.mi(r,n),this.serializer)}}class Dg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>SE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=X8.bind(null,this.syncEngine),await P8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new N8}()}createDatastore(e){const n=Sf(e.databaseInfo.databaseId),r=function(i){return new f8(i)}(e.databaseInfo);return function(i,o,a,l){return new y8(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new _8(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>SE(this.syncEngine,n,0),function(){return vE.v()?new vE:new c8}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,d){const h=new $8(s,i,o,a,l,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ce(s);Y(Ui,"RemoteStore shutting down."),i.Ea.add(5),await Gc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Dg.provider={build:()=>new Dg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="FirestoreClient";class rj{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=bt.UNAUTHENTICATED,this.clientId=xv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Y(Qs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y(Qs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Bv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Zp(t,e){t.asyncQueue.verifyOperationInProgress(),Y(Qs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Jb(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function IE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await sj(t);Y(Qs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>wE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>wE(e.remoteStore,s)),t._onlineComponents=e}async function sj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y(Qs,"Using user provided OfflineComponentProvider");try{await Zp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;da("Error using user provided cache. Falling back to memory cache: "+n),await Zp(t,new fh)}}else Y(Qs,"Using default OfflineComponentProvider"),await Zp(t,new tj(void 0));return t._offlineComponents}async function yA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y(Qs,"Using user provided OnlineComponentProvider"),await IE(t,t._uninitializedComponentsProvider._online)):(Y(Qs,"Using default OnlineComponentProvider"),await IE(t,new Dg))),t._onlineComponents}function ij(t){return yA(t).then(e=>e.syncEngine)}async function bE(t){const e=await yA(t),n=e.eventManager;return n.onListen=z8.bind(null,e.syncEngine),n.onUnlisten=W8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=B8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=q8.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="firestore.googleapis.com",RE=!0;class PE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Z(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_A,this.ssl=RE}else this.host=e.host,this.ssl=e.ssl??RE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Yb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MV)throw new Z(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vA(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Z(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Z(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Z(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new uL;switch(r.type){case"firstParty":return new pL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=AE.get(n);r&&(Y("ComponentProvider","Removing Datastore"),AE.delete(n),r.terminate())}(this),Promise.resolve()}}function oj(t,e,n,r={}){var u;t=bi(t,bf);const s=Gi(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(av(`https://${a}`),lv("Firestore",!0)),i.host!==_A&&i.host!==a&&da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!Li(l,o)&&(t._setSettings(l),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=bt.MOCK_USER;else{d=yI(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Z(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new bt(p)}t._authCredentials=new dL(new ab(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ri(this.firestore,e,this._query)}}class st{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new st(this.firestore,e,this._key)}toJSON(){return{type:st._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Hc(n,st._jsonSchema))return new st(e,r||null,new te(Ne.fromString(n.referencePath)))}}st._jsonSchemaVersion="firestore/documentReference/1.0",st._jsonSchema={type:rt("string",st._jsonSchemaVersion),referencePath:rt("string")};class Vs extends ri{constructor(e,n,r){super(e,n,Rv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new st(this.firestore,null,new te(e))}withConverter(e){return new Vs(this.firestore,e,this._path)}}function Mg(t,e,...n){if(t=Nt(t),lb("collection","path",e),t instanceof bf){const r=Ne.fromString(e,...n);return zw(r),new Vs(t,null,r)}{if(!(t instanceof st||t instanceof Vs))throw new Z(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return zw(r),new Vs(t.firestore,null,r)}}function fi(t,e,...n){if(t=Nt(t),arguments.length===1&&(e=xv.newId()),lb("doc","path",e),t instanceof bf){const r=Ne.fromString(e,...n);return $w(r),new st(t,null,new te(r))}{if(!(t instanceof st||t instanceof Vs))throw new Z(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return $w(r),new st(t.firestore,t instanceof Vs?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="AsyncQueue";class NE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tA(this,"async_queue_retry"),this._c=()=>{const r=Qp();r&&Y(kE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Qp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Qp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ii;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Pa(e))throw e;Y(kE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Qr("INTERNAL UNHANDLED ERROR: ",OE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=zv.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&se(47125,{Pc:OE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function OE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class hc extends bf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new NE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new NE(e),this._firestoreClient=void 0,await e}}}function aj(t,e){const n=typeof t=="object"?t:dv(),r=typeof t=="string"?t:sh,s=df(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=pI("firestore");i&&oj(s,...i)}return s}function wA(t){if(t._terminated)throw new Z(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||lj(t),t._firestoreClient}function lj(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,u,d){return new kL(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,vA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new rj(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yn(Et.fromBase64String(e))}catch(n){throw new Z(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yn(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hc(e,yn._jsonSchema))return yn.fromBase64String(e.bytes)}}yn._jsonSchemaVersion="firestore/bytes/1.0",yn._jsonSchema={type:rt("string",yn._jsonSchemaVersion),bytes:rt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fr._jsonSchemaVersion}}static fromJSON(e){if(Hc(e,fr._jsonSchema))return new fr(e.latitude,e.longitude)}}fr._jsonSchemaVersion="firestore/geoPoint/1.0",fr._jsonSchema={type:rt("string",fr._jsonSchemaVersion),latitude:rt("number"),longitude:rt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:pr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hc(e,pr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new pr(e.vectorValues);throw new Z(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pr._jsonSchemaVersion="firestore/vectorValue/1.0",pr._jsonSchema={type:rt("string",pr._jsonSchemaVersion),vectorValues:rt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj=/^__.*__$/;class uj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Yi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wc(e,this.data,n,this.fieldTransforms)}}function TA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se(40011,{Ac:t})}}class Kv{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Kv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ph(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(TA(this.Ac)&&cj.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class dj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Sf(e)}Cc(e,n,r,s=!1){return new Kv({Ac:e,methodName:n,Dc:r,path:vt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qv(t){const e=t._freezeSettings(),n=Sf(t._databaseId);return new dj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xA(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);IA("Data must be an object, but it was:",o,r);const a=SA(r,o);let l,u;if(i.merge)l=new Mn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const p=fj(e,h,n);if(!o.contains(p))throw new Z(U.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);mj(d,p)||d.push(p)}l=new Mn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new uj(new gn(a),l,u)}function hj(t,e,n,r=!1){return Zv(n,t.Cc(r?4:3,e))}function Zv(t,e){if(CA(t=Nt(t)))return IA("Unsupported field value:",e,t),SA(t,e);if(t instanceof EA)return function(r,s){if(!TA(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Zv(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return JL(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ve.fromDate(r);return{timestampValue:uh(s.serializer,i)}}if(r instanceof Ve){const i=new Ve(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uh(s.serializer,i)}}if(r instanceof fr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yn)return{bytesValue:Hb(s.serializer,r._byteString)};if(r instanceof st){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ov(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof pr)return function(o,a){return{mapValue:{fields:{[yb]:{stringValue:_b},[ih]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return Pv(a.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${mf(r)}`)}(t,e)}function SA(t,e){const n={};return db(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qi(t,(r,s)=>{const i=Zv(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function CA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ve||t instanceof fr||t instanceof yn||t instanceof st||t instanceof EA||t instanceof pr)}function IA(t,e,n){if(!CA(n)||!cb(n)){const r=mf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function fj(t,e,n){if((e=Nt(e))instanceof Gv)return e._internalPath;if(typeof e=="string")return bA(t,e);throw ph("Field path arguments must be of type string or ",t,!1,void 0,n)}const pj=new RegExp("[~\\*/\\[\\]]");function bA(t,e,n){if(e.search(pj)>=0)throw ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gv(...e.split("."))._internalPath}catch{throw ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ph(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Z(U.INVALID_ARGUMENT,a+t+l)}function mj(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new st(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Yv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gj extends AA{data(){return super.data()}}function Yv(t,e){return typeof e=="string"?bA(t,e):e instanceof Gv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xv{}class Jv extends Xv{}function RA(t,e,...n){let r=[];e instanceof Xv&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof t_).length,a=i.filter(l=>l instanceof e_).length;if(o>1||o>0&&a>0)throw new Z(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class e_ extends Jv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new e_(e,n,r)}_apply(e){const n=this._parse(e);return PA(e._query,n),new ri(e.firestore,e.converter,Cg(e._query,n))}_parse(e){const n=Qv(e.firestore);return function(i,o,a,l,u,d,h){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Z(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){LE(h,d);const x=[];for(const _ of h)x.push(ME(l,i,_));p={arrayValue:{values:x}}}else p=ME(l,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||LE(h,d),p=hj(a,o,h,d==="in"||d==="not-in");return nt.create(u,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class t_ extends Xv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Wn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)PA(o,l),o=Cg(o,l)}(e._query,n),new ri(e.firestore,e.converter,Cg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class n_ extends Jv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new n_(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new Z(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Z(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cc(i,o)}(e._query,this._field,this._direction);return new ri(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new ka(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function vj(t,e="asc"){const n=e,r=Yv("orderBy",t);return n_._create(r,n)}class r_ extends Jv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new r_(e,n,r)}_apply(e){return new ri(e.firestore,e.converter,ah(e._query,this._limit,this._limitType))}}function _j(t){return r_._create("limit",t,"F")}function ME(t,e,n){if(typeof(n=Nt(n))=="string"){if(n==="")throw new Z(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bb(e)&&n.indexOf("/")!==-1)throw new Z(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ne.fromString(n));if(!te.isDocumentKey(r))throw new Z(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zw(t,new te(r))}if(n instanceof st)return Zw(t,n._key);throw new Z(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mf(n)}.`)}function LE(t,e){if(!Array.isArray(t)||t.length===0)throw new Z(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PA(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Z(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class wj{convertValue(e,n="none"){switch(Gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Qi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[ih].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Xe(o.doubleValue));return new pr(n)}convertGeoPoint(e){return new fr(Xe(e.latitude),Xe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=vf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(oc(e));default:return null}}convertTimestamp(e){const n=Ws(e);return new Ve(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ne.fromString(e);Ae(Zb(r),9688,{name:e});const s=new ac(r.get(1),r.get(3)),i=new te(r.popFirst(5));return s.isEqual(n)||Qr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class gl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ai extends AA{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Yv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Z(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ai._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ai._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ai._jsonSchema={type:rt("string",Ai._jsonSchemaVersion),bundleSource:rt("string","DocumentSnapshot"),bundleName:rt("string"),bundle:rt("string")};class gd extends Ai{data(e={}){return super.data(e)}}class $o{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new gl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new gd(this._firestore,this._userDataWriter,r.key,r,new gl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new gd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new gl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new gd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new gl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:Ej(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Z(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$o._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Ej(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se(61501,{type:t})}}$o._jsonSchemaVersion="firestore/querySnapshot/1.0",$o._jsonSchema={type:rt("string",$o._jsonSchemaVersion),bundleSource:rt("string","QuerySnapshot"),bundleName:rt("string"),bundle:rt("string")};class NA extends wj{constructor(e){super(),this.firestore=e}convertBytes(e){return new yn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new st(this.firestore,null,n)}}function fo(t,e,n){t=bi(t,st);const r=bi(t.firestore,hc),s=kA(t.converter,e,n);return DA(r,[xA(Qv(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,dr.none())])}function Tj(t,e){const n=bi(t.firestore,hc),r=fi(t),s=kA(t.converter,e);return DA(n,[xA(Qv(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,dr.exists(!1))]).then(()=>r)}function OA(t,...e){var l,u,d;t=Nt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||DE(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(DE(e[r])){const h=e[r];e[r]=(l=h.next)==null?void 0:l.bind(h),e[r+1]=(u=h.error)==null?void 0:u.bind(h),e[r+2]=(d=h.complete)==null?void 0:d.bind(h)}let i,o,a;if(t instanceof st)o=bi(t.firestore,hc),a=Rv(t._key.path),i={next:h=>{e[r]&&e[r](xj(o,t,h))},error:e[r+1],complete:e[r+2]};else{const h=bi(t,ri);o=bi(h.firestore,hc),a=h._query;const p=new NA(o);i={next:v=>{e[r]&&e[r](new $o(o,p,h,v))},error:e[r+1],complete:e[r+2]},yj(t._query)}return function(p,v,x,_){const S=new nj(_),w=new V8(v,S,x);return p.asyncQueue.enqueueAndForget(async()=>O8(await bE(p),w)),()=>{S.Nu(),p.asyncQueue.enqueueAndForget(async()=>D8(await bE(p),w))}}(wA(o),a,s,i)}function DA(t,e){return function(r,s){const i=new Ii;return r.asyncQueue.enqueueAndForget(async()=>G8(await ij(r),s,i)),i.promise}(wA(t),e)}function xj(t,e,n){const r=n.docs.get(e._key),s=new NA(t);return new Ai(t,s,e._key,r,new gl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Aa=s})(Ki),Vi(new Bs("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new hc(new hL(r.getProvider("auth-internal")),new mL(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Z(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ac(u.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),lr(Vw,jw,e),lr(Vw,jw,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="firebasestorage.googleapis.com",Sj="storageBucket",Cj=2*60*1e3,Ij=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends Sr{constructor(e,n,r=0){super(Yp(e),`Firebase Storage: ${n} (${Yp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Cr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Yp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _r;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_r||(_r={}));function Yp(t){return"storage/"+t}function bj(){const t="An unknown error occurred, please check the error payload for server response.";return new Cr(_r.UNKNOWN,t)}function Aj(){return new Cr(_r.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Rj(){return new Cr(_r.CANCELED,"User canceled the upload/download.")}function Pj(t){return new Cr(_r.INVALID_URL,"Invalid URL '"+t+"'.")}function kj(t){return new Cr(_r.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function VE(t){return new Cr(_r.INVALID_ARGUMENT,t)}function LA(){return new Cr(_r.APP_DELETED,"The Firebase app was deleted.")}function Nj(t){return new Cr(_r.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ln.makeFromUrl(e,n)}catch{return new Ln(e,"")}if(r.path==="")return r;throw kj(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(k){k.path_=decodeURIComponent(k.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",v=new RegExp(`^https?://${h}/${d}/b/${s}/o${p}`,"i"),x={bucket:1,path:3},_=n===MA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",w=new RegExp(`^https?://${_}/${s}/${S}`,"i"),C=[{regex:a,indices:l,postModify:i},{regex:v,indices:x,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let k=0;k<C.length;k++){const O=C[k],M=O.regex.exec(e);if(M){const I=M[O.indices.bucket];let T=M[O.indices.path];T||(T=""),r=new Ln(I,T),O.postModify(r);break}}if(r==null)throw Pj(e);return r}}class Oj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(...S){u||(u=!0,e.apply(null,S))}function h(S){s=setTimeout(()=>{s=null,t(v,l())},S)}function p(){i&&clearTimeout(i)}function v(S,...w){if(u){p();return}if(S){p(),d.call(null,S,...w);return}if(l()||o){p(),d.call(null,S,...w);return}r<64&&(r*=2);let C;a===1?(a=2,C=0):C=(r+Math.random())*1e3,h(C)}let x=!1;function _(S){x||(x=!0,p(),!u&&(s!==null?(S||(a=2),clearTimeout(s),h(0)):S||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,_(!0)},n),_}function Mj(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(t){return t!==void 0}function jE(t,e,n,r){if(r<e)throw VE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw VE(`Invalid value for '${t}'. Expected ${n} or less.`)}function Vj(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var mh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(mh||(mh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e,n,r,s,i,o,a,l,u,d,h,p=!0,v=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=p,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,_)=>{this.resolve_=x,this.reject_=_,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new $u(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===mh.NO_ERROR,l=i.getStatus();if(!a||jj(l,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===mh.ABORT;r(!1,new $u(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new $u(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Lj(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=bj();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?LA():Rj();o(l)}else{const l=Aj();o(l)}};this.canceled_?n(!1,new $u(!1,null,!0)):this.backoffId_=Dj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Mj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class $u{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Uj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function $j(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function zj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Bj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Hj(t,e,n,r,s,i,o=!0,a=!1){const l=Vj(t.urlParams),u=t.url+l,d=Object.assign({},t.headers);return zj(d,e),Uj(d,n),$j(d,i),Bj(d,r),new Fj(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function qj(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n){this._service=e,n instanceof Ln?this._location=n:this._location=Ln.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new gh(e,n)}get root(){const e=new Ln(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qj(this._location.path)}get storage(){return this._service}get parent(){const e=Wj(this._location.path);if(e===null)return null;const n=new Ln(this._location.bucket,e);return new gh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Nj(e)}}function FE(t,e){const n=e==null?void 0:e[Sj];return n==null?null:Ln.makeFromBucketSpec(n,t)}function Gj(t,e,n,r={}){t.host=`${e}:${n}`;const s=Gi(e);s&&(av(`https://${t.host}/b`),lv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:yI(i,t.app.options.projectId))}class Kj{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=MA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Cj,this._maxUploadRetryTime=Ij,this._requests=new Set,s!=null?this._bucket=Ln.makeFromBucketSpec(s,this._host):this._bucket=FE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ln.makeFromBucketSpec(this._url,e):this._bucket=FE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){jE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){jE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gh(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new Oj(LA());{const o=Hj(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const UE="@firebase/storage",$E="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="storage";function Qj(t=dv(),e){t=Nt(t);const r=df(t,VA).getImmediate({identifier:e}),s=pI("storage");return s&&Zj(r,...s),r}function Zj(t,e,n,r={}){Gj(t,e,n,r)}function Yj(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Kj(n,r,s,e,Ki)}function Xj(){Vi(new Bs(VA,Yj,"PUBLIC").setMultipleInstances(!0)),lr(UE,$E,""),lr(UE,$E,"esm2020")}Xj();console.log(" Initializing Firebase with:",{apiKey:" Present",projectId:"xtraders-space",appId:" Present"});const yd={apiKey:"AIzaSyAcJhuvfGxqxNJfvopWsqXLwd5Do_XjmBo",authDomain:"xtraders-space.firebaseapp.com",projectId:"xtraders-space",storageBucket:"xtraders-space.firebasestorage.app",appId:"1:920075863073:web:b0711abecfeb9c52a7cf60"};(!yd.apiKey||!yd.projectId||!yd.appId)&&console.error(" Firebase configuration is incomplete! Check your environment variables.");const s_=wI(yd),On=lL(s_),vn=aj(s_),i_=new rr;Qj(s_);i_.addScope("https://www.googleapis.com/auth/drive.readonly");i_.addScope("https://www.googleapis.com/auth/drive.metadata.readonly");var pT;try{(pT=vn.settings)==null||pT.call(vn,{experimentalForceLongPolling:!0}),console.info("Firestore: experimentalForceLongPolling enabled to improve transport stability.")}catch(t){console.warn("Firestore: could not enable experimentalForceLongPolling",t)}function jA(){const t=g.useRef(),e=g.useRef(!1),n=async(i,o)=>{const a=On.currentUser;if(a)try{const l=fi(vn,"users",a.uid),u={uid:a.uid,name:a.displayName||"Unknown User",email:a.email||"",photoURL:a.photoURL||null,status:i,lastSeen:Date.now()};o!==void 0&&(u.customStatus=o),await fo(l,u,{merge:!0}),i==="In Call"&&(e.current=!0)}catch(l){console.error("Error updating status:",l)}},r=async i=>{const o=On.currentUser;if(o)try{const a=fi(vn,"users",o.uid);await fo(a,{customStatus:i||""},{merge:!0})}catch(a){console.error("Error updating custom status:",a)}},s=async()=>{const i=On.currentUser;if(i)try{const o=fi(vn,"users",i.uid);await fo(o,{uid:i.uid,name:i.displayName||"Unknown User",email:i.email||"",photoURL:i.photoURL||null,status:"Online",lastSeen:Date.now()},{merge:!0})}catch(o){console.error("Error initializing presence:",o)}};return g.useEffect(()=>{const i=yg(On,o=>{if(!o)return;s();const a=async()=>{const p=fi(vn,"users",o.uid);try{await fo(p,{status:"Offline",lastSeen:Date.now()},{merge:!0})}catch(v){console.error("Error updating status on unload:",v)}},l=async()=>{document.visibilityState==="visible"&&(e.current?(await n("Online"),e.current=!1):await n("Online"))},u=async()=>{e.current&&(await n("Online"),e.current=!1)};window.addEventListener("beforeunload",a),document.addEventListener("visibilitychange",l),window.addEventListener("focus",u);const d=()=>{window.removeEventListener("beforeunload",a),document.removeEventListener("visibilitychange",l),window.removeEventListener("focus",u)},h=yg(On,async p=>{if(!p){try{await fo(fi(vn,"users",o.uid),{status:"Offline",lastSeen:Date.now()},{merge:!0})}catch(v){console.error("Error marking user offline on sign-out:",v)}d(),h()}})});return()=>{i(),t.current&&clearTimeout(t.current)}},[]),{updateStatus:n,updateCustomStatus:r}}const Qc=g.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:xe("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));Qc.displayName="Card";const FA=g.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:xe("flex flex-col space-y-1.5 p-6",t),...e}));FA.displayName="CardHeader";const UA=g.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:xe("text-2xl font-semibold leading-none tracking-tight",t),...e}));UA.displayName="CardTitle";const $A=g.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:xe("text-sm text-muted-foreground",t),...e}));$A.displayName="CardDescription";const zA=g.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:xe("p-6 pt-0",t),...e}));zA.displayName="CardContent";const Jj=g.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:xe("flex items-center p-6 pt-0",t),...e}));Jj.displayName="CardFooter";const eF=Qy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Fr=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?_O:"button";return y.jsx(o,{className:xe(eF({variant:e,size:n,className:t})),ref:i,...s})});Fr.displayName="Button";var BA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},zE=Ft.createContext&&Ft.createContext(BA),tF=["attr","size","title"];function nF(t,e){if(t==null)return{};var n=rF(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yh(){return yh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yh.apply(this,arguments)}function BE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function vh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BE(Object(n),!0).forEach(function(r){sF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sF(t,e,n){return e=iF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iF(t){var e=oF(t,"string");return typeof e=="symbol"?e:e+""}function oF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HA(t){return t&&t.map((e,n)=>Ft.createElement(e.tag,vh({key:n},e.attr),HA(e.child)))}function aF(t){return e=>Ft.createElement(lF,yh({attr:vh({},t.attr)},e),HA(t.child))}function lF(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=nF(t,tF),a=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Ft.createElement("svg",yh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:vh(vh({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&Ft.createElement("title",null,i),t.children)};return zE!==void 0?Ft.createElement(zE.Consumer,null,n=>e(n)):e(BA)}function cF(t){return aF({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"},child:[]}]})(t)}function uF(){const[t,e]=g.useState(!1),{toast:n}=Zh(),r=async()=>{try{e(!0);const s=await y5(On,i_),i=s.user.email||"";if(!["nicolas@xt-xtraders.com.br","nathalie@xt-xtraders.com.br","willian@xt-xtraders.com.br","suporte@xt-xtraders.com.br","felipewcolognesi@gmail.com","samuelyb@outlook.com","contato.sdroievski@gmail.com","adrfmendess@gmail.com","2000evandro.santos@gmail.com"].includes(i)){await zI(On),e(!1),n({title:"Acesso negado",description:"Apenas membros autorizados podem acessar este Work Hub.",variant:"destructive"});return}const a=rr.credentialFromResult(s);a!=null&&a.accessToken&&(sessionStorage.setItem("googleAccessToken",a.accessToken),console.log(" Google Access Token stored")),console.log(" Login successful:",s.user.email)}catch(s){console.error(" Login error:",s.code,s.message),e(!1);let i="Falha ao fazer login com Google",o=s.message;s.code==="auth/configuration-not-found"?(i="Configurao OAuth no encontrada",o=`O provedor Google no est configurado no Firebase Console. Siga estas etapas:
1. Acesse Firebase Console
2. Authentication  Sign-in method
3. Ative o provedor Google
4. Adicione este domnio aos domnios autorizados`):s.code==="auth/popup-blocked"?(i="Pop-up bloqueado",o="Por favor, permita pop-ups para este site."):s.code==="auth/unauthorized-domain"?(i="Domnio no autorizado",o=`Adicione '${window.location.hostname}' aos domnios autorizados no Firebase Console.`):s.code==="auth/invalid-api-key"&&(i="API Key invlida",o="Verifique se VITE_FIREBASE_API_KEY est configurado corretamente nos Secrets."),n({title:i,description:o,variant:"destructive"})}};return y.jsx("div",{className:"min-h-screen flex items-center justify-center px-6 bg-background",children:y.jsxs(Qc,{className:"w-full max-w-md",children:[y.jsxs(FA,{className:"text-center space-y-4",children:[y.jsx("div",{className:"mx-auto w-16 h-16 rounded-lg bg-primary/10 flex items-center justify-center",children:y.jsxs("svg",{width:"56",height:"24",viewBox:"0 0 504 216",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("path",{d:"M503.361 6.12384V33.8438C503.361 35.451 502.722 36.9924 501.586 38.1289C500.449 39.2654 498.908 39.9038 497.301 39.9038H440.461V212.814H398.311V46.0038C398.311 44.3966 397.672 42.8552 396.536 41.7188C395.399 40.5823 393.858 39.9438 392.251 39.9438H356.051L302.281 109.464C301.591 110.346 301.161 111.403 301.041 112.517C300.921 113.63 301.115 114.755 301.601 115.764L347.771 213.004H306.611C305.455 213.003 304.323 212.672 303.349 212.051C302.375 211.429 301.598 210.542 301.111 209.494L270.571 143.494L221.761 210.494C221.198 211.264 220.463 211.89 219.613 212.323C218.764 212.756 217.824 212.982 216.871 212.984H173.801L254.071 108.264L205.401 6.12384H246.841C247.998 6.11873 249.132 6.44829 250.106 7.07283C251.08 7.69736 251.853 8.59022 252.331 9.64384L279.331 68.1238C279.778 69.0765 280.465 69.8963 281.325 70.5027C282.185 71.109 283.188 71.4809 284.236 71.5819C285.283 71.6828 286.339 71.5092 287.299 71.0782C288.259 70.6472 289.09 69.9736 289.711 69.1238L336.001 6.12384H503.361Z",fill:"url(#paint0_radial_73_480)"}),y.jsx("path",{d:"M210.84 99.7138V143.324C210.842 147.788 209.338 152.122 206.57 155.624L173.39 197.684V168.544C173.2 169.044 172.99 169.544 172.78 170.074C170.483 175.413 167.595 180.478 164.17 185.174C160.129 190.733 155.294 195.669 149.82 199.824C136.565 209.952 120.289 215.326 103.61 215.084C89.924 215.166 76.3614 212.493 63.73 207.224C51.3275 202.052 40.0839 194.453 30.66 184.874C21.0011 175.075 13.354 163.481 8.15 150.744C2.71667 137.657 0 123.157 0 107.244C0 91.3305 2.71667 76.8305 8.15 63.7438C13.3423 51.0331 21.0686 39.5128 30.8579 29.885C40.6472 20.2573 52.2946 12.7239 65.09 7.74383C78.518 2.5122 92.8194 -0.114588 107.23 0.00383265C129.783 0.00383265 149.42 5.0905 166.14 15.2638C181.113 24.3772 192.207 37.2405 199.42 53.8538C199.747 54.6115 199.915 55.4278 199.916 56.2529C199.916 57.078 199.749 57.8945 199.423 58.6526C199.097 59.4107 198.62 60.0944 198.022 60.662C197.423 61.2296 196.714 61.6692 195.94 61.9538L178.88 68.2238C174.077 69.9552 168.84 70.0696 163.965 68.5496C159.091 67.0296 154.848 63.9585 151.88 59.8038L151.78 59.6638C148.502 55.1723 144.525 51.2357 140 48.0038C135.389 44.7484 130.289 42.2502 124.89 40.6038C119.053 38.8474 112.985 37.981 106.89 38.0338C94.3967 38.0338 83.37 40.9038 73.81 46.6438C64.197 52.4635 56.4544 60.9176 51.5 71.0038C46.1667 81.4705 43.5 93.5538 43.5 107.254C43.5 121.554 46.1667 133.937 51.5 144.404C56.5478 154.576 64.4816 163.035 74.31 168.724C84.17 174.464 95.95 177.334 109.65 177.334C117.126 177.41 124.536 175.918 131.4 172.954C137.941 170.103 143.923 166.115 149.07 161.174C154.051 156.442 158.231 150.934 161.45 144.864C163.019 141.893 164.391 138.823 165.56 135.674C165.9 134.757 166.013 133.771 165.89 132.801C165.768 131.831 165.412 130.905 164.854 130.102C164.297 129.298 163.553 128.642 162.687 128.188C161.821 127.734 160.858 127.496 159.88 127.494H105.14C103.533 127.494 101.991 126.855 100.855 125.719C99.7185 124.582 99.08 123.041 99.08 121.434V99.7138C99.08 98.1066 99.7185 96.5652 100.855 95.4288C101.991 94.2923 103.533 93.6538 105.14 93.6538H204.78C206.387 93.6538 207.929 94.2923 209.065 95.4288C210.202 96.5652 210.84 98.1066 210.84 99.7138Z",fill:"url(#paint1_radial_73_480)"}),y.jsxs("defs",{children:[y.jsxs("radialGradient",{id:"paint0_radial_73_480",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(185.597 104.28 -166.118 152.284 173.801 103.084)",gradientUnits:"userSpaceOnUse",children:[y.jsx("stop",{stopColor:"#008FFF"}),y.jsx("stop",{offset:"1",stopColor:"#0052CC"})]}),y.jsxs("radialGradient",{id:"paint1_radial_73_480",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(118.738 108.419 -106.276 158.328 -4.57836e-06 100.809)",gradientUnits:"userSpaceOnUse",children:[y.jsx("stop",{stopColor:"#008FFF"}),y.jsx("stop",{offset:"1",stopColor:"#0052CC"})]})]})]})}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(UA,{className:"text-2xl font-semibold",children:"XTRADERS Space"}),y.jsx($A,{className:"text-base",children:"Sign in to see your team's presence and stay connected"})]})]}),y.jsx(zA,{children:y.jsx(Fr,{onClick:r,size:"lg",className:"w-full gap-2",disabled:t,"data-testid":"button-google-signin",children:t?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Redirecionando..."]}):y.jsxs(y.Fragment,{children:[y.jsx(cF,{className:"w-5 h-5"}),"Sign in with Google"]})})})]})})}var o_="Avatar",[dF,$z]=Tr(o_),[hF,WA]=dF(o_),qA=g.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=g.useState("idle");return y.jsx(hF,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:y.jsx(ye.span,{...r,ref:e})})});qA.displayName=o_;var GA="AvatarImage",KA=g.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=WA(GA,n),a=fF(r,i),l=Be(u=>{s(u),o.onImageLoadingStatusChange(u)});return Sn(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?y.jsx(ye.img,{...i,ref:e,src:r}):null});KA.displayName=GA;var QA="AvatarFallback",ZA=g.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=WA(QA,n),[o,a]=g.useState(r===void 0);return g.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?y.jsx(ye.span,{...s,ref:e}):null});ZA.displayName=QA;function HE(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function fF(t,{referrerPolicy:e,crossOrigin:n}){const r=mF(),s=g.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,a]=g.useState(()=>HE(i,t));return Sn(()=>{a(HE(i,t))},[i,t]),Sn(()=>{const l=h=>()=>{a(h)};if(!i)return;const u=l("loaded"),d=l("error");return i.addEventListener("load",u),i.addEventListener("error",d),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,n,e]),o}function pF(){return()=>{}}function mF(){return g.useSyncExternalStore(pF,()=>!0,()=>!1)}var YA=qA,XA=KA,JA=ZA;const Af=g.forwardRef(({className:t,...e},n)=>y.jsx(YA,{ref:n,className:xe(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));Af.displayName=YA.displayName;const Rf=g.forwardRef(({className:t,...e},n)=>y.jsx(XA,{ref:n,className:xe("aspect-square h-full w-full",t),...e}));Rf.displayName=XA.displayName;const Pf=g.forwardRef(({className:t,...e},n)=>y.jsx(JA,{ref:n,className:xe("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Pf.displayName=JA.displayName;function gF({status:t,size:e="sm",showDot:n=!0}){const r={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1.5"},i={Online:{bg:"bg-emerald-500/10",text:"text-emerald-400",dot:"bg-emerald-400"},Offline:{bg:"bg-gray-500/10",text:"text-gray-400",dot:"bg-gray-400"},"In Call":{bg:"bg-blue-500/10",text:"text-blue-400",dot:"bg-blue-400"}}[t];return y.jsxs("span",{className:`inline-flex items-center gap-1.5 rounded-full font-mono font-medium transition-all duration-200 ${i.bg} ${i.text} ${r[e]}`,"data-testid":`badge-status-${t.toLowerCase().replace(" ","-")}`,children:[n&&y.jsx("span",{className:`w-2 h-2 rounded-full transition-all duration-200 ${i.dot} ${t==="Online"||t==="In Call"?"animate-pulse":""}`,"data-testid":"status-dot"}),t]})}function yF({member:t,isCurrentUser:e=!1}){const n=t.name.split(" ").map(s=>s[0]).join("").toUpperCase().slice(0,2),r={Online:{color:"bg-emerald-500",border:"border-emerald-500/20"},Offline:{color:"bg-slate-400",border:"border-slate-400/20"},"In Call":{color:"bg-blue-500",border:"border-blue-500/20"}}[t.status];return y.jsx(Qc,{className:`relative overflow-hidden bg-card/50 backdrop-blur-sm border border-border hover:border-border/60 transition-all duration-200 ${e?"ring-1 ring-primary/40":""}`,"data-testid":`card-team-member-${t.uid}`,children:y.jsxs("div",{className:"p-5",children:[y.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[y.jsxs("div",{className:"relative flex-shrink-0",children:[y.jsxs(Af,{className:"w-14 h-14 border border-border","data-testid":`avatar-${t.uid}`,children:[y.jsx(Rf,{src:t.photoURL||void 0,alt:t.name,className:"object-cover"}),y.jsx(Pf,{className:"bg-primary/10 text-primary font-medium text-sm",children:n})]}),y.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 w-4 h-4 rounded-full border-2 border-card ${r.color}`}),t.status==="In Call"&&y.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 rounded-full bg-blue-600 text-white flex items-center justify-center border border-card shadow-sm animate-pulse",title:"Em chamada",role:"img","aria-label":"Usurio em chamada","data-testid":`in-call-badge-${t.uid}`,children:y.jsx(pD,{className:"w-3 h-3"})})]}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("h3",{className:"text-base font-semibold text-foreground truncate","data-testid":`text-name-${t.uid}`,children:t.name}),e&&y.jsxs("div",{className:"flex items-center gap-1 px-2 py-0.5 bg-primary/10 text-primary rounded-md",children:[y.jsx(gD,{className:"w-3 h-3"}),y.jsx("span",{className:"text-xs font-medium",children:"YOU"})]})]}),y.jsx(gF,{status:t.status,size:"sm"})]})]}),y.jsxs("div",{className:"flex items-center gap-2.5 px-3 py-2.5 bg-muted/50 rounded-lg border border-border/50 mb-3",children:[y.jsx(fD,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"}),y.jsx("p",{className:"text-sm text-muted-foreground truncate","data-testid":`text-email-${t.uid}`,children:t.email})]}),t.customStatus&&y.jsx("div",{className:"px-3 py-2.5 bg-muted/30 rounded-lg border border-border/50",children:y.jsx("p",{className:"text-sm text-foreground/80 leading-relaxed","data-testid":`text-custom-status-${t.uid}`,children:t.customStatus})})]})})}function vF(){return y.jsxs(Qc,{className:"bg-card/50 backdrop-blur-sm border border-border p-5",children:[y.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[y.jsxs("div",{className:"relative flex-shrink-0",children:[y.jsx("div",{className:"w-14 h-14 rounded-full bg-muted animate-pulse border border-border"}),y.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-4 h-4 rounded-full bg-muted/60 animate-pulse border-2 border-card"})]}),y.jsxs("div",{className:"flex-1 space-y-2",children:[y.jsx("div",{className:"h-5 bg-muted rounded animate-pulse w-2/3"}),y.jsx("div",{className:"h-5 w-20 bg-muted rounded animate-pulse"})]})]}),y.jsx("div",{className:"h-10 bg-muted/50 rounded-lg border border-border/50 animate-pulse mb-3"})]})}const a_=g.forwardRef(({className:t,type:e,...n},r)=>y.jsx("input",{type:e,className:xe("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));a_.displayName="Input";var _F=g.createContext(void 0);function l_(t){const e=g.useContext(_F);return t||e||"ltr"}function wF(t,[e,n]){return Math.min(n,Math.max(e,t))}function EF(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var c_="ScrollArea",[eR,zz]=Tr(c_),[TF,In]=eR(c_),tR=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=t,[a,l]=g.useState(null),[u,d]=g.useState(null),[h,p]=g.useState(null),[v,x]=g.useState(null),[_,S]=g.useState(null),[w,E]=g.useState(0),[C,k]=g.useState(0),[O,M]=g.useState(!1),[I,T]=g.useState(!1),b=ke(e,N=>l(N)),R=l_(s);return y.jsx(TF,{scope:n,type:r,dir:R,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:d,content:h,onContentChange:p,scrollbarX:v,onScrollbarXChange:x,scrollbarXEnabled:O,onScrollbarXEnabledChange:M,scrollbarY:_,onScrollbarYChange:S,scrollbarYEnabled:I,onScrollbarYEnabledChange:T,onCornerWidthChange:E,onCornerHeightChange:k,children:y.jsx(ye.div,{dir:R,...o,ref:b,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":C+"px",...t.style}})})});tR.displayName=c_;var nR="ScrollAreaViewport",rR=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=t,o=In(nR,n),a=g.useRef(null),l=ke(e,a,o.onViewportChange);return y.jsxs(y.Fragment,{children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),y.jsx(ye.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:y.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});rR.displayName=nR;var Ir="ScrollAreaScrollbar",u_=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=In(Ir,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=t.orientation==="horizontal";return g.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?y.jsx(xF,{...r,ref:e,forceMount:n}):s.type==="scroll"?y.jsx(SF,{...r,ref:e,forceMount:n}):s.type==="auto"?y.jsx(sR,{...r,ref:e,forceMount:n}):s.type==="always"?y.jsx(d_,{...r,ref:e}):null});u_.displayName=Ir;var xF=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=In(Ir,t.__scopeScrollArea),[i,o]=g.useState(!1);return g.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),o(!0)},d=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),y.jsx(Xt,{present:n||i,children:y.jsx(sR,{"data-state":i?"visible":"hidden",...r,ref:e})})}),SF=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=In(Ir,t.__scopeScrollArea),i=t.orientation==="horizontal",o=Nf(()=>l("SCROLL_END"),100),[a,l]=EF("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,s.scrollHideDelay,l]),g.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const p=()=>{const v=u[d];h!==v&&(l("SCROLL"),o()),h=v};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[s.viewport,i,l,o]),y.jsx(Xt,{present:n||a!=="hidden",children:y.jsx(d_,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:J(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:J(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),sR=g.forwardRef((t,e)=>{const n=In(Ir,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,o]=g.useState(!1),a=t.orientation==="horizontal",l=Nf(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?u:d)}},10);return ya(n.viewport,l),ya(n.content,l),y.jsx(Xt,{present:r||i,children:y.jsx(d_,{"data-state":i?"visible":"hidden",...s,ref:e})})}),d_=g.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=In(Ir,t.__scopeScrollArea),i=g.useRef(null),o=g.useRef(0),[a,l]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=cR(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function h(p,v){return PF(p,o.current,a,v)}return n==="horizontal"?y.jsx(CF,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollLeft,v=WE(p,a,s.dir);i.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,s.dir))}}):n==="vertical"?y.jsx(IF,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollTop,v=WE(p,a);i.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),CF=g.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=In(Ir,t.__scopeScrollArea),[o,a]=g.useState(),l=g.useRef(null),u=ke(e,l,i.onScrollbarXChange);return g.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),y.jsx(oR,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":kf(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const p=i.viewport.scrollLeft+d.deltaX;t.onWheelScroll(p),dR(p,h)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:wh(o.paddingLeft),paddingEnd:wh(o.paddingRight)}})}})}),IF=g.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=In(Ir,t.__scopeScrollArea),[o,a]=g.useState(),l=g.useRef(null),u=ke(e,l,i.onScrollbarYChange);return g.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),y.jsx(oR,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":kf(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const p=i.viewport.scrollTop+d.deltaY;t.onWheelScroll(p),dR(p,h)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:wh(o.paddingTop),paddingEnd:wh(o.paddingBottom)}})}})}),[bF,iR]=eR(Ir),oR=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:h,...p}=t,v=In(Ir,n),[x,_]=g.useState(null),S=ke(e,b=>_(b)),w=g.useRef(null),E=g.useRef(""),C=v.viewport,k=r.content-r.viewport,O=Be(d),M=Be(l),I=Nf(h,10);function T(b){if(w.current){const R=b.clientX-w.current.left,N=b.clientY-w.current.top;u({x:R,y:N})}}return g.useEffect(()=>{const b=R=>{const N=R.target;(x==null?void 0:x.contains(N))&&O(R,k)};return document.addEventListener("wheel",b,{passive:!1}),()=>document.removeEventListener("wheel",b,{passive:!1})},[C,x,k,O]),g.useEffect(M,[r,M]),ya(x,I),ya(v.content,I),y.jsx(bF,{scope:n,scrollbar:x,hasThumb:s,onThumbChange:Be(i),onThumbPointerUp:Be(o),onThumbPositionChange:M,onThumbPointerDown:Be(a),children:y.jsx(ye.div,{...p,ref:S,style:{position:"absolute",...p.style},onPointerDown:J(t.onPointerDown,b=>{b.button===0&&(b.target.setPointerCapture(b.pointerId),w.current=x.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),T(b))}),onPointerMove:J(t.onPointerMove,T),onPointerUp:J(t.onPointerUp,b=>{const R=b.target;R.hasPointerCapture(b.pointerId)&&R.releasePointerCapture(b.pointerId),document.body.style.webkitUserSelect=E.current,v.viewport&&(v.viewport.style.scrollBehavior=""),w.current=null})})})}),_h="ScrollAreaThumb",aR=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=iR(_h,t.__scopeScrollArea);return y.jsx(Xt,{present:n||s.hasThumb,children:y.jsx(AF,{ref:e,...r})})}),AF=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=In(_h,n),o=iR(_h,n),{onThumbPositionChange:a}=o,l=ke(e,h=>o.onThumbChange(h)),u=g.useRef(void 0),d=Nf(()=>{u.current&&(u.current(),u.current=void 0)},100);return g.useEffect(()=>{const h=i.viewport;if(h){const p=()=>{if(d(),!u.current){const v=kF(h,a);u.current=v,a()}};return a(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[i.viewport,d,a]),y.jsx(ye.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:J(t.onPointerDownCapture,h=>{const v=h.target.getBoundingClientRect(),x=h.clientX-v.left,_=h.clientY-v.top;o.onThumbPointerDown({x,y:_})}),onPointerUp:J(t.onPointerUp,o.onThumbPointerUp)})});aR.displayName=_h;var h_="ScrollAreaCorner",lR=g.forwardRef((t,e)=>{const n=In(h_,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?y.jsx(RF,{...t,ref:e}):null});lR.displayName=h_;var RF=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=In(h_,n),[i,o]=g.useState(0),[a,l]=g.useState(0),u=!!(i&&a);return ya(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),l(d)}),ya(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?y.jsx(ye.div,{...r,ref:e,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function wh(t){return t?parseInt(t,10):0}function cR(t,e){const n=t/e;return isNaN(n)?0:n}function kf(t){const e=cR(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function PF(t,e,n,r="ltr"){const s=kf(n),i=s/2,o=e||i,a=s-o,l=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return uR([l,u],h)(t)}function WE(t,e,n="ltr"){const r=kf(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,a=i-r,l=n==="ltr"?[0,o]:[o*-1,0],u=wF(t,l);return uR([0,o],[0,a])(u)}function uR(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function dR(t,e){return t>0&&t<e}var kF=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Nf(t,e){const n=Be(t),r=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),g.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function ya(t,e){const n=Be(e);Sn(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var hR=tR,NF=rR,OF=lR;const fR=g.forwardRef(({className:t,children:e,...n},r)=>y.jsxs(hR,{ref:r,className:xe("relative overflow-hidden",t),...n,children:[y.jsx(NF,{className:"h-full w-full rounded-[inherit]",children:e}),y.jsx(pR,{}),y.jsx(OF,{})]}));fR.displayName=hR.displayName;const pR=g.forwardRef(({className:t,orientation:e="vertical",...n},r)=>y.jsx(u_,{ref:r,orientation:e,className:xe("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:y.jsx(aR,{className:"relative flex-1 rounded-full bg-border"})}));pR.displayName=u_.displayName;function DF(){const[t,e]=g.useState([]),[n,r]=g.useState(""),[s,i]=g.useState(!1),o=g.useRef(null),{toast:a}=Zh(),l=On.currentUser;g.useEffect(()=>{const h=RA(Mg(vn,"messages"),vj("timestamp","desc"),_j(50)),p=OA(h,v=>{const x=[];v.forEach(_=>{x.push({id:_.id,..._.data()})}),e(x.reverse()),setTimeout(()=>{o.current&&(o.current.scrollTop=o.current.scrollHeight)},100)});return()=>p()},[]);const u=async h=>{if(h.preventDefault(),!(!l||!n.trim())){i(!0);try{await Tj(Mg(vn,"messages"),{uid:l.uid,name:l.displayName||"Unknown",photoURL:l.photoURL||null,message:n.trim(),timestamp:Date.now()}),r("")}catch(p){console.error("Error sending message:",p),a({title:"Erro ao enviar mensagem",description:"Por favor, tente novamente.",variant:"destructive"})}finally{i(!1)}}},d=h=>{const p=new Date(h),v=new Date;return p.toDateString()===v.toDateString()?p.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):p.toLocaleDateString("pt-BR",{day:"2-digit",month:"short"})};return y.jsxs(Qc,{className:"flex flex-col h-[600px]",children:[y.jsxs("div",{className:"flex items-center gap-2 p-4 border-b border-border",children:[y.jsx(sg,{className:"w-5 h-5 text-primary"}),y.jsx("h3",{className:"text-lg font-medium",children:"Team Chat"})]}),y.jsx(fR,{ref:o,className:"flex-1 p-4",children:y.jsx("div",{className:"space-y-4",children:t.length===0?y.jsxs("div",{className:"text-center py-8",children:[y.jsx(sg,{className:"w-12 h-12 mx-auto text-muted-foreground/30 mb-3"}),y.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma mensagem ainda"}),y.jsx("p",{className:"text-xs text-muted-foreground/70",children:"Seja o primeiro a enviar uma mensagem!"})]}):t.map(h=>{const p=h.uid===(l==null?void 0:l.uid),v=h.name.split(" ").map(x=>x[0]).join("").toUpperCase().slice(0,2);return y.jsxs("div",{className:`flex gap-3 ${p?"flex-row-reverse":""}`,children:[y.jsxs(Af,{className:"w-8 h-8 flex-shrink-0",children:[y.jsx(Rf,{src:h.photoURL||void 0,alt:h.name}),y.jsx(Pf,{className:"bg-primary/10 text-primary text-xs",children:v})]}),y.jsxs("div",{className:`flex-1 ${p?"text-right":""}`,children:[y.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[y.jsx("span",{className:`text-xs font-medium ${p?"order-2":""}`,children:p?"Voc":h.name.split(" ")[0]}),y.jsx("span",{className:"text-xs text-muted-foreground",children:d(h.timestamp)})]}),y.jsx("div",{className:`inline-block px-3 py-2 rounded-2xl max-w-[80%] ${p?"bg-primary text-primary-foreground":"bg-muted text-foreground"}`,children:y.jsx("p",{className:"text-sm break-words",children:h.message})})]})]},h.id)})})}),y.jsx("form",{onSubmit:u,className:"p-4 border-t border-border",children:y.jsxs("div",{className:"flex gap-2",children:[y.jsx(a_,{value:n,onChange:h=>r(h.target.value),placeholder:"Digite sua mensagem...",disabled:s,maxLength:500,className:"flex-1"}),y.jsx(Fr,{type:"submit",disabled:s||!n.trim(),size:"icon",children:y.jsx(mD,{className:"w-4 h-4"})})]})})]})}var Xp="focusScope.autoFocusOnMount",Jp="focusScope.autoFocusOnUnmount",qE={bubbles:!1,cancelable:!0},MF="FocusScope",f_=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=g.useState(null),u=Be(s),d=Be(i),h=g.useRef(null),p=ke(e,_=>l(_)),v=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let _=function(C){if(v.paused||!a)return;const k=C.target;a.contains(k)?h.current=k:us(h.current,{select:!0})},S=function(C){if(v.paused||!a)return;const k=C.relatedTarget;k!==null&&(a.contains(k)||us(h.current,{select:!0}))},w=function(C){if(document.activeElement===document.body)for(const O of C)O.removedNodes.length>0&&us(a)};document.addEventListener("focusin",_),document.addEventListener("focusout",S);const E=new MutationObserver(w);return a&&E.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",S),E.disconnect()}}},[r,a,v.paused]),g.useEffect(()=>{if(a){KE.add(v);const _=document.activeElement;if(!a.contains(_)){const w=new CustomEvent(Xp,qE);a.addEventListener(Xp,u),a.dispatchEvent(w),w.defaultPrevented||(LF($F(mR(a)),{select:!0}),document.activeElement===_&&us(a))}return()=>{a.removeEventListener(Xp,u),setTimeout(()=>{const w=new CustomEvent(Jp,qE);a.addEventListener(Jp,d),a.dispatchEvent(w),w.defaultPrevented||us(_??document.body,{select:!0}),a.removeEventListener(Jp,d),KE.remove(v)},0)}}},[a,u,d,v]);const x=g.useCallback(_=>{if(!n&&!r||v.paused)return;const S=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,w=document.activeElement;if(S&&w){const E=_.currentTarget,[C,k]=VF(E);C&&k?!_.shiftKey&&w===k?(_.preventDefault(),n&&us(C,{select:!0})):_.shiftKey&&w===C&&(_.preventDefault(),n&&us(k,{select:!0})):w===E&&_.preventDefault()}},[n,r,v.paused]);return y.jsx(ye.div,{tabIndex:-1,...o,ref:p,onKeyDown:x})});f_.displayName=MF;function LF(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(us(r,{select:e}),document.activeElement!==n)return}function VF(t){const e=mR(t),n=GE(e,t),r=GE(e.reverse(),t);return[n,r]}function mR(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function GE(t,e){for(const n of t)if(!jF(n,{upTo:e}))return n}function jF(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function FF(t){return t instanceof HTMLInputElement&&"select"in t}function us(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&FF(t)&&e&&t.select()}}var KE=UF();function UF(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=QE(t,e),t.unshift(e)},remove(e){var n;t=QE(t,e),(n=t[0])==null||n.resume()}}}function QE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function $F(t){return t.filter(e=>e.tagName!=="A")}var em=0;function gR(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ZE()),document.body.insertAdjacentElement("beforeend",t[1]??ZE()),em++,()=>{em===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),em--}},[])}function ZE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var sr=function(){return sr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},sr.apply(this,arguments)};function yR(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function zF(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var vd="right-scroll-bar-position",_d="width-before-scroll-bar",BF="with-scroll-bars-hidden",HF="--removed-body-scroll-bar-size";function tm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function WF(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var qF=typeof window<"u"?g.useLayoutEffect:g.useEffect,YE=new WeakMap;function GF(t,e){var n=WF(null,function(r){return t.forEach(function(s){return tm(s,r)})});return qF(function(){var r=YE.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||tm(a,null)}),i.forEach(function(a){s.has(a)||tm(a,o)})}YE.set(n,t)},[t]),n}function KF(t){return t}function QF(t,e){e===void 0&&(e=KF);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function ZF(t){t===void 0&&(t={});var e=QF(null);return e.options=sr({async:!0,ssr:!1},t),e}var vR=function(t){var e=t.sideCar,n=yR(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,sr({},n))};vR.isSideCarExport=!0;function YF(t,e){return t.useMedium(e),vR}var _R=ZF(),nm=function(){},Of=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:nm,onWheelCapture:nm,onTouchMoveCapture:nm}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,p=t.sideCar,v=t.noIsolation,x=t.inert,_=t.allowPinchZoom,S=t.as,w=S===void 0?"div":S,E=t.gapMode,C=yR(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=p,O=GF([n,e]),M=sr(sr({},C),s);return g.createElement(g.Fragment,null,d&&g.createElement(k,{sideCar:_R,removeScrollBar:u,shards:h,noIsolation:v,inert:x,setCallbacks:i,allowPinchZoom:!!_,lockRef:n,gapMode:E}),o?g.cloneElement(g.Children.only(a),sr(sr({},M),{ref:O})):g.createElement(w,sr({},M,{className:l,ref:O}),a))});Of.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Of.classNames={fullWidth:_d,zeroRight:vd};var XF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function JF(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=XF();return e&&t.setAttribute("nonce",e),t}function e7(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function t7(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var n7=function(){var t=0,e=null;return{add:function(n){t==0&&(e=JF())&&(e7(e,n),t7(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},r7=function(){var t=n7();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},wR=function(){var t=r7(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},s7={left:0,top:0,right:0,gap:0},rm=function(t){return parseInt(t||"",10)||0},i7=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[rm(n),rm(r),rm(s)]},o7=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return s7;var e=i7(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},a7=wR(),zo="data-scroll-locked",l7=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(BF,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(zo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(_d,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(vd," .").concat(vd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(_d," .").concat(_d,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(zo,`] {
    `).concat(HF,": ").concat(a,`px;
  }
`)},XE=function(){var t=parseInt(document.body.getAttribute(zo)||"0",10);return isFinite(t)?t:0},c7=function(){g.useEffect(function(){return document.body.setAttribute(zo,(XE()+1).toString()),function(){var t=XE()-1;t<=0?document.body.removeAttribute(zo):document.body.setAttribute(zo,t.toString())}},[])},u7=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;c7();var i=g.useMemo(function(){return o7(s)},[s]);return g.createElement(a7,{styles:l7(i,!e,s,n?"":"!important")})},Lg=!1;if(typeof window<"u")try{var zu=Object.defineProperty({},"passive",{get:function(){return Lg=!0,!0}});window.addEventListener("test",zu,zu),window.removeEventListener("test",zu,zu)}catch{Lg=!1}var io=Lg?{passive:!1}:!1,d7=function(t){return t.tagName==="TEXTAREA"},ER=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!d7(t)&&n[e]==="visible")},h7=function(t){return ER(t,"overflowY")},f7=function(t){return ER(t,"overflowX")},JE=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=TR(t,r);if(s){var i=xR(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},p7=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},m7=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},TR=function(t,e){return t==="v"?h7(e):f7(e)},xR=function(t,e){return t==="v"?p7(e):m7(e)},g7=function(t,e){return t==="h"&&e==="rtl"?-1:1},y7=function(t,e,n,r,s){var i=g7(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),u=!1,d=o>0,h=0,p=0;do{var v=xR(t,a),x=v[0],_=v[1],S=v[2],w=_-S-i*x;(x||w)&&TR(t,a)&&(h+=w,p+=x),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(u=!0),u},Bu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},eT=function(t){return[t.deltaX,t.deltaY]},tT=function(t){return t&&"current"in t?t.current:t},v7=function(t,e){return t[0]===e[0]&&t[1]===e[1]},_7=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},w7=0,oo=[];function E7(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(w7++)[0],i=g.useState(wR)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var _=zF([t.lockRef.current],(t.shards||[]).map(tT),!0).filter(Boolean);return _.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),_.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(_,S){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!o.current.allowPinchZoom;var w=Bu(_),E=n.current,C="deltaX"in _?_.deltaX:E[0]-w[0],k="deltaY"in _?_.deltaY:E[1]-w[1],O,M=_.target,I=Math.abs(C)>Math.abs(k)?"h":"v";if("touches"in _&&I==="h"&&M.type==="range")return!1;var T=JE(I,M);if(!T)return!0;if(T?O=I:(O=I==="v"?"h":"v",T=JE(I,M)),!T)return!1;if(!r.current&&"changedTouches"in _&&(C||k)&&(r.current=O),!O)return!0;var b=r.current||O;return y7(b,S,_,b==="h"?C:k,!0)},[]),l=g.useCallback(function(_){var S=_;if(!(!oo.length||oo[oo.length-1]!==i)){var w="deltaY"in S?eT(S):Bu(S),E=e.current.filter(function(O){return O.name===S.type&&(O.target===S.target||S.target===O.shadowParent)&&v7(O.delta,w)})[0];if(E&&E.should){S.cancelable&&S.preventDefault();return}if(!E){var C=(o.current.shards||[]).map(tT).filter(Boolean).filter(function(O){return O.contains(S.target)}),k=C.length>0?a(S,C[0]):!o.current.noIsolation;k&&S.cancelable&&S.preventDefault()}}},[]),u=g.useCallback(function(_,S,w,E){var C={name:_,delta:S,target:w,should:E,shadowParent:T7(w)};e.current.push(C),setTimeout(function(){e.current=e.current.filter(function(k){return k!==C})},1)},[]),d=g.useCallback(function(_){n.current=Bu(_),r.current=void 0},[]),h=g.useCallback(function(_){u(_.type,eT(_),_.target,a(_,t.lockRef.current))},[]),p=g.useCallback(function(_){u(_.type,Bu(_),_.target,a(_,t.lockRef.current))},[]);g.useEffect(function(){return oo.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,io),document.addEventListener("touchmove",l,io),document.addEventListener("touchstart",d,io),function(){oo=oo.filter(function(_){return _!==i}),document.removeEventListener("wheel",l,io),document.removeEventListener("touchmove",l,io),document.removeEventListener("touchstart",d,io)}},[]);var v=t.removeScrollBar,x=t.inert;return g.createElement(g.Fragment,null,x?g.createElement(i,{styles:_7(s)}):null,v?g.createElement(u7,{gapMode:t.gapMode}):null)}function T7(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const x7=YF(_R,E7);var p_=g.forwardRef(function(t,e){return g.createElement(Of,sr({},t,{ref:e,sideCar:x7}))});p_.classNames=Of.classNames;var S7=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ao=new WeakMap,Hu=new WeakMap,Wu={},sm=0,SR=function(t){return t&&(t.host||SR(t.parentNode))},C7=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=SR(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},I7=function(t,e,n,r){var s=C7(e,Array.isArray(t)?t:[t]);Wu[n]||(Wu[n]=new WeakMap);var i=Wu[n],o=[],a=new Set,l=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))d(p);else try{var v=p.getAttribute(r),x=v!==null&&v!=="false",_=(ao.get(p)||0)+1,S=(i.get(p)||0)+1;ao.set(p,_),i.set(p,S),o.push(p),_===1&&x&&Hu.set(p,!0),S===1&&p.setAttribute(n,"true"),x||p.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",p,w)}})};return d(e),a.clear(),sm++,function(){o.forEach(function(h){var p=ao.get(h)-1,v=i.get(h)-1;ao.set(h,p),i.set(h,v),p||(Hu.has(h)||h.removeAttribute(r),Hu.delete(h)),v||h.removeAttribute(n)}),sm--,sm||(ao=new WeakMap,ao=new WeakMap,Hu=new WeakMap,Wu={})}},CR=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=S7(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),I7(r,s,n,"aria-hidden")):function(){return null}},m_="Dialog",[IR,Bz]=Tr(m_),[b7,Gn]=IR(m_),bR=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=g.useRef(null),l=g.useRef(null),[u=!1,d]=Jh({prop:r,defaultProp:s,onChange:i});return y.jsx(b7,{scope:e,triggerRef:a,contentRef:l,contentId:Mo(),titleId:Mo(),descriptionId:Mo(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};bR.displayName=m_;var AR="DialogTrigger",A7=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Gn(AR,n),i=ke(e,s.triggerRef);return y.jsx(ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":v_(s.open),...r,ref:i,onClick:J(t.onClick,s.onOpenToggle)})});A7.displayName=AR;var g_="DialogPortal",[R7,RR]=IR(g_,{forceMount:void 0}),PR=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Gn(g_,e);return y.jsx(R7,{scope:e,forceMount:n,children:g.Children.map(r,o=>y.jsx(Xt,{present:n||i.open,children:y.jsx(Xh,{asChild:!0,container:s,children:o})}))})};PR.displayName=g_;var Eh="DialogOverlay",kR=g.forwardRef((t,e)=>{const n=RR(Eh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Gn(Eh,t.__scopeDialog);return i.modal?y.jsx(Xt,{present:r||i.open,children:y.jsx(k7,{...s,ref:e})}):null});kR.displayName=Eh;var P7=aa("DialogOverlay.RemoveScroll"),k7=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Gn(Eh,n);return y.jsx(p_,{as:P7,allowPinchZoom:!0,shards:[s.contentRef],children:y.jsx(ye.div,{"data-state":v_(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),$i="DialogContent",NR=g.forwardRef((t,e)=>{const n=RR($i,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Gn($i,t.__scopeDialog);return y.jsx(Xt,{present:r||i.open,children:i.modal?y.jsx(N7,{...s,ref:e}):y.jsx(O7,{...s,ref:e})})});NR.displayName=$i;var N7=g.forwardRef((t,e)=>{const n=Gn($i,t.__scopeDialog),r=g.useRef(null),s=ke(e,n.contentRef,r);return g.useEffect(()=>{const i=r.current;if(i)return CR(i)},[]),y.jsx(OR,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:J(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:J(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:J(t.onFocusOutside,i=>i.preventDefault())})}),O7=g.forwardRef((t,e)=>{const n=Gn($i,t.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return y.jsx(OR,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),OR=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Gn($i,n),l=g.useRef(null),u=ke(e,l);return gR(),y.jsxs(y.Fragment,{children:[y.jsx(f_,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:y.jsx(Vc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":v_(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),y.jsxs(y.Fragment,{children:[y.jsx(D7,{titleId:a.titleId}),y.jsx(L7,{contentRef:l,descriptionId:a.descriptionId})]})]})}),y_="DialogTitle",DR=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Gn(y_,n);return y.jsx(ye.h2,{id:s.titleId,...r,ref:e})});DR.displayName=y_;var MR="DialogDescription",LR=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Gn(MR,n);return y.jsx(ye.p,{id:s.descriptionId,...r,ref:e})});LR.displayName=MR;var VR="DialogClose",jR=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Gn(VR,n);return y.jsx(ye.button,{type:"button",...r,ref:e,onClick:J(t.onClick,()=>s.onOpenChange(!1))})});jR.displayName=VR;function v_(t){return t?"open":"closed"}var FR="DialogTitleWarning",[Hz,UR]=yO(FR,{contentName:$i,titleName:y_,docsSlug:"dialog"}),D7=({titleId:t})=>{const e=UR(FR),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},M7="DialogDescriptionWarning",L7=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${UR(M7).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},V7=bR,j7=PR,$R=kR,zR=NR,BR=DR,HR=LR,F7=jR;const U7=V7,$7=j7,WR=g.forwardRef(({className:t,...e},n)=>y.jsx($R,{ref:n,className:xe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));WR.displayName=$R.displayName;const qR=g.forwardRef(({className:t,children:e,...n},r)=>y.jsxs($7,{children:[y.jsx(WR,{}),y.jsxs(zR,{ref:r,className:xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,y.jsxs(F7,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[y.jsx(TC,{className:"h-4 w-4"}),y.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));qR.displayName=zR.displayName;const GR=({className:t,...e})=>y.jsx("div",{className:xe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});GR.displayName="DialogHeader";const KR=({className:t,...e})=>y.jsx("div",{className:xe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});KR.displayName="DialogFooter";const QR=g.forwardRef(({className:t,...e},n)=>y.jsx(BR,{ref:n,className:xe("text-lg font-semibold leading-none tracking-tight",t),...e}));QR.displayName=BR.displayName;const ZR=g.forwardRef(({className:t,...e},n)=>y.jsx(HR,{ref:n,className:xe("text-sm text-muted-foreground",t),...e}));ZR.displayName=HR.displayName;var z7="Label",YR=g.forwardRef((t,e)=>y.jsx(ye.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));YR.displayName=z7;var XR=YR;const B7=Qy("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Vg=g.forwardRef(({className:t,...e},n)=>y.jsx(XR,{ref:n,className:xe(B7(),t),...e}));Vg.displayName=XR.displayName;var Ce;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ce||(Ce={}));var jg;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(jg||(jg={}));const Q=Ce.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Dr=t=>{switch(typeof t){case"undefined":return Q.undefined;case"string":return Q.string;case"number":return isNaN(t)?Q.nan:Q.number;case"boolean":return Q.boolean;case"function":return Q.function;case"bigint":return Q.bigint;case"symbol":return Q.symbol;case"object":return Array.isArray(t)?Q.array:t===null?Q.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Q.promise:typeof Map<"u"&&t instanceof Map?Q.map:typeof Set<"u"&&t instanceof Set?Q.set:typeof Date<"u"&&t instanceof Date?Q.date:Q.object;default:return Q.unknown}},B=Ce.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),H7=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class an extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return s(this),r}static assert(e){if(!(e instanceof an))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ce.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}an.create=t=>new an(t);const va=(t,e)=>{let n;switch(t.code){case B.invalid_type:t.received===Q.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case B.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ce.jsonStringifyReplacer)}`;break;case B.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ce.joinValues(t.keys,", ")}`;break;case B.invalid_union:n="Invalid input";break;case B.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ce.joinValues(t.options)}`;break;case B.invalid_enum_value:n=`Invalid enum value. Expected ${Ce.joinValues(t.options)}, received '${t.received}'`;break;case B.invalid_arguments:n="Invalid function arguments";break;case B.invalid_return_type:n="Invalid function return type";break;case B.invalid_date:n="Invalid date";break;case B.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ce.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case B.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case B.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case B.custom:n="Invalid input";break;case B.invalid_intersection_types:n="Intersection results could not be merged";break;case B.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case B.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ce.assertNever(t)}return{message:n}};let JR=va;function W7(t){JR=t}function Th(){return JR}const xh=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}},q7=[];function G(t,e){const n=Th(),r=xh({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===va?void 0:va].filter(s=>!!s)});t.common.issues.push(r)}class Ot{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return oe;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return Ot.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return oe;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const oe=Object.freeze({status:"aborted"}),bo=t=>({status:"dirty",value:t}),zt=t=>({status:"valid",value:t}),Fg=t=>t.status==="aborted",Ug=t=>t.status==="dirty",zi=t=>t.status==="valid",fc=t=>typeof Promise<"u"&&t instanceof Promise;function Sh(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function eP(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var ee;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ee||(ee={}));var yl,vl;class wr{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const nT=(t,e)=>{if(zi(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new an(t.common.issues);return this._error=n,this._error}}};function de(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{var l,u;const{message:d}=t;return o.code==="invalid_enum_value"?{message:d??a.defaultError}:typeof a.data>"u"?{message:(l=d??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(u=d??n)!==null&&u!==void 0?u:a.defaultError}},description:s}}class me{get description(){return this._def.description}_getType(e){return Dr(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Dr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ot,ctx:{common:e.parent.common,data:e.data,parsedType:Dr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(fc(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Dr(e)},i=this._parseSync({data:e,path:s.path,parent:s});return nT(s,i)}"~validate"(e){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Dr(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:s});return zi(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((r=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(i=>zi(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Dr(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(fc(s)?s:Promise.resolve(s));return nT(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:B.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new qn({schema:this,typeName:ie.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return mr.create(this,this._def)}nullable(){return Js.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return $n.create(this)}promise(){return wa.create(this,this._def)}or(e){return yc.create([this,e],this._def)}and(e){return vc.create(this,e,this._def)}transform(e){return new qn({...de(this._def),schema:this,typeName:ie.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new xc({...de(this._def),innerType:this,defaultValue:n,typeName:ie.ZodDefault})}brand(){return new __({typeName:ie.ZodBranded,type:this,...de(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Sc({...de(this._def),innerType:this,catchValue:n,typeName:ie.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Zc.create(this,e)}readonly(){return Cc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const G7=/^c[^\s-]{8,}$/i,K7=/^[0-9a-z]+$/,Q7=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Z7=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Y7=/^[a-z0-9_-]{21}$/i,X7=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,J7=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,eU=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,tU="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let im;const nU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,rU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,sU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,iU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,oU=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,aU=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,tP="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",lU=new RegExp(`^${tP}$`);function nP(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function cU(t){return new RegExp(`^${nP(t)}$`)}function rP(t){let e=`${tP}T${nP(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function uU(t,e){return!!((e==="v4"||!e)&&nU.test(t)||(e==="v6"||!e)&&sU.test(t))}function dU(t,e){if(!X7.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function hU(t,e){return!!((e==="v4"||!e)&&rU.test(t)||(e==="v6"||!e)&&iU.test(t))}class Vn extends me{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Q.string){const i=this._getOrReturnCtx(e);return G(i,{code:B.invalid_type,expected:Q.string,received:i.parsedType}),oe}const r=new Ot;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),G(s,{code:B.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),G(s,{code:B.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?G(s,{code:B.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&G(s,{code:B.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")eU.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"email",code:B.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")im||(im=new RegExp(tU,"u")),im.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"emoji",code:B.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Z7.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"uuid",code:B.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")Y7.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"nanoid",code:B.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")G7.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"cuid",code:B.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")K7.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"cuid2",code:B.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")Q7.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"ulid",code:B.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),G(s,{validation:"url",code:B.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"regex",code:B.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),G(s,{code:B.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),G(s,{code:B.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),G(s,{code:B.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?rP(i).test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{code:B.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?lU.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{code:B.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?cU(i).test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{code:B.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?J7.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"duration",code:B.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?uU(e.data,i.version)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"ip",code:B.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?dU(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"jwt",code:B.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?hU(e.data,i.version)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"cidr",code:B.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?oU.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"base64",code:B.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?aU.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"base64url",code:B.invalid_string,message:i.message}),r.dirty()):Ce.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:B.invalid_string,...ee.errToObj(r)})}_addCheck(e){return new Vn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ee.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ee.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ee.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ee.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ee.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ee.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ee.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ee.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ee.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ee.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ee.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ee.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ee.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...ee.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ee.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ee.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ee.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ee.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ee.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ee.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ee.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ee.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ee.errToObj(n)})}nonempty(e){return this.min(1,ee.errToObj(e))}trim(){return new Vn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Vn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Vn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Vn.create=t=>{var e;return new Vn({checks:[],typeName:ie.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...de(t)})};function fU(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Zs extends me{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Q.number){const i=this._getOrReturnCtx(e);return G(i,{code:B.invalid_type,expected:Q.number,received:i.parsedType}),oe}let r;const s=new Ot;for(const i of this._def.checks)i.kind==="int"?Ce.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),G(r,{code:B.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),G(r,{code:B.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),G(r,{code:B.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?fU(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),G(r,{code:B.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),G(r,{code:B.not_finite,message:i.message}),s.dirty()):Ce.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ee.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ee.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ee.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ee.toString(n))}setLimit(e,n,r,s){return new Zs({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ee.toString(s)}]})}_addCheck(e){return new Zs({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ee.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ee.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ee.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ee.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ee.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ee.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ee.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ee.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ee.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ce.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Zs.create=t=>new Zs({checks:[],typeName:ie.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...de(t)});class Ys extends me{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Q.bigint)return this._getInvalidInput(e);let r;const s=new Ot;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),G(r,{code:B.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),G(r,{code:B.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),G(r,{code:B.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ce.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return G(n,{code:B.invalid_type,expected:Q.bigint,received:n.parsedType}),oe}gte(e,n){return this.setLimit("min",e,!0,ee.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ee.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ee.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ee.toString(n))}setLimit(e,n,r,s){return new Ys({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ee.toString(s)}]})}_addCheck(e){return new Ys({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ee.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ee.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ee.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ee.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ee.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ys.create=t=>{var e;return new Ys({checks:[],typeName:ie.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...de(t)})};class pc extends me{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Q.boolean){const r=this._getOrReturnCtx(e);return G(r,{code:B.invalid_type,expected:Q.boolean,received:r.parsedType}),oe}return zt(e.data)}}pc.create=t=>new pc({typeName:ie.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...de(t)});class Bi extends me{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Q.date){const i=this._getOrReturnCtx(e);return G(i,{code:B.invalid_type,expected:Q.date,received:i.parsedType}),oe}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return G(i,{code:B.invalid_date}),oe}const r=new Ot;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),G(s,{code:B.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),G(s,{code:B.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Ce.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Bi({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ee.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ee.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Bi.create=t=>new Bi({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ie.ZodDate,...de(t)});class Ch extends me{_parse(e){if(this._getType(e)!==Q.symbol){const r=this._getOrReturnCtx(e);return G(r,{code:B.invalid_type,expected:Q.symbol,received:r.parsedType}),oe}return zt(e.data)}}Ch.create=t=>new Ch({typeName:ie.ZodSymbol,...de(t)});class mc extends me{_parse(e){if(this._getType(e)!==Q.undefined){const r=this._getOrReturnCtx(e);return G(r,{code:B.invalid_type,expected:Q.undefined,received:r.parsedType}),oe}return zt(e.data)}}mc.create=t=>new mc({typeName:ie.ZodUndefined,...de(t)});class gc extends me{_parse(e){if(this._getType(e)!==Q.null){const r=this._getOrReturnCtx(e);return G(r,{code:B.invalid_type,expected:Q.null,received:r.parsedType}),oe}return zt(e.data)}}gc.create=t=>new gc({typeName:ie.ZodNull,...de(t)});class _a extends me{constructor(){super(...arguments),this._any=!0}_parse(e){return zt(e.data)}}_a.create=t=>new _a({typeName:ie.ZodAny,...de(t)});class Ri extends me{constructor(){super(...arguments),this._unknown=!0}_parse(e){return zt(e.data)}}Ri.create=t=>new Ri({typeName:ie.ZodUnknown,...de(t)});class Yr extends me{_parse(e){const n=this._getOrReturnCtx(e);return G(n,{code:B.invalid_type,expected:Q.never,received:n.parsedType}),oe}}Yr.create=t=>new Yr({typeName:ie.ZodNever,...de(t)});class Ih extends me{_parse(e){if(this._getType(e)!==Q.undefined){const r=this._getOrReturnCtx(e);return G(r,{code:B.invalid_type,expected:Q.void,received:r.parsedType}),oe}return zt(e.data)}}Ih.create=t=>new Ih({typeName:ie.ZodVoid,...de(t)});class $n extends me{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==Q.array)return G(n,{code:B.invalid_type,expected:Q.array,received:n.parsedType}),oe;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(G(n,{code:o?B.too_big:B.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(G(n,{code:B.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(G(n,{code:B.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new wr(n,o,n.path,a)))).then(o=>Ot.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new wr(n,o,n.path,a)));return Ot.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new $n({...this._def,minLength:{value:e,message:ee.toString(n)}})}max(e,n){return new $n({...this._def,maxLength:{value:e,message:ee.toString(n)}})}length(e,n){return new $n({...this._def,exactLength:{value:e,message:ee.toString(n)}})}nonempty(e){return this.min(1,e)}}$n.create=(t,e)=>new $n({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ie.ZodArray,...de(e)});function po(t){if(t instanceof Ue){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=mr.create(po(r))}return new Ue({...t._def,shape:()=>e})}else return t instanceof $n?new $n({...t._def,type:po(t.element)}):t instanceof mr?mr.create(po(t.unwrap())):t instanceof Js?Js.create(po(t.unwrap())):t instanceof Er?Er.create(t.items.map(e=>po(e))):t}class Ue extends me{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ce.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==Q.object){const u=this._getOrReturnCtx(e);return G(u,{code:B.invalid_type,expected:Q.object,received:u.parsedType}),oe}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Yr&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||a.push(u);const l=[];for(const u of o){const d=i[u],h=s.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new wr(s,h,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Yr){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")a.length>0&&(G(s,{code:B.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of a){const h=s.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new wr(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const h=await d.key,p=await d.value;u.push({key:h,value:p,alwaysSet:d.alwaysSet})}return u}).then(u=>Ot.mergeObjectSync(r,u)):Ot.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return ee.errToObj,new Ue({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=ee.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Ue({...this._def,unknownKeys:"strip"})}passthrough(){return new Ue({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ue({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ue({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ie.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ue({...this._def,catchall:e})}pick(e){const n={};return Ce.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Ue({...this._def,shape:()=>n})}omit(e){const n={};return Ce.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Ue({...this._def,shape:()=>n})}deepPartial(){return po(this)}partial(e){const n={};return Ce.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new Ue({...this._def,shape:()=>n})}required(e){const n={};return Ce.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof mr;)i=i._def.innerType;n[r]=i}}),new Ue({...this._def,shape:()=>n})}keyof(){return sP(Ce.objectKeys(this.shape))}}Ue.create=(t,e)=>new Ue({shape:()=>t,unknownKeys:"strip",catchall:Yr.create(),typeName:ie.ZodObject,...de(e)});Ue.strictCreate=(t,e)=>new Ue({shape:()=>t,unknownKeys:"strict",catchall:Yr.create(),typeName:ie.ZodObject,...de(e)});Ue.lazycreate=(t,e)=>new Ue({shape:t,unknownKeys:"strip",catchall:Yr.create(),typeName:ie.ZodObject,...de(e)});class yc extends me{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new an(a.ctx.common.issues));return G(n,{code:B.invalid_union,unionErrors:o}),oe}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new an(l));return G(n,{code:B.invalid_union,unionErrors:a}),oe}}get options(){return this._def.options}}yc.create=(t,e)=>new yc({options:t,typeName:ie.ZodUnion,...de(e)});const kr=t=>t instanceof wc?kr(t.schema):t instanceof qn?kr(t.innerType()):t instanceof Ec?[t.value]:t instanceof Xs?t.options:t instanceof Tc?Ce.objectValues(t.enum):t instanceof xc?kr(t._def.innerType):t instanceof mc?[void 0]:t instanceof gc?[null]:t instanceof mr?[void 0,...kr(t.unwrap())]:t instanceof Js?[null,...kr(t.unwrap())]:t instanceof __||t instanceof Cc?kr(t.unwrap()):t instanceof Sc?kr(t._def.innerType):[];class Df extends me{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Q.object)return G(n,{code:B.invalid_type,expected:Q.object,received:n.parsedType}),oe;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(G(n,{code:B.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),oe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=kr(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new Df({typeName:ie.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...de(r)})}}function $g(t,e){const n=Dr(t),r=Dr(e);if(t===e)return{valid:!0,data:t};if(n===Q.object&&r===Q.object){const s=Ce.objectKeys(e),i=Ce.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=$g(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===Q.array&&r===Q.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=$g(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===Q.date&&r===Q.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class vc extends me{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(Fg(i)||Fg(o))return oe;const a=$g(i.value,o.value);return a.valid?((Ug(i)||Ug(o))&&n.dirty(),{status:n.value,value:a.data}):(G(r,{code:B.invalid_intersection_types}),oe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}vc.create=(t,e,n)=>new vc({left:t,right:e,typeName:ie.ZodIntersection,...de(n)});class Er extends me{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Q.array)return G(r,{code:B.invalid_type,expected:Q.array,received:r.parsedType}),oe;if(r.data.length<this._def.items.length)return G(r,{code:B.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),oe;!this._def.rest&&r.data.length>this._def.items.length&&(G(r,{code:B.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new wr(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>Ot.mergeArray(n,o)):Ot.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Er({...this._def,rest:e})}}Er.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Er({items:t,typeName:ie.ZodTuple,rest:null,...de(e)})};class _c extends me{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Q.object)return G(r,{code:B.invalid_type,expected:Q.object,received:r.parsedType}),oe;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new wr(r,a,r.path,a)),value:o._parse(new wr(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Ot.mergeObjectAsync(n,s):Ot.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof me?new _c({keyType:e,valueType:n,typeName:ie.ZodRecord,...de(r)}):new _c({keyType:Vn.create(),valueType:e,typeName:ie.ZodRecord,...de(n)})}}class bh extends me{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Q.map)return G(r,{code:B.invalid_type,expected:Q.map,received:r.parsedType}),oe;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],u)=>({key:s._parse(new wr(r,a,r.path,[u,"key"])),value:i._parse(new wr(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return oe;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return oe;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}}}}bh.create=(t,e,n)=>new bh({valueType:e,keyType:t,typeName:ie.ZodMap,...de(n)});class Hi extends me{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Q.set)return G(r,{code:B.invalid_type,expected:Q.set,received:r.parsedType}),oe;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(G(r,{code:B.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(G(r,{code:B.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const u=new Set;for(const d of l){if(d.status==="aborted")return oe;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>i._parse(new wr(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new Hi({...this._def,minSize:{value:e,message:ee.toString(n)}})}max(e,n){return new Hi({...this._def,maxSize:{value:e,message:ee.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Hi.create=(t,e)=>new Hi({valueType:t,minSize:null,maxSize:null,typeName:ie.ZodSet,...de(e)});class Bo extends me{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Q.function)return G(n,{code:B.invalid_type,expected:Q.function,received:n.parsedType}),oe;function r(a,l){return xh({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Th(),va].filter(u=>!!u),issueData:{code:B.invalid_arguments,argumentsError:l}})}function s(a,l){return xh({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Th(),va].filter(u=>!!u),issueData:{code:B.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof wa){const a=this;return zt(async function(...l){const u=new an([]),d=await a._def.args.parseAsync(l,i).catch(v=>{throw u.addIssue(r(l,v)),u}),h=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(h,i).catch(v=>{throw u.addIssue(s(h,v)),u})})}else{const a=this;return zt(function(...l){const u=a._def.args.safeParse(l,i);if(!u.success)throw new an([r(l,u.error)]);const d=Reflect.apply(o,this,u.data),h=a._def.returns.safeParse(d,i);if(!h.success)throw new an([s(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Bo({...this._def,args:Er.create(e).rest(Ri.create())})}returns(e){return new Bo({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Bo({args:e||Er.create([]).rest(Ri.create()),returns:n||Ri.create(),typeName:ie.ZodFunction,...de(r)})}}class wc extends me{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}wc.create=(t,e)=>new wc({getter:t,typeName:ie.ZodLazy,...de(e)});class Ec extends me{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return G(n,{received:n.data,code:B.invalid_literal,expected:this._def.value}),oe}return{status:"valid",value:e.data}}get value(){return this._def.value}}Ec.create=(t,e)=>new Ec({value:t,typeName:ie.ZodLiteral,...de(e)});function sP(t,e){return new Xs({values:t,typeName:ie.ZodEnum,...de(e)})}class Xs extends me{constructor(){super(...arguments),yl.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return G(n,{expected:Ce.joinValues(r),received:n.parsedType,code:B.invalid_type}),oe}if(Sh(this,yl)||eP(this,yl,new Set(this._def.values)),!Sh(this,yl).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return G(n,{received:n.data,code:B.invalid_enum_value,options:r}),oe}return zt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Xs.create(e,{...this._def,...n})}exclude(e,n=this._def){return Xs.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}yl=new WeakMap;Xs.create=sP;class Tc extends me{constructor(){super(...arguments),vl.set(this,void 0)}_parse(e){const n=Ce.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Q.string&&r.parsedType!==Q.number){const s=Ce.objectValues(n);return G(r,{expected:Ce.joinValues(s),received:r.parsedType,code:B.invalid_type}),oe}if(Sh(this,vl)||eP(this,vl,new Set(Ce.getValidEnumValues(this._def.values))),!Sh(this,vl).has(e.data)){const s=Ce.objectValues(n);return G(r,{received:r.data,code:B.invalid_enum_value,options:s}),oe}return zt(e.data)}get enum(){return this._def.values}}vl=new WeakMap;Tc.create=(t,e)=>new Tc({values:t,typeName:ie.ZodNativeEnum,...de(e)});class wa extends me{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Q.promise&&n.common.async===!1)return G(n,{code:B.invalid_type,expected:Q.promise,received:n.parsedType}),oe;const r=n.parsedType===Q.promise?n.data:Promise.resolve(n.data);return zt(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}wa.create=(t,e)=>new wa({type:t,typeName:ie.ZodPromise,...de(e)});class qn extends me{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ie.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{G(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return oe;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?oe:l.status==="dirty"||n.value==="dirty"?bo(l.value):l});{if(n.value==="aborted")return oe;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?oe:a.status==="dirty"||n.value==="dirty"?bo(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?oe:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?oe:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!zi(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>zi(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);Ce.assertNever(s)}}qn.create=(t,e,n)=>new qn({schema:t,typeName:ie.ZodEffects,effect:e,...de(n)});qn.createWithPreprocess=(t,e,n)=>new qn({schema:e,effect:{type:"preprocess",transform:t},typeName:ie.ZodEffects,...de(n)});class mr extends me{_parse(e){return this._getType(e)===Q.undefined?zt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}mr.create=(t,e)=>new mr({innerType:t,typeName:ie.ZodOptional,...de(e)});class Js extends me{_parse(e){return this._getType(e)===Q.null?zt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Js.create=(t,e)=>new Js({innerType:t,typeName:ie.ZodNullable,...de(e)});class xc extends me{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Q.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}xc.create=(t,e)=>new xc({innerType:t,typeName:ie.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...de(e)});class Sc extends me{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return fc(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new an(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new an(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Sc.create=(t,e)=>new Sc({innerType:t,typeName:ie.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...de(e)});class Ah extends me{_parse(e){if(this._getType(e)!==Q.nan){const r=this._getOrReturnCtx(e);return G(r,{code:B.invalid_type,expected:Q.nan,received:r.parsedType}),oe}return{status:"valid",value:e.data}}}Ah.create=t=>new Ah({typeName:ie.ZodNaN,...de(t)});const pU=Symbol("zod_brand");class __ extends me{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Zc extends me{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?oe:i.status==="dirty"?(n.dirty(),bo(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?oe:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Zc({in:e,out:n,typeName:ie.ZodPipeline})}}class Cc extends me{_parse(e){const n=this._def.innerType._parse(e),r=s=>(zi(s)&&(s.value=Object.freeze(s.value)),s);return fc(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Cc.create=(t,e)=>new Cc({innerType:t,typeName:ie.ZodReadonly,...de(e)});function rT(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function iP(t,e={},n){return t?_a.create().superRefine((r,s)=>{var i,o;const a=t(r);if(a instanceof Promise)return a.then(l=>{var u,d;if(!l){const h=rT(e,r),p=(d=(u=h.fatal)!==null&&u!==void 0?u:n)!==null&&d!==void 0?d:!0;s.addIssue({code:"custom",...h,fatal:p})}});if(!a){const l=rT(e,r),u=(o=(i=l.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0;s.addIssue({code:"custom",...l,fatal:u})}}):_a.create()}const mU={object:Ue.lazycreate};var ie;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ie||(ie={}));const gU=(t,e={message:`Input not instance of ${t.name}`})=>iP(n=>n instanceof t,e),oP=Vn.create,aP=Zs.create,yU=Ah.create,vU=Ys.create,lP=pc.create,_U=Bi.create,wU=Ch.create,EU=mc.create,TU=gc.create,xU=_a.create,SU=Ri.create,CU=Yr.create,IU=Ih.create,bU=$n.create,AU=Ue.create,RU=Ue.strictCreate,PU=yc.create,kU=Df.create,NU=vc.create,OU=Er.create,DU=_c.create,MU=bh.create,LU=Hi.create,VU=Bo.create,jU=wc.create,FU=Ec.create,UU=Xs.create,$U=Tc.create,zU=wa.create,sT=qn.create,BU=mr.create,HU=Js.create,WU=qn.createWithPreprocess,qU=Zc.create,GU=()=>oP().optional(),KU=()=>aP().optional(),QU=()=>lP().optional(),ZU={string:t=>Vn.create({...t,coerce:!0}),number:t=>Zs.create({...t,coerce:!0}),boolean:t=>pc.create({...t,coerce:!0}),bigint:t=>Ys.create({...t,coerce:!0}),date:t=>Bi.create({...t,coerce:!0})},YU=oe;var ze=Object.freeze({__proto__:null,defaultErrorMap:va,setErrorMap:W7,getErrorMap:Th,makeIssue:xh,EMPTY_PATH:q7,addIssueToContext:G,ParseStatus:Ot,INVALID:oe,DIRTY:bo,OK:zt,isAborted:Fg,isDirty:Ug,isValid:zi,isAsync:fc,get util(){return Ce},get objectUtil(){return jg},ZodParsedType:Q,getParsedType:Dr,ZodType:me,datetimeRegex:rP,ZodString:Vn,ZodNumber:Zs,ZodBigInt:Ys,ZodBoolean:pc,ZodDate:Bi,ZodSymbol:Ch,ZodUndefined:mc,ZodNull:gc,ZodAny:_a,ZodUnknown:Ri,ZodNever:Yr,ZodVoid:Ih,ZodArray:$n,ZodObject:Ue,ZodUnion:yc,ZodDiscriminatedUnion:Df,ZodIntersection:vc,ZodTuple:Er,ZodRecord:_c,ZodMap:bh,ZodSet:Hi,ZodFunction:Bo,ZodLazy:wc,ZodLiteral:Ec,ZodEnum:Xs,ZodNativeEnum:Tc,ZodPromise:wa,ZodEffects:qn,ZodTransformer:qn,ZodOptional:mr,ZodNullable:Js,ZodDefault:xc,ZodCatch:Sc,ZodNaN:Ah,BRAND:pU,ZodBranded:__,ZodPipeline:Zc,ZodReadonly:Cc,custom:iP,Schema:me,ZodSchema:me,late:mU,get ZodFirstPartyTypeKind(){return ie},coerce:ZU,any:xU,array:bU,bigint:vU,boolean:lP,date:_U,discriminatedUnion:kU,effect:sT,enum:UU,function:VU,instanceof:gU,intersection:NU,lazy:jU,literal:FU,map:MU,nan:yU,nativeEnum:$U,never:CU,null:TU,nullable:HU,number:aP,object:AU,oboolean:QU,onumber:KU,optional:BU,ostring:GU,pipeline:qU,preprocess:WU,promise:zU,record:DU,set:LU,strictObject:RU,string:oP,symbol:wU,transformer:sT,tuple:OU,undefined:EU,union:PU,unknown:SU,void:IU,NEVER:YU,ZodIssueCode:B,quotelessJson:H7,ZodError:an});const XU=ze.enum(["Online","Offline","In Call"]);ze.object({uid:ze.string(),name:ze.string(),email:ze.string().email(),photoURL:ze.string().nullable(),status:XU,customStatus:ze.string().optional(),lastSeen:ze.number()});ze.object({id:ze.string(),name:ze.string(),mimeType:ze.string(),modifiedTime:ze.string(),webViewLink:ze.string(),iconLink:ze.string().optional()});ze.object({id:ze.string(),authorId:ze.string(),authorName:ze.string(),authorPhoto:ze.string().nullable(),message:ze.string().max(500),timestamp:ze.number(),pinned:ze.boolean().default(!1)});const JU=[{label:"In a meeting",emoji:""},{label:"Focus time",emoji:""},{label:"On a break",emoji:""},{label:"Lunch",emoji:""},{label:"Out of office",emoji:""}];function e$({open:t,onOpenChange:e,currentStatus:n,onSave:r}){const[s,i]=g.useState(n||""),[o,a]=g.useState(null),l=()=>{const h=o||s.trim();h&&r(h),e(!1)},u=()=>{r(""),e(!1)},d=h=>{a(h),i("")};return y.jsx(U7,{open:t,onOpenChange:e,children:y.jsxs(qR,{className:"sm:max-w-md",children:[y.jsxs(GR,{children:[y.jsx(QR,{children:"Set custom status"}),y.jsx(ZR,{children:"Let your team know what you're up to"})]}),y.jsxs("div",{className:"space-y-4 py-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(Vg,{children:"Quick presets"}),y.jsx("div",{className:"grid grid-cols-2 gap-2",children:JU.map(h=>y.jsxs(Fr,{variant:"outline",className:`justify-start gap-2 ${o===h.label?"ring-2 ring-primary":""}`,onClick:()=>d(h.label),"data-testid":`button-preset-${h.label.toLowerCase().replace(/\s+/g,"-")}`,children:[y.jsx("span",{children:h.emoji}),y.jsx("span",{className:"truncate",children:h.label}),o===h.label&&y.jsx(EC,{className:"ml-auto w-4 h-4 text-primary"})]},h.label))})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Vg,{htmlFor:"custom-status",children:"Or write your own"}),y.jsx(a_,{id:"custom-status",placeholder:"e.g., Working from home today",value:s,onChange:h=>{i(h.target.value),a(null)},maxLength:50,"data-testid":"input-custom-status"}),y.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.length,"/50 characters"]})]})]}),y.jsxs(KR,{className:"gap-2 sm:gap-0",children:[n&&y.jsx(Fr,{variant:"ghost",onClick:u,"data-testid":"button-clear-status",children:"Clear status"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx(Fr,{variant:"outline",onClick:()=>e(!1),"data-testid":"button-cancel-status",children:"Cancel"}),y.jsx(Fr,{onClick:l,disabled:!o&&!s.trim(),"data-testid":"button-save-status",children:"Save"})]})]})]})})}var om="rovingFocusGroup.onEntryFocus",t$={bubbles:!1,cancelable:!0},Mf="RovingFocusGroup",[zg,cP,n$]=Hy(Mf),[r$,uP]=Tr(Mf,[n$]),[s$,i$]=r$(Mf),dP=g.forwardRef((t,e)=>y.jsx(zg.Provider,{scope:t.__scopeRovingFocusGroup,children:y.jsx(zg.Slot,{scope:t.__scopeRovingFocusGroup,children:y.jsx(o$,{...t,ref:e})})}));dP.displayName=Mf;var o$=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,p=g.useRef(null),v=ke(e,p),x=l_(i),[_=null,S]=Jh({prop:o,defaultProp:a,onChange:l}),[w,E]=g.useState(!1),C=Be(u),k=cP(n),O=g.useRef(!1),[M,I]=g.useState(0);return g.useEffect(()=>{const T=p.current;if(T)return T.addEventListener(om,C),()=>T.removeEventListener(om,C)},[C]),y.jsx(s$,{scope:n,orientation:r,dir:x,loop:s,currentTabStopId:_,onItemFocus:g.useCallback(T=>S(T),[S]),onItemShiftTab:g.useCallback(()=>E(!0),[]),onFocusableItemAdd:g.useCallback(()=>I(T=>T+1),[]),onFocusableItemRemove:g.useCallback(()=>I(T=>T-1),[]),children:y.jsx(ye.div,{tabIndex:w||M===0?-1:0,"data-orientation":r,...h,ref:v,style:{outline:"none",...t.style},onMouseDown:J(t.onMouseDown,()=>{O.current=!0}),onFocus:J(t.onFocus,T=>{const b=!O.current;if(T.target===T.currentTarget&&b&&!w){const R=new CustomEvent(om,t$);if(T.currentTarget.dispatchEvent(R),!R.defaultPrevented){const N=k().filter(re=>re.focusable),D=N.find(re=>re.active),P=N.find(re=>re.id===_),ue=[D,P,...N].filter(Boolean).map(re=>re.ref.current);pP(ue,d)}}O.current=!1}),onBlur:J(t.onBlur,()=>E(!1))})})}),hP="RovingFocusGroupItem",fP=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Mo(),l=i||a,u=i$(hP,n),d=u.currentTabStopId===l,h=cP(n),{onFocusableItemAdd:p,onFocusableItemRemove:v}=u;return g.useEffect(()=>{if(r)return p(),()=>v()},[r,p,v]),y.jsx(zg.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:y.jsx(ye.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:J(t.onMouseDown,x=>{r?u.onItemFocus(l):x.preventDefault()}),onFocus:J(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:J(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const _=c$(x,u.orientation,u.dir);if(_!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=h().filter(E=>E.focusable).map(E=>E.ref.current);if(_==="last")w.reverse();else if(_==="prev"||_==="next"){_==="prev"&&w.reverse();const E=w.indexOf(x.currentTarget);w=u.loop?u$(w,E+1):w.slice(E+1)}setTimeout(()=>pP(w))}})})})});fP.displayName=hP;var a$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function l$(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function c$(t,e,n){const r=l$(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return a$[r]}function pP(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function u$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var d$=dP,h$=fP,Bg=["Enter"," "],f$=["ArrowDown","PageUp","Home"],mP=["ArrowUp","PageDown","End"],p$=[...f$,...mP],m$={ltr:[...Bg,"ArrowRight"],rtl:[...Bg,"ArrowLeft"]},g$={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Yc="Menu",[Ic,y$,v$]=Hy(Yc),[Ji,gP]=Tr(Yc,[v$,af,uP]),Lf=af(),yP=uP(),[_$,eo]=Ji(Yc),[w$,Xc]=Ji(Yc),vP=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=Lf(e),[l,u]=g.useState(null),d=g.useRef(!1),h=Be(i),p=l_(s);return g.useEffect(()=>{const v=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),y.jsx(lM,{...a,children:y.jsx(_$,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:u,children:y.jsx(w$,{scope:e,onClose:g.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:p,modal:o,children:r})})})};vP.displayName=Yc;var E$="MenuAnchor",w_=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Lf(n);return y.jsx(JC,{...s,...r,ref:e})});w_.displayName=E$;var E_="MenuPortal",[T$,_P]=Ji(E_,{forceMount:void 0}),wP=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=eo(E_,e);return y.jsx(T$,{scope:e,forceMount:n,children:y.jsx(Xt,{present:n||i.open,children:y.jsx(Xh,{asChild:!0,container:s,children:r})})})};wP.displayName=E_;var En="MenuContent",[x$,T_]=Ji(En),EP=g.forwardRef((t,e)=>{const n=_P(En,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=eo(En,t.__scopeMenu),o=Xc(En,t.__scopeMenu);return y.jsx(Ic.Provider,{scope:t.__scopeMenu,children:y.jsx(Xt,{present:r||i.open,children:y.jsx(Ic.Slot,{scope:t.__scopeMenu,children:o.modal?y.jsx(S$,{...s,ref:e}):y.jsx(C$,{...s,ref:e})})})})}),S$=g.forwardRef((t,e)=>{const n=eo(En,t.__scopeMenu),r=g.useRef(null),s=ke(e,r);return g.useEffect(()=>{const i=r.current;if(i)return CR(i)},[]),y.jsx(x_,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:J(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),C$=g.forwardRef((t,e)=>{const n=eo(En,t.__scopeMenu);return y.jsx(x_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),I$=aa("MenuContent.ScrollLock"),x_=g.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:v,disableOutsideScroll:x,..._}=t,S=eo(En,n),w=Xc(En,n),E=Lf(n),C=yP(n),k=y$(n),[O,M]=g.useState(null),I=g.useRef(null),T=ke(e,I,S.onContentChange),b=g.useRef(0),R=g.useRef(""),N=g.useRef(0),D=g.useRef(null),P=g.useRef("right"),W=g.useRef(0),ue=x?p_:g.Fragment,re=x?{as:I$,allowPinchZoom:!0}:void 0,Te=F=>{var dt,br;const K=R.current+F,ne=k().filter(Dt=>!Dt.disabled),ve=document.activeElement,ut=(dt=ne.find(Dt=>Dt.ref.current===ve))==null?void 0:dt.textValue,Ze=ne.map(Dt=>Dt.textValue),dn=j$(Ze,K,ut),it=(br=ne.find(Dt=>Dt.textValue===dn))==null?void 0:br.ref.current;(function Dt(si){R.current=si,window.clearTimeout(b.current),si!==""&&(b.current=window.setTimeout(()=>Dt(""),1e3))})(K),it&&setTimeout(()=>it.focus())};g.useEffect(()=>()=>window.clearTimeout(b.current),[]),gR();const j=g.useCallback(F=>{var ne,ve;return P.current===((ne=D.current)==null?void 0:ne.side)&&U$(F,(ve=D.current)==null?void 0:ve.area)},[]);return y.jsx(x$,{scope:n,searchRef:R,onItemEnter:g.useCallback(F=>{j(F)&&F.preventDefault()},[j]),onItemLeave:g.useCallback(F=>{var K;j(F)||((K=I.current)==null||K.focus(),M(null))},[j]),onTriggerLeave:g.useCallback(F=>{j(F)&&F.preventDefault()},[j]),pointerGraceTimerRef:N,onPointerGraceIntentChange:g.useCallback(F=>{D.current=F},[]),children:y.jsx(ue,{...re,children:y.jsx(f_,{asChild:!0,trapped:s,onMountAutoFocus:J(i,F=>{var K;F.preventDefault(),(K=I.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:y.jsx(Vc,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:v,children:y.jsx(d$,{asChild:!0,...C,dir:w.dir,orientation:"vertical",loop:r,currentTabStopId:O,onCurrentTabStopIdChange:M,onEntryFocus:J(l,F=>{w.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:y.jsx(eI,{role:"menu","aria-orientation":"vertical","data-state":VP(S.open),"data-radix-menu-content":"",dir:w.dir,...E,..._,ref:T,style:{outline:"none",..._.style},onKeyDown:J(_.onKeyDown,F=>{const ne=F.target.closest("[data-radix-menu-content]")===F.currentTarget,ve=F.ctrlKey||F.altKey||F.metaKey,ut=F.key.length===1;ne&&(F.key==="Tab"&&F.preventDefault(),!ve&&ut&&Te(F.key));const Ze=I.current;if(F.target!==Ze||!p$.includes(F.key))return;F.preventDefault();const it=k().filter(dt=>!dt.disabled).map(dt=>dt.ref.current);mP.includes(F.key)&&it.reverse(),L$(it)}),onBlur:J(t.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(b.current),R.current="")}),onPointerMove:J(t.onPointerMove,bc(F=>{const K=F.target,ne=W.current!==F.clientX;if(F.currentTarget.contains(K)&&ne){const ve=F.clientX>W.current?"right":"left";P.current=ve,W.current=F.clientX}}))})})})})})})});EP.displayName=En;var b$="MenuGroup",S_=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return y.jsx(ye.div,{role:"group",...r,ref:e})});S_.displayName=b$;var A$="MenuLabel",TP=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return y.jsx(ye.div,{...r,ref:e})});TP.displayName=A$;var Rh="MenuItem",iT="menu.itemSelect",Vf=g.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=g.useRef(null),o=Xc(Rh,t.__scopeMenu),a=T_(Rh,t.__scopeMenu),l=ke(e,i),u=g.useRef(!1),d=()=>{const h=i.current;if(!n&&h){const p=new CustomEvent(iT,{bubbles:!0,cancelable:!0});h.addEventListener(iT,v=>r==null?void 0:r(v),{once:!0}),Wy(h,p),p.defaultPrevented?u.current=!1:o.onClose()}};return y.jsx(xP,{...s,ref:l,disabled:n,onClick:J(t.onClick,d),onPointerDown:h=>{var p;(p=t.onPointerDown)==null||p.call(t,h),u.current=!0},onPointerUp:J(t.onPointerUp,h=>{var p;u.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:J(t.onKeyDown,h=>{const p=a.searchRef.current!=="";n||p&&h.key===" "||Bg.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Vf.displayName=Rh;var xP=g.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=T_(Rh,n),a=yP(n),l=g.useRef(null),u=ke(e,l),[d,h]=g.useState(!1),[p,v]=g.useState("");return g.useEffect(()=>{const x=l.current;x&&v((x.textContent??"").trim())},[i.children]),y.jsx(Ic.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:y.jsx(h$,{asChild:!0,...a,focusable:!r,children:y.jsx(ye.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:J(t.onPointerMove,bc(x=>{r?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:J(t.onPointerLeave,bc(x=>o.onItemLeave(x))),onFocus:J(t.onFocus,()=>h(!0)),onBlur:J(t.onBlur,()=>h(!1))})})})}),R$="MenuCheckboxItem",SP=g.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return y.jsx(RP,{scope:t.__scopeMenu,checked:n,children:y.jsx(Vf,{role:"menuitemcheckbox","aria-checked":Ph(n)?"mixed":n,...s,ref:e,"data-state":I_(n),onSelect:J(s.onSelect,()=>r==null?void 0:r(Ph(n)?!0:!n),{checkForDefaultPrevented:!1})})})});SP.displayName=R$;var CP="MenuRadioGroup",[P$,k$]=Ji(CP,{value:void 0,onValueChange:()=>{}}),IP=g.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Be(r);return y.jsx(P$,{scope:t.__scopeMenu,value:n,onValueChange:i,children:y.jsx(S_,{...s,ref:e})})});IP.displayName=CP;var bP="MenuRadioItem",AP=g.forwardRef((t,e)=>{const{value:n,...r}=t,s=k$(bP,t.__scopeMenu),i=n===s.value;return y.jsx(RP,{scope:t.__scopeMenu,checked:i,children:y.jsx(Vf,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":I_(i),onSelect:J(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});AP.displayName=bP;var C_="MenuItemIndicator",[RP,N$]=Ji(C_,{checked:!1}),PP=g.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=N$(C_,n);return y.jsx(Xt,{present:r||Ph(i.checked)||i.checked===!0,children:y.jsx(ye.span,{...s,ref:e,"data-state":I_(i.checked)})})});PP.displayName=C_;var O$="MenuSeparator",kP=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return y.jsx(ye.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});kP.displayName=O$;var D$="MenuArrow",NP=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Lf(n);return y.jsx(tI,{...s,...r,ref:e})});NP.displayName=D$;var M$="MenuSub",[Wz,OP]=Ji(M$),_l="MenuSubTrigger",DP=g.forwardRef((t,e)=>{const n=eo(_l,t.__scopeMenu),r=Xc(_l,t.__scopeMenu),s=OP(_l,t.__scopeMenu),i=T_(_l,t.__scopeMenu),o=g.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,u={__scopeMenu:t.__scopeMenu},d=g.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return g.useEffect(()=>d,[d]),g.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),y.jsx(w_,{asChild:!0,...u,children:y.jsx(xP,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":VP(n.open),...t,ref:Yh(e,s.onTriggerChange),onClick:h=>{var p;(p=t.onClick)==null||p.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:J(t.onPointerMove,bc(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:J(t.onPointerLeave,bc(h=>{var v,x;d();const p=(v=n.content)==null?void 0:v.getBoundingClientRect();if(p){const _=(x=n.content)==null?void 0:x.dataset.side,S=_==="right",w=S?-5:5,E=p[S?"left":"right"],C=p[S?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+w,y:h.clientY},{x:E,y:p.top},{x:C,y:p.top},{x:C,y:p.bottom},{x:E,y:p.bottom}],side:_}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:J(t.onKeyDown,h=>{var v;const p=i.searchRef.current!=="";t.disabled||p&&h.key===" "||m$[r.dir].includes(h.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),h.preventDefault())})})})});DP.displayName=_l;var MP="MenuSubContent",LP=g.forwardRef((t,e)=>{const n=_P(En,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=eo(En,t.__scopeMenu),o=Xc(En,t.__scopeMenu),a=OP(MP,t.__scopeMenu),l=g.useRef(null),u=ke(e,l);return y.jsx(Ic.Provider,{scope:t.__scopeMenu,children:y.jsx(Xt,{present:r||i.open,children:y.jsx(Ic.Slot,{scope:t.__scopeMenu,children:y.jsx(x_,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:J(t.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:J(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:J(t.onKeyDown,d=>{var v;const h=d.currentTarget.contains(d.target),p=g$[o.dir].includes(d.key);h&&p&&(i.onOpenChange(!1),(v=a.trigger)==null||v.focus(),d.preventDefault())})})})})})});LP.displayName=MP;function VP(t){return t?"open":"closed"}function Ph(t){return t==="indeterminate"}function I_(t){return Ph(t)?"indeterminate":t?"checked":"unchecked"}function L$(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function V$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function j$(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=V$(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function F$(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,u=e[o].x,d=e[o].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function U$(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return F$(n,e)}function bc(t){return e=>e.pointerType==="mouse"?t(e):void 0}var $$=vP,z$=w_,B$=wP,H$=EP,W$=S_,q$=TP,G$=Vf,K$=SP,Q$=IP,Z$=AP,Y$=PP,X$=kP,J$=NP,ez=DP,tz=LP,b_="DropdownMenu",[nz,qz]=Tr(b_,[gP]),Wt=gP(),[rz,jP]=nz(b_),FP=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=Wt(e),u=g.useRef(null),[d=!1,h]=Jh({prop:s,defaultProp:i,onChange:o});return y.jsx(rz,{scope:e,triggerId:Mo(),triggerRef:u,contentId:Mo(),open:d,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(p=>!p),[h]),modal:a,children:y.jsx($$,{...l,open:d,onOpenChange:h,dir:r,modal:a,children:n})})};FP.displayName=b_;var UP="DropdownMenuTrigger",$P=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=jP(UP,n),o=Wt(n);return y.jsx(z$,{asChild:!0,...o,children:y.jsx(ye.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Yh(e,i.triggerRef),onPointerDown:J(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:J(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});$P.displayName=UP;var sz="DropdownMenuPortal",zP=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Wt(e);return y.jsx(B$,{...r,...n})};zP.displayName=sz;var BP="DropdownMenuContent",HP=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=jP(BP,n),i=Wt(n),o=g.useRef(!1);return y.jsx(H$,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:J(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:J(t.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});HP.displayName=BP;var iz="DropdownMenuGroup",oz=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Wt(n);return y.jsx(W$,{...s,...r,ref:e})});oz.displayName=iz;var az="DropdownMenuLabel",WP=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Wt(n);return y.jsx(q$,{...s,...r,ref:e})});WP.displayName=az;var lz="DropdownMenuItem",qP=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Wt(n);return y.jsx(G$,{...s,...r,ref:e})});qP.displayName=lz;var cz="DropdownMenuCheckboxItem",GP=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Wt(n);return y.jsx(K$,{...s,...r,ref:e})});GP.displayName=cz;var uz="DropdownMenuRadioGroup",dz=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Wt(n);return y.jsx(Q$,{...s,...r,ref:e})});dz.displayName=uz;var hz="DropdownMenuRadioItem",KP=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Wt(n);return y.jsx(Z$,{...s,...r,ref:e})});KP.displayName=hz;var fz="DropdownMenuItemIndicator",QP=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Wt(n);return y.jsx(Y$,{...s,...r,ref:e})});QP.displayName=fz;var pz="DropdownMenuSeparator",ZP=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Wt(n);return y.jsx(X$,{...s,...r,ref:e})});ZP.displayName=pz;var mz="DropdownMenuArrow",gz=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Wt(n);return y.jsx(J$,{...s,...r,ref:e})});gz.displayName=mz;var yz="DropdownMenuSubTrigger",YP=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Wt(n);return y.jsx(ez,{...s,...r,ref:e})});YP.displayName=yz;var vz="DropdownMenuSubContent",XP=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Wt(n);return y.jsx(tz,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});XP.displayName=vz;var _z=FP,wz=$P,Ez=zP,JP=HP,e2=WP,t2=qP,n2=GP,r2=KP,s2=QP,i2=ZP,o2=YP,a2=XP;const Tz=_z,xz=wz,Sz=g.forwardRef(({className:t,inset:e,children:n,...r},s)=>y.jsxs(o2,{ref:s,className:xe("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,y.jsx(cD,{className:"ml-auto"})]}));Sz.displayName=o2.displayName;const Cz=g.forwardRef(({className:t,...e},n)=>y.jsx(a2,{ref:n,className:xe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));Cz.displayName=a2.displayName;const l2=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>y.jsx(Ez,{children:y.jsx(JP,{ref:r,sideOffset:e,className:xe("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));l2.displayName=JP.displayName;const Hg=g.forwardRef(({className:t,inset:e,...n},r)=>y.jsx(t2,{ref:r,className:xe("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n}));Hg.displayName=t2.displayName;const Iz=g.forwardRef(({className:t,children:e,checked:n,...r},s)=>y.jsxs(n2,{ref:s,className:xe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(s2,{children:y.jsx(EC,{className:"h-4 w-4"})})}),e]}));Iz.displayName=n2.displayName;const bz=g.forwardRef(({className:t,children:e,...n},r)=>y.jsxs(r2,{ref:r,className:xe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(s2,{children:y.jsx(uD,{className:"h-2 w-2 fill-current"})})}),e]}));bz.displayName=r2.displayName;const c2=g.forwardRef(({className:t,inset:e,...n},r)=>y.jsx(e2,{ref:r,className:xe("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));c2.displayName=e2.displayName;const u2=g.forwardRef(({className:t,...e},n)=>y.jsx(i2,{ref:n,className:xe("-mx-1 my-1 h-px bg-muted",t),...e}));u2.displayName=i2.displayName;const Az="https://meet.google.com/ers-kcmp-bnf";function Rz(){var C,k;const[t,e]=g.useState([]),[n,r]=g.useState(!0),[s,i]=g.useState(!1),[o,a]=g.useState(!1),l=On.currentUser,{updateStatus:u,updateCustomStatus:d}=jA(),{toast:h}=Zh(),p=t.find(O=>O.uid===(l==null?void 0:l.uid));g.useEffect(()=>{if(!l)return;const O=RA(Mg(vn,"users")),M=OA(O,I=>{const T=[];I.forEach(b=>{T.push(b.data())}),e(T),r(!1)},I=>{console.error("Error fetching team members:",I),r(!1),h({title:"Error loading team",description:"Failed to fetch team members. Please refresh the page.",variant:"destructive"})});return()=>M()},[l,h]);const v=async()=>{try{if(l){const O=fi(vn,"users",l.uid);await fo(O,{status:"Offline",lastSeen:Date.now()},{merge:!0})}await zI(On)}catch(O){console.error("Error signing out:",O),h({title:"Error signing out",description:"Please try again.",variant:"destructive"})}},x=async()=>{if(l){i(!0);try{if(!window.open(Az,"_blank")){h({title:"Popup bloqueado",description:"Por favor, permita popups para este site.",variant:"destructive"}),i(!1);return}await u("In Call"),h({title:"Entrando na reunio",description:"Voc foi marcado como 'In Call'"})}catch(O){console.error("Error joining meet:",O),h({title:"Erro ao entrar na reunio",description:"Por favor, tente novamente.",variant:"destructive"})}setTimeout(()=>{i(!1)},1e3)}},_=async O=>{await d(O),h({title:"Status updated",description:O?`Your status is now: "${O}"`:"Status cleared"})};if(!l)return null;const S=((C=l.displayName)==null?void 0:C.split(" ").map(O=>O[0]).join("").toUpperCase().slice(0,2))||"U",w=t.filter(O=>O.status==="Online").length,E=t.filter(O=>O.status==="In Call").length;return y.jsxs("div",{className:"min-h-screen bg-background",children:[y.jsx("header",{className:"sticky top-0 z-50 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-16 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("svg",{width:"42",height:"18",viewBox:"0 0 504 216",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("path",{d:"M503.361 6.12384V33.8438C503.361 35.451 502.722 36.9924 501.586 38.1289C500.449 39.2654 498.908 39.9038 497.301 39.9038H440.461V212.814H398.311V46.0038C398.311 44.3966 397.672 42.8552 396.536 41.7188C395.399 40.5823 393.858 39.9438 392.251 39.9438H356.051L302.281 109.464C301.591 110.346 301.161 111.403 301.041 112.517C300.921 113.63 301.115 114.755 301.601 115.764L347.771 213.004H306.611C305.455 213.003 304.323 212.672 303.349 212.051C302.375 211.429 301.598 210.542 301.111 209.494L270.571 143.494L221.761 210.494C221.198 211.264 220.463 211.89 219.613 212.323C218.764 212.756 217.824 212.982 216.871 212.984H173.801L254.071 108.264L205.401 6.12384H246.841C247.998 6.11873 249.132 6.44829 250.106 7.07283C251.08 7.69736 251.853 8.59022 252.331 9.64384L279.331 68.1238C279.778 69.0765 280.465 69.8963 281.325 70.5027C282.185 71.109 283.188 71.4809 284.236 71.5819C285.283 71.6828 286.339 71.5092 287.299 71.0782C288.259 70.6472 289.09 69.9736 289.711 69.1238L336.001 6.12384H503.361Z",fill:"url(#paint0_radial_73_480)"}),y.jsx("path",{d:"M210.84 99.7138V143.324C210.842 147.788 209.338 152.122 206.57 155.624L173.39 197.684V168.544C173.2 169.044 172.99 169.544 172.78 170.074C170.483 175.413 167.595 180.478 164.17 185.174C160.129 190.733 155.294 195.669 149.82 199.824C136.565 209.952 120.289 215.326 103.61 215.084C89.924 215.166 76.3614 212.493 63.73 207.224C51.3275 202.052 40.0839 194.453 30.66 184.874C21.0011 175.075 13.354 163.481 8.15 150.744C2.71667 137.657 0 123.157 0 107.244C0 91.3305 2.71667 76.8305 8.15 63.7438C13.3423 51.0331 21.0686 39.5128 30.8579 29.885C40.6472 20.2573 52.2946 12.7239 65.09 7.74383C78.518 2.5122 92.8194 -0.114588 107.23 0.00383265C129.783 0.00383265 149.42 5.0905 166.14 15.2638C181.113 24.3772 192.207 37.2405 199.42 53.8538C199.747 54.6115 199.915 55.4278 199.916 56.2529C199.916 57.078 199.749 57.8945 199.423 58.6526C199.097 59.4107 198.62 60.0944 198.022 60.662C197.423 61.2296 196.714 61.6692 195.94 61.9538L178.88 68.2238C174.077 69.9552 168.84 70.0696 163.965 68.5496C159.091 67.0296 154.848 63.9585 151.88 59.8038L151.78 59.6638C148.502 55.1723 144.525 51.2357 140 48.0038C135.389 44.7484 130.289 42.2502 124.89 40.6038C119.053 38.8474 112.985 37.981 106.89 38.0338C94.3967 38.0338 83.37 40.9038 73.81 46.6438C64.197 52.4635 56.4544 60.9176 51.5 71.0038C46.1667 81.4705 43.5 93.5538 43.5 107.254C43.5 121.554 46.1667 133.937 51.5 144.404C56.5478 154.576 64.4816 163.035 74.31 168.724C84.17 174.464 95.95 177.334 109.65 177.334C117.126 177.41 124.536 175.918 131.4 172.954C137.941 170.103 143.923 166.115 149.07 161.174C154.051 156.442 158.231 150.934 161.45 144.864C163.019 141.893 164.391 138.823 165.56 135.674C165.9 134.757 166.013 133.771 165.89 132.801C165.768 131.831 165.412 130.905 164.854 130.102C164.297 129.298 163.553 128.642 162.687 128.188C161.821 127.734 160.858 127.496 159.88 127.494H105.14C103.533 127.494 101.991 126.855 100.855 125.719C99.7185 124.582 99.08 123.041 99.08 121.434V99.7138C99.08 98.1066 99.7185 96.5652 100.855 95.4288C101.991 94.2923 103.533 93.6538 105.14 93.6538H204.78C206.387 93.6538 207.929 94.2923 209.065 95.4288C210.202 96.5652 210.84 98.1066 210.84 99.7138Z",fill:"url(#paint1_radial_73_480)"}),y.jsxs("defs",{children:[y.jsxs("radialGradient",{id:"paint0_radial_73_480",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(185.597 104.28 -166.118 152.284 173.801 103.084)",gradientUnits:"userSpaceOnUse",children:[y.jsx("stop",{stopColor:"#008FFF"}),y.jsx("stop",{offset:"1",stopColor:"#0052CC"})]}),y.jsxs("radialGradient",{id:"paint1_radial_73_480",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(118.738 108.419 -106.276 158.328 -4.57836e-06 100.809)",gradientUnits:"userSpaceOnUse",children:[y.jsx("stop",{stopColor:"#008FFF"}),y.jsx("stop",{offset:"1",stopColor:"#0052CC"})]})]})]}),y.jsx("h1",{className:"text-lg font-semibold","data-testid":"text-app-title",children:"XTRADERS Space"})]}),y.jsxs(Tz,{children:[y.jsx(xz,{asChild:!0,children:y.jsx(Fr,{variant:"ghost",className:"relative h-9 w-9 rounded-full","data-testid":"button-user-menu",children:y.jsxs(Af,{className:"h-9 w-9",children:[y.jsx(Rf,{src:l.photoURL||void 0,alt:l.displayName||"User"}),y.jsx(Pf,{className:"bg-primary/10 text-primary font-medium",children:S})]})})}),y.jsxs(l2,{align:"end",className:"w-56",children:[y.jsx(c2,{children:y.jsxs("div",{className:"flex flex-col space-y-1",children:[y.jsx("p",{className:"text-sm font-medium leading-none","data-testid":"text-user-name",children:l.displayName}),y.jsx("p",{className:"text-xs leading-none text-muted-foreground","data-testid":"text-user-email",children:l.email})]})}),y.jsx(u2,{}),y.jsxs(Hg,{onClick:()=>a(!0),"data-testid":"button-set-status",children:[y.jsx(sg,{className:"mr-2 h-4 w-4"}),y.jsx("span",{children:"Set status message"})]}),y.jsxs(Hg,{onClick:v,"data-testid":"button-signout",children:[y.jsx(hD,{className:"mr-2 h-4 w-4"}),y.jsx("span",{children:"Sign out"})]})]})]})]})}),y.jsx(e$,{open:o,onOpenChange:a,currentStatus:p==null?void 0:p.customStatus,onSave:_}),y.jsx("main",{className:"max-w-7xl mx-auto px-6 py-12",children:y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsxs("h2",{className:"text-2xl font-semibold","data-testid":"text-welcome",children:["Welcome back, ",(k=l.displayName)==null?void 0:k.split(" ")[0]]}),y.jsxs("p",{className:"text-muted-foreground",children:[w," team member",w!==1?"s":""," online",E>0&&`  ${E} in call`]})]}),y.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:y.jsxs(Fr,{size:"lg",onClick:x,disabled:s,className:"gap-2 px-6 transition-all duration-200 hover:-translate-y-0.5 active:translate-y-0","data-testid":"button-join-meet",children:[y.jsx(yD,{className:"w-5 h-5"}),s?"Joining...":"Join Team Meeting",y.jsx(dD,{className:"w-4 h-4 ml-1"})]})}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[y.jsxs("div",{className:"lg:col-span-3 space-y-4",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-medium",children:"Team Members"}),y.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":"text-team-count",children:[t.length," member",t.length!==1?"s":""]})]}),n?y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2 gap-6",children:[...Array(6)].map((O,M)=>y.jsx(vF,{},M))}):t.length===0?y.jsxs("div",{className:"text-center py-12",children:[y.jsx("div",{className:"flex justify-center mb-4",children:y.jsxs("svg",{width:"48",height:"20",viewBox:"0 0 504 216",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"opacity-50",children:[y.jsx("path",{d:"M503.361 6.12384V33.8438C503.361 35.451 502.722 36.9924 501.586 38.1289C500.449 39.2654 498.908 39.9038 497.301 39.9038H440.461V212.814H398.311V46.0038C398.311 44.3966 397.672 42.8552 396.536 41.7188C395.399 40.5823 393.858 39.9438 392.251 39.9438H356.051L302.281 109.464C301.591 110.346 301.161 111.403 301.041 112.517C300.921 113.63 301.115 114.755 301.601 115.764L347.771 213.004H306.611C305.455 213.003 304.323 212.672 303.349 212.051C302.375 211.429 301.598 210.542 301.111 209.494L270.571 143.494L221.761 210.494C221.198 211.264 220.463 211.89 219.613 212.323C218.764 212.756 217.824 212.982 216.871 212.984H173.801L254.071 108.264L205.401 6.12384H246.841C247.998 6.11873 249.132 6.44829 250.106 7.07283C251.08 7.69736 251.853 8.59022 252.331 9.64384L279.331 68.1238C279.778 69.0765 280.465 69.8963 281.325 70.5027C282.185 71.109 283.188 71.4809 284.236 71.5819C285.283 71.6828 286.339 71.5092 287.299 71.0782C288.259 70.6472 289.09 69.9736 289.711 69.1238L336.001 6.12384H503.361Z",fill:"currentColor"}),y.jsx("path",{d:"M210.84 99.7138V143.324C210.842 147.788 209.338 152.122 206.57 155.624L173.39 197.684V168.544C173.2 169.044 172.99 169.544 172.78 170.074C170.483 175.413 167.595 180.478 164.17 185.174C160.129 190.733 155.294 195.669 149.82 199.824C136.565 209.952 120.289 215.326 103.61 215.084C89.924 215.166 76.3614 212.493 63.73 207.224C51.3275 202.052 40.0839 194.453 30.66 184.874C21.0011 175.075 13.354 163.481 8.15 150.744C2.71667 137.657 0 123.157 0 107.244C0 91.3305 2.71667 76.8305 8.15 63.7438C13.3423 51.0331 21.0686 39.5128 30.8579 29.885C40.6472 20.2573 52.2946 12.7239 65.09 7.74383C78.518 2.5122 92.8194 -0.114588 107.23 0.00383265C129.783 0.00383265 149.42 5.0905 166.14 15.2638C181.113 24.3772 192.207 37.2405 199.42 53.8538C199.747 54.6115 199.915 55.4278 199.916 56.2529C199.916 57.078 199.749 57.8945 199.423 58.6526C199.097 59.4107 198.62 60.0944 198.022 60.662C197.423 61.2296 196.714 61.6692 195.94 61.9538L178.88 68.2238C174.077 69.9552 168.84 70.0696 163.965 68.5496C159.091 67.0296 154.848 63.9585 151.88 59.8038L151.78 59.6638C148.502 55.1723 144.525 51.2357 140 48.0038C135.389 44.7484 130.289 42.2502 124.89 40.6038C119.053 38.8474 112.985 37.981 106.89 38.0338C94.3967 38.0338 83.37 40.9038 73.81 46.6438C64.197 52.4635 56.4544 60.9176 51.5 71.0038C46.1667 81.4705 43.5 93.5538 43.5 107.254C43.5 121.554 46.1667 133.937 51.5 144.404C56.5478 154.576 64.4816 163.035 74.31 168.724C84.17 174.464 95.95 177.334 109.65 177.334C117.126 177.41 124.536 175.918 131.4 172.954C137.941 170.103 143.923 166.115 149.07 161.174C154.051 156.442 158.231 150.934 161.45 144.864C163.019 141.893 164.391 138.823 165.56 135.674C165.9 134.757 166.013 133.771 165.89 132.801C165.768 131.831 165.412 130.905 164.854 130.102C164.297 129.298 163.553 128.642 162.687 128.188C161.821 127.734 160.858 127.496 159.88 127.494H105.14C103.533 127.494 101.991 126.855 100.855 125.719C99.7185 124.582 99.08 123.041 99.08 121.434V99.7138C99.08 98.1066 99.7185 96.5652 100.855 95.4288C101.991 94.2923 103.533 93.6538 105.14 93.6538H204.78C206.387 93.6538 207.929 94.2923 209.065 95.4288C210.202 96.5652 210.84 98.1066 210.84 99.7138Z",fill:"currentColor"})]})}),y.jsx("p",{className:"text-muted-foreground",children:"No team members yet"})]}):y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2 gap-6",children:t.sort((O,M)=>{if(O.uid===l.uid)return-1;if(M.uid===l.uid)return 1;const I={"In Call":0,Online:1,Offline:2};return I[O.status]-I[M.status]}).map(O=>y.jsx(yF,{member:O,isCurrentUser:O.uid===l.uid},O.uid))})]}),y.jsx("div",{className:"lg:col-span-2",children:y.jsx(DF,{})})]})]})})]})}function Pz(){const[t,e]=g.useState(null),[n,r]=g.useState(!0);return jA(),g.useEffect(()=>{const s=yg(On,i=>{i?(console.log(" Auth state: User signed in"),console.log("User:",i.displayName,i.email)):console.log(" Auth state: No user"),e(i),r(!1)});return()=>s()},[]),n?y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:y.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):y.jsx(US,{base:"/xtraders-space/",children:y.jsxs(j4,{children:[y.jsx(Pp,{path:"/",children:t?y.jsx(Rz,{}):y.jsx(kp,{to:"/login"})}),y.jsx(Pp,{path:"/login",children:t?y.jsx(kp,{to:"/"}):y.jsx(uF,{})}),y.jsx(Pp,{children:y.jsx(kp,{to:"/"})})]})})}function kz(){return y.jsx(lO,{client:dO,children:y.jsxs(IM,{children:[y.jsx(JD,{}),y.jsx(Pz,{})]})})}RS(document.getElementById("root")).render(y.jsx(kz,{}));
